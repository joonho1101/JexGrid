/**
 * JexGrid Build 17
 * Date: Fri Aug 5 16:57:18 KST 2011
 */
/*
AUTHOR

	The JexGrid was written and is maintained by:
		Joon Ho Cho <joonho1101@gmail.com>

COPYRIGHT

	Copyright (c) 2010-2011, WebCash Inc. All rights reserved.

LICENSE

	- JexGrid License Policy -

	JexGrid 는 상업적 용도로 사용될 경우와 개인 용도로 사용될 경우의 두가지 다른 라이센스 정책을 가집니다.
	상업적 용도로 사용될 경우 라이센스를 구매하여야 하고, 개인 용도로 사용될 경우에는 GNU GPL License Version 3 정책을 따릅니다.

	1. 상업용: Commercial Software License
		- 도메인 당 1억원의 라이센스 가격이 청구됩니다. (List Price 기준)
		- 웹케시 내부 개발 프로젝트에 사용될 경우는 다음의 정책을 따릅니다.
			- 개발 기간 기술지원 비용: 프로젝트 개발 인력 * 100만원 / 1년
			- 상품에 포함되어 외부로 판매되는 경우: 프로젝트 도메인 당 1000만원의 솔루션 가격이 청구됩니다.

	2. 개인용: Open Source License

		- GNU GPL License Version 3 라이센스의 원칙을 따릅니다.

		JexGrid - A Fast, Comprehensive, and Flexible JavaScript Grid Library
		Copyright (C) 2011  Joon Ho Cho

		This program is free software: you can redistribute it and/or modify
		it under the terms of the GNU General Public License as published by
		the Free Software Foundation, either version 3 of the License, or
		(at your option) any later version.

		This program is distributed in the hope that it will be useful,
		but WITHOUT ANY WARRANTY; without even the implied warranty of
		MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
		GNU General Public License for more details.

		You should have received a copy of the GNU General Public License
		along with this program.  If not, see <http://www.gnu.org/licenses/>.

		- 중요 내용 요약:
			- 상용 이용 가능
			- 결합 소스 공개의 의무
			- 특허 허용 제한
			- 라이센스 전파의 의무
			- JexGrid 작성자는 사용자 요청에 의한 버그 패치의 의무가 없습니다.

	어떠한 경우에도 사용자는 위의 라이센스 정책을 수정하거나 삭제할 수 없습니다.


// Copyright 2006 The Closure Library Authors. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS-IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
*/

(function(){var array_extension={};
(function(){var g=Array.prototype;if(!g.indexOf)g.indexOf=function(g){if(this===void 0||this===null)throw new TypeError;var f=Object(this),b=f.length>>>0;if(b===0)return-1;var a=0;arguments.length>0&&(a=Number(arguments[1]),a!==a?a=0:a!==0&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))));if(a>=b)return-1;for(a=a>=0?a:Math.max(b-Math.abs(a),0);a<b;a++)if(a in f&&f[a]===g)return a;return-1};if(!g.lastIndexOf)g.lastIndexOf=function(g){if(this===void 0||this===null)throw new TypeError;var f=
Object(this),b=f.length>>>0;if(b===0)return-1;var a=b;arguments.length>1&&(a=Number(arguments[1]),a!==a?a=0:a!==0&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))));for(b=a>=0?Math.min(a,b-1):b-Math.abs(a);b>=0;b--)if(b in f&&f[b]===g)return b;return-1};if(!g.filter)g.filter=function(g,f){if(this===void 0||this===null)throw new TypeError;var b=Object(this),a=b.length>>>0;if(typeof g!=="function")throw new TypeError;for(var c=[],d=0;d<a;d++)if(d in b){var e=b[d];g.call(f,e,d,b)&&c.push(e)}return c};
if(!g.forEach)g.forEach=function(g,f){var b,a=Object(this),c=a.length>>>0,d=0;if(!g||!g.call)throw new TypeError;for(f&&(b=f);d<c;){var e=String(d);a.hasOwnProperty(e)&&(e=a[e],g.call(b,e,d,a));d++}};if(!g.every)g.every=function(g,f){if(this===void 0||this===null)throw new TypeError;var b=Object(this),a=b.length>>>0;if(typeof g!=="function")throw new TypeError;for(var c=0;c<a;c++)if(c in b&&!g.call(f,b[c],c,b))return!1;return!0};if(!g.map)g.map=function(g,f){if(this===void 0||this===null)throw new TypeError;
var b=Object(this),a=b.length>>>0;if(typeof g!=="function")throw new TypeError;for(var c=Array(a),d=0;d<a;d++)d in b&&(c[d]=g.call(f,b[d],d,b));return c};if(!g.some)g.some=function(g,f){if(this===void 0||this===null)throw new TypeError;var b=Object(this),a=b.length>>>0;if(typeof g!=="function")throw new TypeError;for(var c=0;c<a;c++)if(c in b&&g.call(f,b[c],c,b))return!0;return!1};if(!g.reduce)g.reduce=function(g){var f,b=this.length,a;if(typeof g!=="function")throw new TypeError("First argument is not callable");
if((b==0||b===null)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");arguments.length<=1?(a=this[0],f=1):a=arguments[1];for(f=f||0;f<b;++f)f in this&&(a=g.call(void 0,a,this[f],f,this));return a};if(!g.reduceRight)g.reduceRight=function(g){if(this===void 0||this===null)throw new TypeError;var f=Object(this),b=f.length>>>0;if(typeof g!=="function")throw new TypeError;if(b===0&&arguments.length===1)throw new TypeError;b-=1;var a;if(arguments.length>=2)a=arguments[1];
else{do{if(b in this){a=this[b--];break}if(--b<0)throw new TypeError;}while(1)}for(;b>=0;)b in f&&(a=g.call(void 0,a,f[b],b,f)),b--;return a}})();var engine_extension={};
(function(){var g=Number.prototype,h=String.prototype,f=Array.prototype;if(!g.toFixedFloat)g.toFixedFloat=function(b){return parseFloat(this.toFixed(b))};if(!h.toInt)h.toInt=function(){var b;if((b=this.replace(/[^\d\.\-]/g,"")).length===0)return NaN;for(var a,c=0,d=0,e=b.length,q=0,i=!1;q<e;q++)if(a=b.charAt(q),a==="."){if(++c===2){i=!0;break}}else if(a==="-"&&++d===2){i=!0;break}return i===!0&&(b=b.replace(/[\.\-]/g,"")).length===0?NaN:/^-*0*\./.test(b)||(b=b.replace(/^-0+/,"-")).length===0||(b=
b.replace(/^0+/,"")).length===0?0:parseInt(b,10)};if(!h.toFloat)h.toFloat=function(){var b;if((b=this.replace(/[^-\d\.]/g,"")).length===0)return NaN;for(var a=0,c=b.length,d,e=0,q=0;a<c;a++)if(d=b.charAt(a),d===".")if(e!==0)return NaN;else e++;else if(d==="-")if(q!==0)return NaN;else q++;return parseFloat(b)};if(!f.remove)f.remove=function(b){if(this.length===0)return-1;b=this.indexOf(b);b!==-1&&this.splice(b,1);return b};if(!f.removeAll)f.removeAll=function(b){if(this.length===0)return this;for(var a=
this.length;(a=this.lastIndexOf(b,a-1))!==-1;)if(this.splice(a,1),a===0)break;return this};if(!f.removeList)f.removeList=function(b){if(this.length===0||b.length===0)return this;for(var a=b.length,c=0,d;c<a;c++)(d=this.indexOf(b[c]))!==-1&&this.splice(d,1);return this};if(!f.removeAt)f.removeAt=function(b){if(this.length!==0&&(b<0&&(b=this.length+b),b<0&&(b=0),this.hasOwnProperty(b)&&b<this.length))return this.splice(b,1)[0]};if(!f.addAt)f.addAt=function(b,a){this.splice(b,0,a);return a};if(!f.pushList)f.pushList=
function(b){return b.length===0?this.length:f.push.apply(this,b)};if(!f.pushListAt)f.pushListAt=function(b,a){if(a.length===0)return this.length;var c=[b,0];f.push.apply(c,a);f.splice.apply(this,c);return this.length}})();var COMPILED=!0,goog=goog||{};goog.global=window;window.goog=goog;goog.DEBUG=!0;goog.LOCALE="en";goog.provide=function(g){if(!COMPILED){if(goog.isProvided_(g))throw Error('Namespace "'+g+'" already declared.');delete goog.implicitNamespaces_[g];for(var h=g;h=h.substring(0,h.lastIndexOf("."));){if(goog.getObjectByName(h))break;goog.implicitNamespaces_[h]=!0}}goog.exportSymbol_(g)};
goog.setTestOnly=function(g){if(COMPILED&&!goog.DEBUG)throw g=g||"",Error("Importing test-only code into non-debug environment"+g?": "+g:".");};if(!COMPILED)goog.isProvided_=function(g){return!goog.implicitNamespaces_[g]&&!!goog.getObjectByName(g)},goog.implicitNamespaces_={};goog.exportSymbol_=function(g,h,f){g=g.split(".");f=f||goog.global;!(g[0]in f)&&f.execScript&&f.execScript("var "+g[0]);for(var b;g.length&&(b=g.shift());)!g.length&&goog.isDef(h)?f[b]=h:f=f[b]?f[b]:f[b]={}};
goog.getObjectByName=function(g,h){for(var f=g.split("."),b=h||goog.global,a;a=f.shift();)if(goog.isDefAndNotNull(b[a]))b=b[a];else return null;return b};goog.globalize=function(g,h){var f=h||goog.global,b;for(b in g)f[b]=g[b]};
goog.addDependency=function(g,h,f){if(!COMPILED){for(var b,g=g.replace(/\\/g,"/"),a=goog.dependencies_,c=0;b=h[c];c++)a.nameToPath[b]=g,g in a.pathToNames||(a.pathToNames[g]={}),a.pathToNames[g][b]=!0;for(b=0;h=f[b];b++)g in a.requires||(a.requires[g]={}),a.requires[g][h]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(g){if(!COMPILED&&!goog.isProvided_(g)){if(goog.ENABLE_DEBUG_LOADER){var h=goog.getPathFromDeps_(g);if(h){goog.included_[h]=!0;goog.writeScripts_();return}}g="goog.require could not find: "+g;goog.global.console&&goog.global.console.error(g);throw Error(g);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(g){return g};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(g){g.getInstance=function(){return g.instance_||(g.instance_=new g)}};
if(!COMPILED&&goog.ENABLE_DEBUG_LOADER)goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var g=goog.global.document;return typeof g!="undefined"&&"write"in g},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var g=goog.global.document.getElementsByTagName("script"),h=g.length-1;h>=0;--h){var f=g[h].src,b=f.lastIndexOf("?"),
b=b==-1?f.length:b;if(f.substr(b-7,7)=="base.js"){goog.basePath=f.substr(0,b-7);break}}},goog.importScript_=function(g){var h=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[g]&&h(g)&&(goog.dependencies_.written[g]=!0)},goog.writeScriptTag_=function(g){return goog.inHtmlDocument_()?(goog.global.document.write('<script type="text/javascript" src="'+g+'"><\/script>'),!0):!1},goog.writeScripts_=function(){function g(c){if(!(c in b.written)){if(!(c in b.visited)&&(b.visited[c]=
!0,c in b.requires))for(var d in b.requires[c])if(!goog.isProvided_(d))if(d in b.nameToPath)g(b.nameToPath[d]);else throw Error("Undefined nameToPath for "+d);c in f||(f[c]=!0,h.push(c))}}var h=[],f={},b=goog.dependencies_,a;for(a in goog.included_)b.written[a]||g(a);for(a=0;a<h.length;a++)if(h[a])goog.importScript_(goog.basePath+h[a]);else throw Error("Undefined script input");},goog.getPathFromDeps_=function(g){return g in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[g]:null},goog.findBasePath_();
goog.typeOf=function(g){var h=typeof g;if(h=="object")if(g){if(g instanceof Array)return"array";else if(g instanceof Object)return h;var f=Object.prototype.toString.call(g);if(f=="[object Window]")return"object";if(f=="[object Array]"||typeof g.length=="number"&&typeof g.splice!="undefined"&&typeof g.propertyIsEnumerable!="undefined"&&!g.propertyIsEnumerable("splice"))return"array";if(f=="[object Function]"||typeof g.call!="undefined"&&typeof g.propertyIsEnumerable!="undefined"&&!g.propertyIsEnumerable("call"))return"function"}else return"null";
else if(h=="function"&&typeof g.call=="undefined")return"object";return h};goog.propertyIsEnumerableCustom_=function(g,h){if(h in g)for(var f in g)if(f==h&&Object.prototype.hasOwnProperty.call(g,h))return!0;return!1};goog.propertyIsEnumerable_=function(g,h){return g instanceof Object?Object.prototype.propertyIsEnumerable.call(g,h):goog.propertyIsEnumerableCustom_(g,h)};goog.isDef=function(g){return g!==void 0};goog.isNull=function(g){return g===null};goog.isDefAndNotNull=function(g){return g!=null};
goog.isArray=function(g){return goog.typeOf(g)=="array"};goog.isArrayLike=function(g){var h=goog.typeOf(g);return h=="array"||h=="object"&&typeof g.length=="number"};goog.isDateLike=function(g){return goog.isObject(g)&&typeof g.getFullYear=="function"};goog.isString=function(g){return typeof g=="string"};goog.isBoolean=function(g){return typeof g=="boolean"};goog.isNumber=function(g){return typeof g=="number"};goog.isFunction=function(g){return goog.typeOf(g)=="function"};
goog.isObject=function(g){g=goog.typeOf(g);return g=="object"||g=="array"||g=="function"};goog.getUid=function(g){return g[goog.UID_PROPERTY_]||(g[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(g){"removeAttribute"in g&&g.removeAttribute(goog.UID_PROPERTY_);try{delete g[goog.UID_PROPERTY_]}catch(h){}};goog.UID_PROPERTY_="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;
goog.cloneObject=function(g){var h=goog.typeOf(g);if(h=="object"||h=="array"){if(g.clone)return g.clone();var h=h=="array"?[]:{},f;for(f in g)h[f]=goog.cloneObject(g[f]);return h}return g};goog.bindNative_=function(g,h,f){return g.call.apply(g.bind,arguments)};
goog.bindJs_=function(g,h,f){if(!g)throw Error();if(arguments.length>2){var b=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(a,b);return g.apply(h,a)}}else return function(){return g.apply(h,arguments)}};goog.bind=function(g,h,f){goog.bind=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(g,h){var f=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,f);return g.apply(this,b)}};goog.mixin=function(g,h){for(var f in h)g[f]=h[f]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(g){if(goog.global.execScript)goog.global.execScript(g,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null)goog.global.eval("var _et_ = 1;"),typeof goog.global._et_!="undefined"?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(g);else{var h=goog.global.document,f=h.createElement("script");f.type="text/javascript";f.defer=!1;f.appendChild(h.createTextNode(g));h.body.appendChild(f);
h.body.removeChild(f)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(g,h){var f=function(a){return goog.cssNameMapping_[a]||a},b;b=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?f:function(a){for(var a=a.split("-"),c=[],d=0;d<a.length;d++)c.push(f(a[d]));return c.join("-")}:function(a){return a};return h?g+"-"+b(h):b(g)};goog.setCssNameMapping=function(g,h){goog.cssNameMapping_=g;goog.cssNameMappingStyle_=h};
goog.getMsg=function(g,h){var f=h||{},b;for(b in f)var a=(""+f[b]).replace(/\$/g,"$$$$"),g=g.replace(RegExp("\\{\\$"+b+"\\}","gi"),a);return g};goog.exportSymbol=function(g,h,f){goog.exportSymbol_(g,h,f)};goog.exportProperty=function(g,h,f){g[h]=f};goog.inherits=function(g,h){function f(){}f.prototype=h.prototype;g.superClass_=h.prototype;g.prototype=new f;g.prototype.constructor=g};
goog.base=function(g,h,f){var b=arguments.callee.caller;if(b.superClass_)return b.superClass_.constructor.apply(g,Array.prototype.slice.call(arguments,1));for(var a=Array.prototype.slice.call(arguments,2),c=!1,d=g.constructor;d;d=d.superClass_&&d.superClass_.constructor)if(d.prototype[h]===b)c=!0;else if(c)return d.prototype[h].apply(g,a);if(g[h]===b)return g.constructor.prototype[h].apply(g,a);else throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(g){g.call(goog.global)};var jx={util:{}},Util={},echo={};
(function(){var g=window.console,h=[],f;f=g&&g.log?function(b){for(var a=0,c=arguments.length;a<c;a++)g.log(arguments[a])}:function(b){h.push.apply(h,arguments)};goog.exportSymbol("jx.util",Util);goog.exportSymbol("Util",Util);goog.exportSymbol("echo",f);Util.isNull=function(b){return b==null};Util.isNotNull=function(b){return b!=null};Util.isNullAnd=function(){for(var b=0,a=arguments.length;b<a;b++)if(arguments[b]!=null)return!1;return!0};Util.isNullOr=function(){for(var b=0,a=arguments.length;b<
a;b++)if(arguments[b]==null)return!0;return!1};Util.isNotNullAnd=function(){for(var b=0,a=arguments.length;b<a;b++)if(arguments[b]==null)return!1;return!0};Util.isNotNullOr=function(){for(var b=0,a=arguments.length;b<a;b++)if(arguments[b]!=null)return!0;return!1};Util.ifNull=function(b,a,c){return b==null?a:c===void 0?b:c};Util.ifTrue=function(b,a,c){return b===!0?a:c===void 0?b:c};Util.isFunction=function(b){return typeof b=="function"};Util.isString=function(b){return typeof b=="string"};Util.isNumber=
function(b){return typeof b=="number"};Util.isObject=function(b){return typeof b=="object"};Util.isArray=function(b){var a=Array.isArray;return b&&typeof b=="object"&&(a&&a(b)||typeof b.length=="number"&&b.hasOwnProperty("length")&&!b.propertyIsEnumerable("length"))};Util.split=function(b,a,c,d){if(typeof b!=="string")return[];a=a===void 0?/\s+/:a;c=c===void 0?function(c){return!!c}:c;d=d===void 0?function(c){return $.trim(c)}:d;b=b.split(a);d&&(b=b.map(d));c&&(b=b.filter(c));return b};Util.isEmpty=
function(b){if(!b)return!0;if(typeof b!="object")return!1;for(var a in b)if(b.hasOwnProperty(a))return!1;return!0};Util.isEmptyObj=function(b){if(b==null)return!0;if(typeof b!="object")return!1;for(var a in b)if(b.hasOwnProperty(a))return!1;return!0};Util.isNotEmptyObj=function(b){if(b==null||typeof b!="object")return!1;for(var a in b)if(b.hasOwnProperty(a))return!0;return!1};Util.isEmptyString=function(b){return b==null||b===""};Util.isEmptyArray=function(b){if(b==null)return!0;if(!Util.isArray(b))return!1;
for(var a=0,c=b.length;a<c;a++)if(b.hasOwnProperty(a))return!1;return!0};Util.emptyObject=function(b){if(!b||typeof b!="object")return b;if(Util.isArray(b))return b.length=0,b;for(var a in b)b.hasOwnProperty(a)&&delete b[a];return b};Util.deleteUndefined=function(b){if(!b||typeof b!="object")return b;var a;if(Util.isArray(b)){for(a=b.length-1;a>-1;a--)b.hasOwnProperty(a)&&b[a]===void 0&&b.splice(a,1);return b}for(a in b)b.hasOwnProperty(a)&&b[a]===void 0&&delete b[a];return b};Util.deepClone=function(b){if(!b)return b;
switch(typeof b){case "boolean":case "number":case "string":case "function":return b}if(Util.isArray(b)){for(var a=[],c=0,d=b.length;c<d;c++)c in b&&(a[c]=Util.deepClone(b[c]));return a}a={};for(c in b)b.hasOwnProperty(c)&&(a[c]=Util.deepClone(b[c]));return a};Util.clone=function(b,a,c){if(!b)return b;switch(typeof b){case "boolean":case "number":case "string":case "function":return b}if(Util.isArray(b)){if(c===1)return Array.prototype.slice.call(b);for(var d=[],e=b.length,q=0,c=c!==void 0?c-1:void 0;q<
e;q++)q in b&&(d[q]=Util.clone(b[q],a,c));return d}d={};e=Util.isEmptyObj(a);if(c===1)if(e)for(q in b)b.hasOwnProperty(q)&&(d[q]=b[q]);else for(q in a)a.hasOwnProperty(q)&&b.hasOwnProperty(q)&&(d[q]=b[q]);else if(c=c!==void 0?c-1:void 0,e)for(q in b)b.hasOwnProperty(q)&&(d[q]=Util.clone(b[q],void 0,c));else for(q in a)a.hasOwnProperty(q)&&b.hasOwnProperty(q)&&(d[q]=Util.clone(b[q],void 0,c));return d};Util.toArray=function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(b[c]);return a};Util.toArrayWithKey=
function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push({key:c,val:b[c]});return a};Util.random=function(b){return Math.floor(b*Math.random())};Util.bound=function(b,a,c){isNaN(c)||(b=Math.min(b,c));isNaN(a)||(b=Math.max(b,a));return b};Util.callFn=function(){return arguments.length<=3?arguments[1].call(arguments[0],arguments[2]):arguments[1].apply(arguments[0],Array.prototype.slice.call(arguments,2))};Util.formatNumber=function(b,a,c,d,e){var c=c===void 0?"&#8361; ":c,a=isNaN(a)?0:a,d=d===
void 0?".":d,e=e===void 0?",":e,q=b<0?"-":"",i=parseInt(b=Math.abs(+b||0).toFixed(a),10)+"",j=i.length,j=j>3?j%3:0;return c+q+(j?i.substr(0,j)+e:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+e)+(a?d+Math.abs(b-i).toFixed(a).slice(2):"")};Util.getBodyScroll=function(){var b=0,a=0;if(typeof window.pageYOffset==="number")a=window.pageYOffset,b=window.pageXOffset;else if(document.body&&(document.body.scrollLeft||document.body.scrollTop))a=document.body.scrollTop,b=document.body.scrollLeft;else if(document.documentElement&&
(document.documentElement.scrollLeft||document.documentElement.scrollTop))a=document.documentElement.scrollTop,b=document.documentElement.scrollLeft;return[b,a]};Util.hasClass=function(b,a){if(b==null||a==null)return!1;if(b.className===a)return!0;if(b.className)for(var c=b.classList?b.classList:Util.split(b.className),d=0,e=c.length;d<e;d++)if(c[d]===a)return!0;return!1};Util.hasTagAndClass=function(b,a,c){if(b==null||a==null||c==null)return!1;if(b.tagName===a){if(b.className===c)return!0;if(b.className&&
b.className.length>=c.length)for(var b=b.classList?b.classList:Util.split(b.className),a=0,d=b.length;a<d;a++)if(b[a]===c)return!0}return!1};Util.closest=function(b,a,c){if(Util.hasClass(b,a))return b;for(b=b.parentNode;Util.isNotNull(b)&&b!==c;b=b.parentNode)if(Util.hasClass(b,a))return b};Util.closestWithTag=function(b,a,c,d){if(Util.hasTagAndClass(b,a,c))return b;for(b=b.parentNode;Util.isNotNull(b)&&b!==d;b=b.parentNode)if(Util.hasTagAndClass(b,a,c))return b};Util.findFirstByClass=function(b,
a){if(b!=null){if(Util.hasClass(b,a))return b;for(var c=0,d=b.childNodes,e=d.length,q;c<e;c++)if(Util.isNotNull(d[c])&&(q=Util.findFirstByClass(d[c],a))!==void 0)return q}};Util.findFirstByTagAndClass=function(b,a,c){if(b!=null){if(Util.hasTagAndClass(b,a,c))return b;for(var d=0,b=b.childNodes,e=b.length,q;d<e;d++)if(Util.isNotNull(b[d])&&(q=Util.findFirstByTagAndClass(b[d],a,c))!==void 0)return q}};Util.findByClass=function(b,a,c){c===void 0&&(c=[]);if(b==null)return c;Util.hasClass(b,a)&&c.push(b);
for(var d=0,b=b.childNodes,e=b.length;d<e;d++)Util.isNotNull(b[d])&&Util.findByClass(b[d],a,c);return c};Util.findByTagAndClass=function(b,a,c,d){d===void 0&&(d=[]);if(b==null)return d;Util.hasTagAndClass(b,a,c)&&d.push(b);for(var e=0,b=b.childNodes,q=b.length;e<q;e++)Util.isNotNull(b[e])&&Util.findByTagAndClass(b[e],a,c,d);return d};Util.getHead=function(){return document.head?document.head:document.getElementsByTagName("head")[0]};Util.appendTag=function(b,a){return b.appendChild(document.createElement(a))};
Util.appendHTML=function(b,a){var c=document.createElement("div"),d,e=0,q=[];c.innerHTML=a;for(d=c.childNodes.length;e<d;e++)q.push(b.appendChild(c.firstChild));return q};Util.createStyle=function(b){b==null&&(b="");var a=document.createElement("style");a.type="text/css";a.rel="stylesheet";a.styleSheet?a.styleSheet.cssText=b:a.appendChild(document.createTextNode(b));Util.getHead().appendChild(a);return a};Util.removeStyle=function(b){b!=null&&b.parentNode!=null&&Util.getHead().removeChild(b)};Util.setStyle=
function(b,a){return b==null?"":b.styleSheet?b.styleSheet.cssText=a:b.childNodes[0].nodeValue=a};Util.appendStyle=function(b,a){return b==null?"":b.styleSheet?b.styleSheet.cssText+=a:b.childNodes[0].nodeValue+=a};Util.getStyle=function(b){return b==null?"":b.styleSheet?b.styleSheet.cssText:b.childNodes[0].nodeValue};Util.appendScript=function(b){var a=document.createElement("script");a.type="text/javascript";a.text?a.text=b:a.innerHTML=b;Util.getHead().appendChild(a);return a};Util.appendScriptFile=
function(b){document.write('<script type="text/javascript" src="'+b+'"><\/script>')};Util.outerHTML=function(b){if(b.outerHTML===void 0){var a=document.createElement("div");a.appendChild(b.cloneNode(!0));return a.innerHTML}return b.outerHTML};Util.index=function(b){for(var a=0;(b=b.previousSibling)!=null;)++a;return a};Util.contains=function(b,a,c){for(;a!=null;){if(a===b)return!0;if(a===c)break;a=a.parentNode}return!1};Util.areEqualArrays=function(b,a){if(b==null||a==null)return!1;if(b===a)return!0;
if(b.length!==a.length)return!1;for(var c=0,d=b.length;c<d;c++)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c)||a.hasOwnProperty(c)&&!b.hasOwnProperty(c)||b[c]!==a[c])return!1;return!0};Util.areEqualObjects=function(b,a){if(b==null||a==null)return!1;if(b===a)return!0;if(typeof b!=="object"||typeof a!=="object")return!1;for(var c in b)if(b.hasOwnProperty(c)&&(!a.hasOwnProperty(c)||b[c]!==a[c]))return!1;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||b[c]!==a[c]))return!1;return!0};Util.areEqualComplex=
function(b,a,c){if(b==null||a==null)return!1;if(b===a)return!0;var d=c.length,e=c[0];if(d===1)return e==="array"?Util.areEqualArrays(b,a):Util.areEqualObjects(b,a);if(d>1){c=c.slice(1);d=0;if(e==="array"){if(b.length!==a.length)return!1;for(e=b.length;d<e;d++)if(!a.hasOwnProperty(d)||!Util.areEqualComplex(b[d],a[d],c))return!1}else{for(d in b)if(b.hasOwnProperty(d)&&(!a.hasOwnProperty(d)||!Util.areEqualComplex(b[d],a[d],c)))return!1;for(d in a)if(a.hasOwnProperty(d)&&(!b.hasOwnProperty(d)||!Util.areEqualComplex(b[d],
a[d],c)))return!1}return!0}};Util.typeCheck=function(b,a,c,d,e){if(c&&a===void 0||d&&a===null)return!0;switch(typeof b){case "string":if(typeof a===b)return!0;break;case "function":if(a instanceof b)return!0}if(e)return!1;throw new TypeError("object is not a "+b+", but is a "+typeof a);};Util.sprint=function(b,a,c,d){Util.typeCheck("string",b);Util.typeCheck("object",a);Util.typeCheck("string",c,!0);Util.typeCheck("string",d,!0);var e;c===void 0&&(c="%");d===void 0&&(d="%");for(e in a)a.hasOwnProperty(e)&&
(b=b.replace(RegExp(c+e+d,"gm"),a[e]));return b};Util.tagReplaces={"&":"&amp;","<":"&lt;",">":"&gt;"};Util.replaceTag=function(b){return Util.tagReplaces[b]||b};Util.escapeHtmlTags=function(b){return b.replace(/[&<>]/g,Util.replaceTag)};Util.escapeRegExp=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};Util.strReplace=function(b,a){var c,d=[];for(c in a)a.hasOwnProperty(c)&&d.push(Util.escapeRegExp(c));return b.replace(RegExp("("+d.join("|")+")","gm"),function(c){return a[c]})};Util.calCheckSize=
function(){var b={},a=document.createElement("div");document.body.appendChild(a);a.innerHTML="<input type='checkbox' style='margin:0;padding:0;overflow:hidden'/>";b.checkboxW=a.childNodes[0].offsetWidth;b.checkboxH=a.childNodes[0].offsetHeight;a.innerHTML="<input type='radio' style='margin:0;padding:0;overflow:hidden'/>";b.radioW=a.childNodes[0].offsetWidth;b.radioH=a.childNodes[0].offsetHeight;document.body.removeChild(a);return b};Util.which=function(b){for(var a={},c=0,d;c<b.length;c++)if(d=b[c].toLowerCase(),
d==="number"){for(d=48;d<=57;d++)a[d]=!0;for(d=96;d<=105;d++)a[d]=!0}else if(d==="alphabet")for(d=65;d<=90;d++)a[d]=!0;else if(d==="arrow")for(d=37;d<=40;d++)a[d]=!0;else d.length>1&&(d=d.replace(/\s/g,"")),d.length>=3&&(d=d.replace(/numpad|num/g,"n").replace(/korean|kor/g,"kr")),a[Util.keyMapKeydown[d]]=!0;return a};Util.keyMapKeydown={backspace:8,tab:9,enter:13,shift:16,control:17,ctrl:17,alt:18,pause:19,"break":19,capslock:20,escape:27,esc:27,space:32," ":32,pageup:33,pgup:33,pagedown:34,pgdown:34,
pgdn:34,end:35,home:36,leftarrow:37,left:37,uparrow:38,up:38,rightarrow:39,right:39,downarrow:40,down:40,insert:45,ins:45,"delete":46,del:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,n0:96,n1:97,n2:98,n3:99,n4:100,n5:101,n6:102,n7:103,n8:104,n9:105,"n*":106,"n+":107,"n-":109,"n.":110,"n/":111,f1:112,
f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,mute:173,volumedown:174,volumeup:175,":":186,";":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,kr:229};Util.printEventPos=function(b){Util.print("client: ("+b.clientX+", "+b.clientY+"), layer: ("+b.layerX+", "+b.layerY+"), offset: ("+b.offsetX+", "+b.offsetY+"), page: ("+b.pageX+
", "+b.pageY+"), screen: ("+b.screenX+", "+b.screenY+"), xy: ("+b.x+", "+b.y+")")};Util.print=function(b){if(f)if(arguments.length===1)f(arguments[0]);else for(var a=0,c=arguments.length;a<c;a++)f(arguments[a])};Util.open=function(b){var a={url:"about:blank",name:"_blank",channelmode:"no",directories:"yes",fullscreen:"no",height:void 0,left:void 0,location:"yes",menubar:"yes",resizable:"yes",scrollbars:"yes",status:"yes",titlebar:"yes",toolbar:"yes",top:void 0,width:void 0,replace:void 0},c;if(Util.isNotNull(b))for(c in a)a.hasOwnProperty(c)&&
(a[c]=b[c]);b=Util.ifNull(a.height,"","height="+a.height+", ")+Util.ifNull(a.left,"","left="+a.left+", ")+Util.ifNull(a.top,"","top="+a.top+", ")+Util.ifNull(a.width,"","width="+a.width+", ")+"channelmode="+a.channelmode+", directories="+a.directories+", fullscreen="+a.fullscreen+", location="+a.location+", menubar="+a.menubar+", resizable="+a.resizable+", scrollbars="+a.scrollbars+", status="+a.status+", titlebar="+a.titlebar+", toolbar="+a.toolbar;return Util.isNull(a.replace)?window.open(a.url,
a.name,b):window.open(a.url,a.name,b,a.replace)}})();var Tracer={};
(function(){function g(){this.stack="";this.timers={}}var h=goog.getObjectByName("jx.util");goog.exportSymbol("Tracer",g);var f=g.prototype;f.print=function(b,a,c){b===void 0&&(b="");a===void 0&&(a="timer");c===void 0&&(c=!0);var d=this.timers[a],e=(new Date).getTime(),d=h.isNull(d)?0:e-d;h.print((this.stack.length>0?this.stack+" :: ":"")+b+", Time elapsed since last update: "+d+"ms");c&&(this.timers[a]=e)};f.addStack=function(b){this.stack=this.stack+" > "+b};f.removeStack=function(){this.stack=this.stack.substring(0,
this.stack.lastIndexOf(" > "))};f.clearStack=function(){this.stack=""}})();var TimeWatch={};
(function(){function g(f){var b=this.laps=[];this._stopped=!1;b.push(f||null,(new Date).getTime())}goog.exportSymbol("TimeWatch",g);var h=g.prototype;h.lap=function(f){if(this._stopped)throw Error("TimeWatch was stopped, thus cannot lap. Please reset!");this.laps.push(f||null,(new Date).getTime())};h.stop=function(f){this._stopped=!0;this.laps.push(f||null,(new Date).getTime())};h.reset=function(f){var b=this.laps;b.length=0;this._stopped=!1;b.push(f||null,(new Date).getTime())};h.toString=function(){var f=
this.laps,b=f.length,a=2,c=b-(this._stopped?2:0),d=f[0],e=f[1],q=e,b=b>2?[]:null,i=0,j="TimeWatch\n";for(j+="start"+(d?": "+d:"")+" @"+e+"\n";a<c;a+=2)d=(d=f[a])?": "+d:"",e=f[a+1],b.push(q=e-q),i+=q,j+="lap "+a/2+d+" @"+e+" +"+q+"ms\n",q=e;c>=2&&this._stopped&&(d=(d=f[c])?": "+d:"",e=f[c+1],b.push(q=e-q),i+=q,j+="stop"+d+" @"+e+" +"+q+"ms\n");if(b){var f=b.length,g=i/f,k=0;j+="total number of laps: "+f+"\n";j+="total elapsed time: "+i+"ms\n";j+="average lap time: "+g.toFixed(2)+"ms\n";b.forEach(function(c){k+=
(c-g)*(c-g)});k=Math.sqrt(k/f);j+="standard deviation: "+k.toFixed(2)+"ms\n"}return j}})();jx.util$={};var Util$={};
(function(){goog.exportSymbol("jx.util$",Util$);goog.exportSymbol("Util$",Util$);Util$.is$=function(g){return g instanceof jQuery?!0:!1};Util$.safe$=function(g){return g instanceof jQuery?g:$(g)};Util$.unbindRemove=function(g){g.unbind().remove()};jQuery.fn.getBoundingRect=function(){var g=this.offset();return{left:g.left,top:g.top,width:this.outerWidth(),height:this.outerHeight()}};jQuery.fn.containsEvent=function(g){if(this.length===0)return!1;var h,f,b,a;if(this.length<=1)return h=this.getBoundingRect(),
b=g.pageX,a=g.pageY,b>=h.left&&b<=h.left+h.width&&a>=h.top&&a<=h.top+h.height;f=!1;this.each(function(){h=$(this).getBoundingRect();b=g.pageX;a=g.pageY;if(b>=h.left&&b<=h.left+h.width&&a>=h.top&&a<=h.top+h.height)return f=!0,!1});return f};Util$.baseurlOfHeadScript=function(g){var h=$(document.getElementsByTagName("head")[0]).find("script[src$='"+g+"']").attr("src");return h.substring(0,h.indexOf(g))};Util$.calScrollbarDims=function(g){if(Util.isNotNull(window._SCROLLBAR))return window._SCROLLBAR;
if(Util.isNotNull(window.opener)&&Util.isNotNull(window.opener._SCROLLBAR))return window.opener._SCROLLBAR;var g=Util$.safe$(g),h;g[0].innerHTML="<div id='scrollbardim' style='position:absolute;top:-10000px;left:-10000px;width:100px;height:100px;overflow:scroll;'></div>";h=$(document.getElementById("scrollbardim"));h={w:h.width()-h[0].clientWidth,h:h.height()-h[0].clientHeight};g[0].innerHTML="";return window._SCROLLBAR=h}})();jx.grid={};var JGM={};
(function(){var g=goog.getObjectByName("jx.util"),h=goog.getObjectByName("jx.util$");goog.exportSymbol("JGM",JGM);goog.exportSymbol("jx.grid",JGM);JGM.version="2.0.0";JGM._map={ArrayExtIE:{cacheModule:!1},Cache:{cacheModule:!0},Cell:{cacheModule:!1},CheckManager:{cacheModule:!0},ColumnManager:{cacheModule:!0},ColumnGroup:{cacheModule:!0},ColumnHeader:{cacheModule:!0},Collapser:{cacheModule:!0},DataManager:{cacheModule:!0},DataCreator:{cacheModule:!0},EditManager:{cacheModule:!0},Editor:{cacheModule:!0},
EngineExt:{cacheModule:!1},EventManager:{cacheModule:!0},Footer:{cacheModule:!0},HeaderTree:{cacheModule:!0},Grid:{cacheModule:!0},GridManager:{cacheModule:!1},MenuBar:{cacheModule:!0},ViewportManager:{cacheModule:!0},SelectionManager:{cacheModule:!0},SearchManager:{cacheModule:!0},TooltipManager:{cacheModule:!0},Tracer:{cacheModule:!1},Tree:{cacheModule:!0},TreeNode:{cacheModule:!1},Util:{cacheModule:!1},Util$:{cacheModule:!1}};JGM.create=function(f,b){b==null&&(b={});if(!this.hasOwnProperty(f))throw Error("cannot find a grid module: name="+
f);if(this._map.hasOwnProperty(f))if(this._map[f].cacheModule){var a=b.mid="JGM"+this.m.length++,c=new this[f](b);this.m.hasOwnProperty(f)||(this.m[f]={});this.m[f][a]=c;f==="Grid"&&c.name&&(this.gridMap[c.name]=c);return c}else return new this[f](b);else return new this[f](b)};JGM._destroy=function(f,b){var a,c,d,e;for(c in b)if(b.hasOwnProperty(c))switch(c){case "map":a=b[c];if(g.isString(a)){a=g.split(a);e=a.length;for(d=0;d<e;d++)JGM._deleteMap(f,a[d])}else if(a instanceof Array){e=a.length;for(d=
0;d<e;d++)g.emptyObject(a[d])}else g.emptyObject(a);break;case "array":a=b[c];if(g.isString(a)){a=g.split(a);e=a.length;for(d=0;d<e;d++)JGM._deleteArray(f,a[d])}else a.length=0;break;case "$":a=b[c];if(g.isString(a)){a=g.split(a);e=a.length;for(d=0;d<e;d++)JGM._delete$(f,a[d])}else if(a instanceof Array){e=a.length;for(d=0;d<e;d++)h.unbindRemove(a[d])}else h.unbindRemove(a);break;case "style":a=b[c];if(g.isString(a)){a=g.split(a);e=a.length;for(d=0;d<e;d++)JGM._deleteStyle(f,a[d])}else if(a instanceof
Array){e=a.length;for(d=0;d<e;d++)g.removeStyle(a[d])}else g.removeStyle(a);break;case "property":a=b[c];if(g.isString(a)){a=g.split(a);e=a.length;for(d=0;d<e;d++)delete f[a[d]]}else if(a instanceof Array){e=a.length;for(d=0;d<e;d++)delete f[a[d]]}break;case "module":a=b[c];if(g.isString(a)){a=g.split(a);e=a.length;for(d=0;d<e;d++)JGM._deleteModule(f,a[d])}else if(a instanceof Array){e=a.length;for(d=0;d<e;d++)a[d].destroy()}else a.destroy();break;case "name":f.hasOwnProperty("mid")&&(JGM._remove(b[c],
f.mid),delete f.mid);break;case "path":f.hasOwnProperty("grid")&&f.grid.hasOwnProperty(b[c])&&(delete f.grid[b[c]],delete f.grid)}g.emptyObject(f)};JGM._deleteMap=function(f,b){f.hasOwnProperty(b)&&(g.emptyObject(f[b]),delete f[b])};JGM._deleteArray=function(f,b){if(f.hasOwnProperty(b))f[b].length=0,delete f[b]};JGM._delete$=function(f,b){f.hasOwnProperty(b)&&(h.unbindRemove(f[b]),delete f[b])};JGM._deleteStyle=function(f,b){f.hasOwnProperty(b)&&(g.removeStyle(f[b]),delete f[b])};JGM._deleteModule=
function(f,b){f.hasOwnProperty(b)&&(f[b].destroy(),delete f[b])};JGM._remove=function(f,b){delete this.m[f][b]};JGM.grid=function(f){return this.create("Grid",f)};JGM.gridMap={};JGM.getGrid=function(f){if(this.gridMap.hasOwnProperty(f))return this.gridMap[f]};JGM._add=function(f,b){this[f]=b};JGM._extend=function(f,b){var a=g.ifNull(b,{});$.extend(!0,f,a);$.extend(!0,a,f);return a};JGM.m={length:0};JGM._CONST={_cssUnselectable:"-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;",
_checkboxWidth:void 0,_checkboxHeight:void 0,_radioWidth:void 0,_radioHeight:void 0};JGM._globalEventsBound=!1;JGM._globalEvents={_mousemove:function(f){var b,a=JGM.m.Grid;for(b in a)a.hasOwnProperty(b)&&a[b]._mousemove(f)},_mouseup:function(f){var b,a=JGM.m.Grid;for(b in a)a.hasOwnProperty(b)&&a[b]._mouseup(f)},_resize:function(f){var b,a=JGM.m.Grid;for(b in a)a.hasOwnProperty(b)&&a[b]._resize(f)}};JGM._bindGlobalEvents=function(){if(!this._globalEventsBound)$(document).bind({mousemove:this._globalEvents._mousemove,
mouseup:this._globalEvents._mouseup}),$(window).resize(this._globalEvents._resize),this._globalEventsBound=!0};JGM._unbindGlobalEvents=function(){if(this._globalEventsBound)$(document).unbind({mousemove:this._globalEvents._mousemove,mouseup:this._globalEvents._mouseup}),$(window).unbind("resize",this._globalEvents._resize),this._globalEventsBound=!1};JGM.error={LENGTH_NOT_EQUAL:"Lengths are not equal",NOT_MODIFIABLE:"Cannot modify value for '%0'.",KEY_UNDEFINED:"Column '%0' is undefined.",BAD_NULL:"Column '%0' cannot be null.",
DUP_KEY:"Duplicate column key '%0'.",DUP_ENTRY:"Duplicate entry '%0' for '%1'.",KEY_NOT_FOUND:"'%0' for '%1' doesn't exist in table.",PARSE_ERROR:"Cannot parse '%0' for '%1'.",INVALID_DEFAULT:"Invalid default value '%0' for '%1'.",MULTIPLE_PRI_KEY:"Multiple primary key defined.",DATA_TOO_LONG:"Data '%0' too long for column '%1'. Maximum is %2.",DATA_TOO_SHORT:"Data '%0' too short for column '%1'. Minimum is %2.",WRONG_LENGTH:"Length of data '%0' is not '%1' characters long for column '%2'.",BIGGER_THAN:"Data '%0' too big for column '%1'. Maximum is %2.",
SMALLER_THAN:"Data '%0' too small for column '%1'. Minimum is %2.",WRONG_VALUE:"Incorrect value: '%0' for '%1'."}})();jx.grid.renderer={};
(function(){var g=goog.getObjectByName("jx.grid");goog.getObjectByName("jx.util");g=g.renderer={};goog.exportSymbol("jx.grid.renderer",g);g.selectBox=function(g){var f=g.mapping,b=g.attr,a=g["default"],c=g.style,d=g.callback,e,q,i,j=0,p=[],k=[],o="<select";if(b)for(i in b)b.hasOwnProperty(i)&&(o+=" "+i+'="'+b[i]+'"');if(c){o+=' style="';for(i in c)c.hasOwnProperty(i)&&(o+=i+":"+c[i]+";");o+='"'}o+=">";for(e in f)f.hasOwnProperty(e)&&(g=f[e],p.push(e),k.push(g),a==g&&(q=j),j++);return function(c){var a,
e,b=o;for(e=0;e<j;e++)if(c==k[e]){a=e;break}a===void 0&&(a=q);for(e=0;e<j;e++)b+='<option value="'+k[e]+'"',e===a&&(b+=' selected="selected"'),b+=">"+p[e]+"</option>";b+="</select>";d&&(a=[],a.push(b),Array.prototype.push.apply(a,arguments),b=d.apply(this,a));return b}}})();jx.lang={};jx.lang.Disposable={};
(function(){function g(){}function h(c,a,b){if(typeof c!="object")return!1;var i,j,f;if(a)for(var b=0,g=a.length;b<g;b++)if(i=a[b],this.hasOwnProperty(i))if(c.hasOwnProperty(i)){if(j=this[i],f=c[i],j!==c&&!(j===j||f===f))return!1}else return!1;else{if(c.hasOwnProperty(i))return!1}else{if(b)for(i in this){if(this.hasOwnProperty(i)){if(!c.hasOwnProperty(i))return!1;j=this[i];f=c[i];if(j!==f)if(j){if(typeof j!="object"||typeof f!="object")return!1;if(j.equals){if(!j.equals(f,null,b-1))return!1}else if(f.equals&&
!f.equals(j,null,b-1))return!1;if(!h.call(j,f,null,b-1))return!1}else if(!(j===j||f===f))return!1}}else for(i in this)if(this.hasOwnProperty(i))if(c.hasOwnProperty(i)){if(j=this[i],f=c[i],j!==c&&!(j===j||f===f))return!1}else return!1;for(i in c)if(c.hasOwnProperty(i)&&!this.hasOwnProperty(i))return!1}return!0}function f(a,e){if(this!=goog.global){var b,i;if(a)for(b in this){if(this.hasOwnProperty(b)){if((i=this[b])&&typeof i=="object")if(i.dispose)i.dispose(a-1,e);else if(e){if(c(i))i.length=0;f.call(i,
a-1,e)}delete this[b]}}else for(b in this)this.hasOwnProperty(b)&&delete this[b]}}var b=goog.getObjectByName("jx.util");goog.exportSymbol("jx.lang.Disposable",g);goog.exportProperty(g.prototype,"dispose",f);var a=g.prototype,c=b.isArray;b.equals=Object.equals=function(c,a,b,i){return typeof c=="object"?h.call(c,a,b,i):c!==c&&a!==a};b.dispose=Object.dispose=function(c,a,b){if(typeof c=="object")return f.call(c,a,b)};a.equals=h;a.dispose=f})();jx.grid.Cell={};
(function(){function g(c){this.grid=c.grid;this._datarow=c.datarow;this._colDef=c.colDef;this.__init(c)}goog.getObjectByName("jx.grid");var h=goog.getObjectByName("jx.util"),f=goog.getObjectByName("jx.lang.Disposable");goog.exportSymbol("jx.grid.Cell",g);goog.inherits(g,f);g.getInstance=function(c){return new g(c)};var b=g.prototype,a=f.prototype.dispose;b.dispose=function(){a.call(this)};b.__init=function(c){if(h.isNull(this._datarow))if(h.isNotNull(c.row))this._datarow=this.grid.dataMgr.getByIdx(c.row);else if(h.isNotNull(c.node))this._datarow=
this.grid.dataMgr.getByNode(c.node.parentNode);else if(h.isNotNull(c.$))this._datarow=this.grid.dataMgr.getByNode(c.$[0].parentNode);if(h.isNull(this._colDef))if(h.isNotNull(c.col))this._colDef=this.grid.colDefMgr.get(c.col);else if(h.isNotNull(c.node))this._colDef=this.grid.colDefMgr.get(h.index(c.node));else if(h.isNotNull(c.$))this._colDef=this.grid.colDefMgr.get(h.index(c.$[0]));if(h.isNullOr(this._datarow,this._colDef)&&h.isNotNull(c.event)&&(c=this.grid.view._getClosestCell(c.event.target),
h.isNotNull(c)))this._datarow=this.grid.dataMgr.getByNode(c.parentNode),this._colDef=this.grid.colDefMgr.get(h.index(c))};b.destroy=function(){this.dispose()};b.getRowIdx=function(){if(h.isNotNull(this._datarow))return this.grid.dataMgr.getIdx(this._datarow)};b.getColIdx=function(){if(h.isNotNull(this._colDef))return this.grid.colDefMgr.getIdx(this._colDef)};b.getNode=function(){if(h.isNotNullAnd(this._datarow,this._colDef))return this.grid.view.getCellByIdAndKey(this.grid.dataMgr.getId(this._datarow),
this._colDef.key)};b.getRowNode=function(){return this.grid.view.getRow(this._datarow)};b.get$=function(){var c=this.getNode();return c!==void 0?$(c):$([])};b.getDatarow=function(){return this._datarow};b.getColDef=function(){return this._colDef};b.getKey=function(){if(h.isNotNull(this._colDef))return this._colDef.key};b.getId=function(){return this.grid.dataMgr.getId(this._datarow)};b.getValue=function(){if(h.isNotNullAnd(this._datarow,this._colDef))return this._datarow[this._colDef.key]};b.isValid=
function(){return h.isNotNull(this.getNode())};b.isInvalid=function(){return h.isNull(this.getNode())};b.isEmpty$=function(){return this.get$().length===0};b.has$=function(){return this.get$().length!==0};b.equals=function(c){return c&&this._datarow&&this._datarow===c._datarow&&this._colDef&&this._colDef===c.__colDef}})();jx.events={};jx.events.EventDispatcher={};
(function(){function g(){}goog.getObjectByName("jx.grid");goog.getObjectByName("jx.util");var h=goog.getObjectByName("jx.lang.Disposable");goog.exportSymbol("jx.events.EventDispatcher",g);goog.inherits(g,h);var f=g.prototype,b=h.prototype.dispose;f.dispose=function(){b.call(this._handlers,-1,!0);b.call(this)};f.addEventListener=function(a,c){if(!a)throw Error("Invalid event type: "+a);if(typeof c!="function")throw Error("Event listener must be a function");if(!this._handlers)this._handlers={};var d=
this._handlers,a=(a+"").toLowerCase();d.hasOwnProperty(a)||(d[a]=[]);d=d[a];d.indexOf(c)===-1&&d.push(c)};f.removeEventListener=function(a,c){if(this._handlers){var a=(a+"").toLowerCase(),d=this._handlers;if(d.hasOwnProperty(a)){for(var e=d[a],b=-1;(b=e.indexOf(c,b+1))!==-1;)e.splice(b,1);e.length===0&&delete d[a]}}};f.dispatchEvent=function(a){if(!a||!a.type)throw Error("Invalid event");if(!this._handlers){if(a.cancelable&&a.defaultPrevented)return!1;a.defaultAction&&a.defaultAction(this);return!0}var c=
this._handlers,d=(a.type+"").toLowerCase();a.target=this;if(c.hasOwnProperty(d))for(var c=c[d],d=0,e=c.length,b;d<e&&!a.stopPropagation;d++)b=c[d],b.handleEvent?b.handleEvent(a):b.call(this,a);if(a.cancelable&&a.defaultPrevented)return!1;a.defaultAction&&a.defaultAction(this);return!0}})();jx.grid.Column={};
(function(){function g(f){if(!(f.manager&&typeof f.manager=="object"))throw Error("Column needs a valid manager!");this.manager=f.manager;this.key=f.key+"";if(!this.key)throw Error("Column needs a non-empty key!");var b="column key="+this.key;if(this.manager.hasKey(this.key))throw Error("Duplicate column key!"+b);this.name=f.name?f.name+"":"";this.title=f.title?f.title+"":"";this.noName=!!f.noName;this.noTitle=!!f.noTitle;this.type=f.type+""||null;this.defaultValue=f.defaultValue;this.inputOnCreate=
!!f.inputOnCreate;this.width=(this.width=Number(f.width))||90;this.minW=(this.minW=Number(f.minW))||30;this.maxW=Number(f.maxW)||null;this.resizable=!!f.resizable;this.hidden=!!f.hidden;this.noSearch=!!f.noSearch;this.tooltipEnabled=!!f.tooltipEnabled;this.colClass=f.colClass+""||null;this.style=f.style+""||null;this.headerStyle=f.headerStyle+""||null;if(f.parser&&typeof f.parser!="function")throw Error("Invalid parser!"+b);this.parser=f.parser||null;if(f.validator&&typeof f.validator!="function")throw Error("Invalid validator!"+
b);this.validator=f.validator||null;if(f.renderer&&typeof f.renderer!="function")throw Error("Invalid renderer!"+b);this.renderer=f.renderer||null;if(f.sumRenderer&&typeof f.sumRenderer!="function")throw Error("Invalid sum renderer!"+b);this.sumRenderer=f.sumRenderer||null;if(f.editor&&typeof f.editor!="object")throw Error("Invalid editor!"+b);this.editor=f.editor||null;this.sorter=f.sorter||null;this.filter=f.filter||null}var h=goog.getObjectByName("jx.events.EventDispatcher");goog.exportSymbol("jx.grid.Column",
g);goog.inherits(g,h);h=g.prototype;h.show=function(){return this.hidden?(this.hidden=!1,this.dispatchEvent({type:"hidden",value:!1}),!0):!1};h.hide=function(){return!this.hidden?(this.hidden=!0,this.dispatchEvent({type:"hidden",value:!0}),!0):!1};h.setHidden=function(f){return f?this.hide():this.show()};h.setWidth=function(f){return(f=Number(f))&&this.width!==f?(this.width=f,this.dispatchEvent({type:"width",value:f}),f):!1};h.setRenderer=function(f){if(this.renderer!==f){if(f&&typeof f!="function")throw Error("Invalid renderer!column key="+
this.key);this.renderer=f||null;this.dispatchEvent({type:"renderer",value:f})}}})();jx.grid.BaseModule={};
(function(){function g(b){if(b){if(b.mid!=null)this.mid=b.mid;if(b.grid)this.grid=b.grid}var a=this._defaultOptions&&this._defaultOptions(b.grid),c=b&&b.options;if(c||a)a||(a={}),c&&$.extend(!0,a,c),this._options=a,this.dispatchEvent({type:"afteroption",options:a});this._init&&(this.dispatchEvent({type:"beforeinit"}),this._init(b),this.dispatchEvent({type:"afterinit"}));var d=this,e=this.grid;e&&["Dispose","CreateCss","CreateDynamicCss","Render","Keydown","Keyup","Keypress","Mousein","Mouseout","Mouseenter",
"Mouseleave","Mousemove","Mouseover","Mousedown","Mouseup","Click","Dblclick","Resize","ResizeWidth","ResizeHeight","Scroll","ScrollH","ScrollV"].forEach(function(c){var a="before"+c,c="after"+c,b="_"+a,f="_"+c;d[b]&&e.addEventListener(a,function(c){return d[b](c)});d[f]&&e.addEventListener(c,function(c){return d[f](c)})});this._bindEvents&&(this.dispatchEvent({type:"beforebindevents"}),this._bindEvents(b),this.dispatchEvent({type:"afterbindevents"}));this.dispatchEvent({type:"complete"})}var h=goog.getObjectByName("jx.events.EventDispatcher");
goog.exportSymbol("jx.grid.BaseModule",g);goog.inherits(g,h);var h=g.prototype,f=h.dispose;h._beforeDispose=function(){this.dispose()};h.dispose=function(){delete this.grid;this.dispatchEvent({type:"beforedispose"});f.call(this)};h.getDataMgr=function(){return this.grid.dataMgr};h.getAllData=function(){return this.grid.dataMgr.all};h.getDataList=function(){return this.grid.dataMgr.datalist};h.getIdKey=function(){return this.grid.dataMgr.idKey};h.getColMgr=function(){return this.grid.colDefMgr};h.getColumns=
function(){return this.grid.colDefMgr.get()};h.getEventMgr=function(){return this.grid.event};h.getView=function(){return this.grid.view};h.getHeader=function(){return this.grid.header};h.bindGridEvent=function(){var b=this.grid.event;return b.bind.apply(b,arguments)};h.triggerGridEvent=function(){var b=this.grid.event;return b.trigger.apply(b,arguments)};h.toCssStyle=function(b,a,c){var d=[];c||(b="#"+this.grid.mid+" "+b);if(typeof a!="string"){var e,c="";a.hasOwnProperty("_prepend")&&(a._prepend&&
d.push(a._prepend),delete a._prepend);a.hasOwnProperty("_append")&&(a._append&&(c=";"+a._append),delete a._append);for(e in a)d.push(e+":"+a[e]);d=d.join(";")+c}return b+"{"+d+"}"};h.toCssStyles=function(b,a,c){var b=b||[],d;for(d in a)b.push(this.toCssStyle(d,a[d],c));return b}})();jx.data={};jx.data.DataManager={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.dataMgr=this;this.all=[];this.datalist=[];this.failed=[];this._options=h._extend({idKey:void 0,idColKeys:[],uniqueKeys:[]},a.options);this._consts={_auto:0,_given:1,_composite:2,_notReal:this.mid+"@NR"+f.random(1E4),_add:0,_addList:1,_update:2,_updateList:3,_remove:4,_removeList:5,unknown:0,number:1,string:2,"boolean":3,date:4,"enum":5};f.isNotNull(this._options.idKey)?(this._idMode=this._consts._given,this.idKey=this._options.idKey):
(this._idMode=this._options.idColKeys.length!==0?this._consts._composite:this._consts._auto,this.idKey="J@I"+this.mid+"@"+f.random(1E4));this._increment=1;this.keyToType={};this._idToIdx={};this._idToData={};this._filters=[];this._history=[];this._redoHistory=[];this.uniqueMap={};this.__init(a)}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.data.DataManager",g);h._add("DataManager",g);g.getInstance=function(a){return new g(a)};
var b=g.prototype;b.__init=function(a){for(var c=0,d=this._options.uniqueKeys,e,b=this.uniqueMap,i=d.length,j=this.keyToType,g=this.grid.colDefMgr.getAll();c<i;c++)e=d[c],typeof e==="string"&&(b[e]={});i=g.length;for(c=0;c<i;c++)d=g[c],e=d.key,d.hasOwnProperty("unique")&&d.unique===!0&&!b.hasOwnProperty(e)&&(b[e]={}),j[e]=this.mapDatatype(d.type);f.ifNull(a.datalist,[]);this.bindEvents();this.set(a.datalist)};b.mapDatatype=function(a){if(typeof a==="string")switch(a=a.toLowerCase(),a){case "number":return this._consts.number;
case "string":return this._consts.string;case "boolean":return this._consts["boolean"];case "date":return this._consts.date;case "enum":return this._consts["enum"]}return this._consts.unknown};b.bindEvents=function(){this.grid.event.bind({onDestroy:this._destroy,keydownCanvas:this._keydownCanvas},this)};b._destroy=function(){this.cleanList(this.all);h._destroy(this,{name:"DataManager",path:"dataMgr",property:"all _idMode _increment idKey _sorter",map:"_consts _idToIdx _idToData _options",array:"datalist failed _history _redoHistory _filters"})};
b.addUniqueIndex=function(a,c,d,e){if(e!==!0&&(f.isNull(a)||f.isEmptyString(c)||f.isNull(d)))return!1;if(d.hasOwnProperty(c)===!1)return this.grid.error("KEY_UNDEFINED",c);if(f.isEmptyString(e=d[c]))return this.grid.error("BAD_NULL",c);if(a.hasOwnProperty(e))return a[e]===d?!1:this.grid.error("DUP_ENTRY",e,c);a[e]=d;return!0};b.addUniqueIndices=function(a,c,d,e){if(e!==!0&&(f.isNull(a)||f.isEmptyString(c)||f.isEmptyArray(d)))return!1;for(var b=d.length,i=[],j,g,e=0;e<b;e++)if(!f.isNull(g=d[e])){if(g.hasOwnProperty(c)===
!1)return this.removeUniqueIndices(a,c,i),this.grid.error("KEY_UNDEFINED",c);if(f.isEmptyString(j=g[c]))return this.removeUniqueIndices(a,c,i),this.grid.error("BAD_NULL",c);if(a.hasOwnProperty(j)){if(a[j]===g)continue;this.removeUniqueIndices(a,c,i);return this.grid.error("DUP_ENTRY",j,c)}i.push(a[j]=g)}return i.length>0};b.updateUniqueIndex=function(a,c,d,e,b,i){if(i!==!0&&(f.isEmptyObj(a)||f.isEmptyString(c)||f.isNullOr(d,b)||f.isEmptyObj(e)))return!1;if(e.hasOwnProperty(c)===!1)return!1;if(b.hasOwnProperty(c)===
!1||d.hasOwnProperty(c)===!1)return this.grid.error("KEY_UNDEFINED",c);if(a.hasOwnProperty(b=b[c])===!1)return this.grid.error("KEY_NOT_FOUND",b,c);if(f.isEmptyString(e=e[c]))return this.grid.error("BAD_NULL",c);if(a.hasOwnProperty(e))return a[e]===d?!1:this.grid.error("DUP_ENTRY",e,c);a[e]=d;delete a[b];return b};b.updateUniqueIndices=function(a,c,d,e,b,i){if(i!==!0){if(f.isEmptyObj(a)||f.isEmptyString(c)||f.isEmptyArray(d)||f.isEmptyArray(e)||f.isEmptyArray(b))return!1;if(d.length!==e.length||d.length!==
b.length)return this.grid.error("LENGTH_NOT_EQUAL")}for(var i=0,j=d.length,g,k,h,l=[],m=[],n=[],r,t;i<j;i++)if(!f.isNull(g=d[i]))if((h=e[i]).hasOwnProperty(c)!==!1){k=b[i];if(k.hasOwnProperty(c)===!1||g.hasOwnProperty(c)===!1)return this.updateUniqueIndices(a,c,l,n,m),this.grid.error("KEY_UNDEFINED",c);if(a.hasOwnProperty(t=k[c])===!1)return this.updateUniqueIndices(a,c,l,n,m),this.grid.error("KEY_NOT_FOUND",t,c);if(f.isEmptyString(r=h[c]))return this.updateUniqueIndices(a,c,l,n,m),this.grid.error("BAD_NULL",
c);if(a.hasOwnProperty(r)){if(a[r]===g)continue;this.updateUniqueIndices(a,c,l,n,m);return this.grid.error("DUP_ENTRY",r,c)}a[r]=g;delete a[t];l.push(g);m.push(h);n.push(k)}return l.length===0?!1:{datalist:l,changes:m,befores:n}};b.removeUniqueIndex=function(a,c,d,e){if(!(e!==!0&&(f.isEmptyObj(a)||f.isEmptyString(c)||f.isEmptyObj(d)))){var b;d.hasOwnProperty(c)&&a.hasOwnProperty(b=d[c])&&delete a[b]}};b.removeUniqueIndices=function(a,c,d,e){if(!(e!==!0&&(f.isEmptyObj(a)||f.isEmptyString(c)||f.isEmptyArray(d))))for(var b=
d.length,i,j,e=0;e<b;e++)j=d[e],j.hasOwnProperty(c)&&a.hasOwnProperty(i=j[c])&&delete a[i]};b.addToUniqueMap=function(a){if(f.isEmptyObj(a)||f.isEmptyObj(this.uniqueMap))return!1;var c=[],d,e=this.uniqueMap,b;for(d in e)if(e.hasOwnProperty(d))if(b=this.addUniqueIndex(e[d],d,a),b===!0)c.push(d);else if(b instanceof Error){d=0;for(var i=c.length;d<i;d++)this.removeUniqueIndex(e[c[d]],c[d],a);return b}return c.length>0};b.addListToUniqueMap=function(a){if(f.isEmptyArray(a)||f.isEmptyObj(this.uniqueMap))return!1;
var c=this.uniqueMap,d=[],e,b;for(e in c)if(c.hasOwnProperty(e))if(b=this.addUniqueIndices(c[e],e,a),b===!0)d.push(e);else if(b instanceof Error){e=0;for(var i=d.length;e<i;e++)this.removeUniqueIndices(c[d[e]],d[e],a);return b}return d.length>0};b.updateUniqueMap=function(a,c,d){if(f.isNullOr(a,c,d)||f.isEmptyObj(this.uniqueMap))return!1;var e,b=this.uniqueMap,i=[],j;for(e in b)if(b.hasOwnProperty(e)){j=this.updateUniqueIndex(b[e],e,a,c,d);if(j instanceof Error){e=0;for(var g=i.length;e<g;e++)this.updateUniqueIndex(b[i[e]],
i[e],a,d,c);return j}j!==!1&&i.push(e)}return i.length>0};b.updateListUniqueMap=function(a,c,d){if(f.isEmptyArray(a)||f.isEmptyArray(c)||f.isEmptyArray(d)||f.isEmptyObj(this.uniqueMap))return!1;if(a.length!==c.length||a.length!==d.length)return this.grid.error("LENGTH_NOT_EQUAL");var e,b=this.uniqueMap,i=[],j;for(e in b)if(b.hasOwnProperty(e)){j=this.updateUniqueIndices(b[e],e,a,c,d);if(j instanceof Error){e=0;for(var g=i.length;e<g;e++)this.updateUniqueIndices(b[i[e]],i[e],a,d,c);return j}j!==!1&&
i.push(e)}return i.length>0};b.removeFromUniqueMap=function(a){if(!f.isEmptyObj(a)&&!f.isEmptyObj(this.uniqueMap)){var c,d=this.uniqueMap;for(c in d)d.hasOwnProperty(c)&&this.removeUniqueIndex(d[c],c,a)}};b.removeListFromUniqueMap=function(a){if(!f.isEmptyArray(a)&&!f.isEmptyObj(this.uniqueMap)){var c,d=this.uniqueMap;for(c in d)d.hasOwnProperty(c)&&this.removeUniqueIndices(d[c],c,a)}};b.addToIdMap=function(a){if(f.isNull(a))return!1;var c=this.idKey;switch(this._idMode){case this._consts._auto:a.hasOwnProperty(c)===
!1&&(a[c]=this._increment++);case this._consts._given:case this._consts._composite:return this.addUniqueIndex(this._idToData,c,a)}return!1};b.addListToIdMap=function(a){if(f.isEmptyArray(a))return!1;var c=this.idKey;switch(this._idMode){case this._consts._auto:for(var d=0,e,b=a.length;d<b;d++)if((e=a[d]).hasOwnProperty(c)===!1)e[c]=this._increment++;case this._consts._given:case this._consts._composite:return this.addUniqueIndices(this._idToData,c,a)}return!1};b.updateIdMap=function(a,c,d){if(f.isNullOr(a,
d)||f.isEmptyObj(c))return!1;var e=this.idKey;switch(this._idMode){case this._consts._auto:if(c.hasOwnProperty(e))return this.grid.error("NOT_MODIFIABLE",e);case this._consts._given:return this.updateUniqueIndex(this._idToData,e,a,c,d);case this._consts._composite:if(c.hasOwnProperty(e))return this.grid.error("NOT_MODIFIABLE",e);for(var d=this._options.idColKeys,b=d.length,i=0;i<b;i++)if(c.hasOwnProperty(d[i])){for(var j="",g=0,k,h,l={},m={},i=m[e]=a[e];g<b;g++)if(k=d[g],c.hasOwnProperty(k)){if(f.isEmptyString(h=
c[k]))return this.grid.error("BAD_NULL",k);j+="&"+h}else j+="&"+a[k];a[e]=l[e]=j;if(i===j)break;c=this.updateUniqueIndex(this._idToData,e,a,l,m);c instanceof Error&&(a[e]=i);return c}}return!1};b.updateListIdMap=function(a,c,d){if(f.isEmptyArray(a)||f.isEmptyArray(c)||f.isEmptyArray(d))return!1;var e=this.idKey,b=a.length,i=0;switch(this._idMode){case this._consts._auto:for(;i<b;i++)if(c[i].hasOwnProperty(e))return this.grid.error("NOT_MODIFIABLE",e);case this._consts._given:return this.updateUniqueIndices(this._idToData,
e,a,c,d);case this._consts._composite:for(var j=this._idToData,g,k,h=this._options.idColKeys,l=h.length,m,d=[],n=[],r=[],t=[],s,u,v,w;i<b;i++){g=a[i];k=c[i];if(k.hasOwnProperty(e)){s=0;for(b=d.length;s<b;s++)n[s][e]=d[s];return this.grid.error("NOT_MODIFIABLE",e)}for(s=0;s<l;s++)if(k.hasOwnProperty(h[s])){m="";for(u=0;u<l;u++)if(v=h[u],k.hasOwnProperty(v)){if(f.isEmptyString(w=k[v])){s=0;for(b=d.length;s<b;s++)n[s][e]=d[s];return this.grid.error("BAD_NULL",v)}m+="&"+w}else m+="&"+g[v];g[e]!==m&&(n.push(g),
r.push({}),t.push({}),d.push(g[e]),g[e]=m)}}if(n.length===0)break;a=this.updateUniqueIndices(j,e,n,r,t);if(a instanceof Error){s=0;for(b=d.length;s<b;s++)n[s][e]=d[s]}return a}return!1};b.removeFromIdMap=function(a){var c=this.idKey,d=this._idToData,e;f.isNotNull(a)&&a.hasOwnProperty(c)&&d.hasOwnProperty(e=a[c])&&delete d[e]};b.removeListFromIdMap=function(a){if(!f.isEmptyArray(a))for(var c=this.idKey,d=a.length,e=this._idToData,b,i,j=0;j<d;j++)i=a[j],i.hasOwnProperty(c)&&e.hasOwnProperty(b=i[c])&&
delete e[b]};b.fillTemp=function(a,c){if(!f.isNull(a)){var d=this.grid.colDefMgr.getAll(),e=d.length,b,i,j=0;if(c!==void 0&&c.isNew)for(;j<e;j++)i=d[j],b=i.key,i.nullOnCreate&&f.isNull(a[b])&&(a[b]="J@H"+this._increment++)}};b.fillTempList=function(a,c){if(!f.isEmptyArray(a)){var d=this.grid.colDefMgr.getAll(),e=d.length,b=a.length,i,j,g=0;if(c!==void 0&&c.isNew)for(;g<e;g++)if(j=d[g],i=j.key,j.nullOnCreate)for(j=0;b;j++)a[j][i]="J@H"+this._increment++}};b.query=function(a){if(typeof a==="string"&&
(a=$.trim(a),a.length!==0)){var c,d,e,b,i;c=a.toLowerCase();d=a.indexOf(" ");if(d!==-1&&(e=c.substring(0,d),c=c.indexOf(" where "),b=c>-1,d=$.trim(b?a.substring(d+1,c):a.substring(d+1)),d.length!==0))switch(b&&(i=$.trim(a.substring(c+7))),e){case "select":return this.executeSelect(d,i);case "insert":return this.executeInsert(d,i);case "update":return this.executeUpdate(d,i);case "delete":return this.executeDelete(d,i)}}};b.parseWhere=function(a){typeof a==="string"&&$.trim(a)};b.executeSelect=function(a){var a=
f.split(a,/[\s,]+/),c=a.length,d=0,e={},b=this.all,i=[];if(c===0)return i;for(;d<c;d++){if(a[d]==="*")break;e[a[d]]=!0}d=0;for(c=b.length;d<c;d++)i.push(f.clone(b[d],e));return i};b.parse=function(a,c){if(f.isNull(a))return!1;for(var d=this.grid.colDefMgr.getAll(),e=d.length,b,i,j=c!==void 0&&c.isNew,g=0;g<e;g++)if(i=d[g],!j||!i.nullOnCreate)if(f.isFunction(b=i.parser))if(i=i.key,a.hasOwnProperty(i))try{a[i]=b(a[i],a)}catch(k){return f.isNull(a)?this.grid.error("PARSE_ERROR",a,i):this.grid.error("PARSE_ERROR",
a[i],i)}return!0};b.parseList=function(a,c){if(f.isNull(a))return!1;if(a.length===0)return!0;for(var d=this.grid.colDefMgr.getAll(),e=d.length,b=a.length,i,j,g=0,k,h=c!==void 0&&c.isNew,l;g<e;g++)if(j=d[g],!h||!j.nullOnCreate)if(f.isFunction(i=j.parser)){j=j.key;try{for(k=0;k<b;k++)l=a[k],l.hasOwnProperty(j)&&(l[j]=i(l[j],l))}catch(m){return f.isNull(l)?this.grid.error("PARSE_ERROR",l,j):this.grid.error("PARSE_ERROR",l[j],j)}}return!0};b.validate=function(a,c){if(f.isNull(a))return!1;for(var d=this.grid.colDefMgr.getAll(),
e=d.length,b,i,j,g,k,h,l,m=c!==void 0&&c.isNew,n=0;n<e;n++)if(b=d[n],i=b.key,k=void 0,g=j=!1,!m||!b.nullOnCreate){if(b.notNull===!0){if(a.hasOwnProperty(i)===!1||f.isEmptyString(k=a[i]))return this.grid.error("BAD_NULL",i);h=k.toString()}else a.hasOwnProperty(i)===!1||f.isNull(k=a[i])?g=j=!0:k===""&&(g=!0),h=j===!1?k.toString():"";if(j===!1){if(f.isNotNull(l=b.max)&&g===!1&&k>l)return this.grid.error("BIGGER_THAN",k,i,l);if(f.isNotNull(l=b.min)&&g===!1&&k<l)return this.grid.error("SMALLER_THAN",k,
i,l);if(f.isNotNull(l=b.length)){if(g===!0||h.length!==l)return this.grid.error("WRONG_LENGTH",h,l,i)}else{if(f.isNotNull(l=b.maxlength)&&g===!1&&h.length>l)return this.grid.error("DATA_TOO_LONG",h,i,l);if(f.isNotNull(l=b.minlength))if(g===!0||h.length<l)return this.grid.error("DATA_TOO_SHORT",h,i,l)}}if(f.isFunction(b=b.validator))try{if(b(k,a,h,j,g)!==!0)return this.grid.error("WRONG_VALUE",h,i)}catch(r){return this.grid.error("WRONG_VALUE",h,i)}}return!0};b.validateList=function(a,c){if(f.isNull(a))return!1;
if(a.length===0)return!0;for(var d=this.grid.colDefMgr.getAll(),e=d.length,b=a.length,i,j,g=0,k,h,l,m,n,r=c!==void 0&&c.isNew,t=[],s=[];g<e;g++)if(i=d[g],j=i.key,h={},l={},t.length=0,s.length=0,!r||!i.nullOnCreate){if(i.notNull===!0)for(k=0;k<b;k++){if(a[k].hasOwnProperty(j)===!1||f.isEmptyString(m=a[k][j]))return this.grid.error("BAD_NULL",j);t.push(m);s.push(m.toString())}else for(k=0;k<b;k++)m=void 0,a[k].hasOwnProperty(j)===!1||f.isNull(m=a[k][j])?(h[k]=!0,l[k]=!0):m===""&&(l[k]=!0),t.push(m),
h.hasOwnProperty(k)?s.push(""):s.push(m.toString());if(f.isNotNull(n=i.max))for(k=0;k<b;k++)if(l.hasOwnProperty(k)===!1&&t[k]>n)return this.grid.error("BIGGER_THAN",t[k],j,n);if(f.isNotNull(n=i.min))for(k=0;k<b;k++)if(l.hasOwnProperty(k)===!1&&t[k]<n)return this.grid.error("SMALLER_THAN",t[k],j,n);if(f.isNotNull(n=i.length))for(k=0;k<b;k++){if(h.hasOwnProperty(k)===!1&&(l.hasOwnProperty(k)||s[k].length!==n))return this.grid.error("WRONG_LENGTH",s[k],n,j)}else{if(f.isNotNull(n=i.maxlength))for(k=0;k<
b;k++)if(l.hasOwnProperty(k)===!1&&s[k].length>n)return this.grid.error("DATA_TOO_LONG",s[k],j,n);if(f.isNotNull(n=i.minlength))for(k=0;k<b;k++)if(h.hasOwnProperty(k)===!1&&(l.hasOwnProperty(k)||s[k].length<n))return this.grid.error("DATA_TOO_SHORT",s[k],j,n)}if(f.isFunction(i=i.validator))try{for(k=0;k<b;k++)if(i(t[k],a[k],s[k],h.hasOwnProperty(k),l.hasOwnProperty(k))!==!0)return this.grid.error("WRONG_VALUE",s[k],j)}catch(u){return this.grid.error("WRONG_VALUE",s[k],j)}}return!0};b.makeCompositeKey=
function(a,c){if(!(this._idMode!==this._consts._composite||f.isNull(a)))if(c===!0||a.hasOwnProperty(this.idKey)===!1){for(var d=this._options.idColKeys,e=d.length,b=0,i="";b<e;b++)i+="&"+a[d[b]];a[this.idKey]=i}};b.makeCompositeKeyList=function(a,c){if(!(this._idMode!==this._consts._composite||a.length===0)){var d=this.idKey,e=a.length,b=this._options.idColKeys,i=b.length,j,f=0,g,h;if(c===!0)for(;f<e;f++){j=a[f];h="";for(g=0;g<i;g++)h+="&"+j[b[g]];j[d]=h}else for(;f<e;f++)if((j=a[f]).hasOwnProperty(d)===
!1){h="";for(g=0;g<i;g++)h+="&"+j[b[g]];j[d]=h}}};b.map=function(a){if(!f.isNull(a)){var c=this._idToData,d=this.idKey,e;this.makeCompositeKey(a);if(a.hasOwnProperty(d)&&c.hasOwnProperty(e=a[d]))return c[e]}};b.mapList=function(a){if(f.isEmptyArray(a))return{mapped:[],unmapped:[]};this.makeCompositeKeyList(a);for(var c=[],d=[],e=this.idKey,b=this._idToData,i=a.length,j=0,g,k;j<i;j++)(g=a[j]).hasOwnProperty(e)&&b.hasOwnProperty(k=g[e])?c.push(b[k]):d.push(g);return{mapped:c,unmapped:d}};b.getById=
function(a){if(f.isNotNull(a)&&this._idToData.hasOwnProperty(a))return this._idToData[a]};b.getByIdx=function(a){if(f.isNotNull(a)&&this.datalist.hasOwnProperty(a))return this.datalist[a]};b.getByNode=function(a){return this.getById(this.getIdByNode(a))};b.getIdx=function(a){return this.getIdxById(this.getId(a))};b.getIdxById=function(a){return f.isNotNull(a)&&this._idToIdx.hasOwnProperty(a)?this._idToIdx[a]:-1};b.getIdxByNode=function(a){return this.getIdxById(this.getIdByNode(a))};b.getId=function(a){if(f.isNotNull(a)&&
a.hasOwnProperty(this.idKey))return a[this.idKey]};b.getIdByIdx=function(a){return this.getId(this.getByIdx(a))};b.getIdByNode=function(a){if(f.isNotNull(a))return a.getAttribute("i")};b._reidxFrom=function(a){f.isNull(a)&&(a=0);for(var c=this.datalist,d=c.length,e=this.idKey,b=this._idToIdx;a<d;a++)b[c[a][e]]=a};b._reidx=function(){this._idToIdx={};this._reidxFrom()};b.has=function(a){return this.hasById(this.getId(a))};b.hasById=function(a){return f.isNotNull(a)?this._idToIdx.hasOwnProperty(a):
!1};b.contains=function(a){return this.containsById(this.getId(a))};b.containsById=function(a){return f.isNotNull(a)?this._idToData.hasOwnProperty(a):!1};b.set=function(a){if(this.all===a||f.isEmptyArray(a)&&this.all===0)return!1;this.grid.event.trigger("onBeforeDataChange",!1,!0);this.grid.event.trigger("onBeforeSetDatalist",[this.all,a],!0);this.cleanList(this.all);var c,d=this.uniqueMap;for(c in d)d.hasOwnProperty(c)&&(d[c]={});this._idToData={};this.all=[];this._history.length=0;this._redoHistory.length=
0;f.isNull(a)&&(a=[]);if((c=this.parseList(a))instanceof Error)return c;if((c=this.validateList(a))instanceof Error)return c;if((c=this.addListToUniqueMap(a))instanceof Error)return c;this.makeCompositeKeyList(a,!0);if((c=this.addListToIdMap(a))instanceof Error)return c;this.all=a;this.grid.event.trigger("onAfterSetDatalist",[a],!0);this.grid.event.trigger("onDataChange",!1,!0);this.refresh();return!0};b.add=function(a,c){if(f.isNull(a)||f.isNotNull(this.map(a)))return!1;this.grid.event.trigger("onBeforeDataChange",
!1,!0);this.fillTemp(a,c);var d;if((d=this.parse(a,c))instanceof Error)return d;if((d=this.validate(a,c))instanceof Error)return d;if((d=this.addToUniqueMap(a))instanceof Error)return d;if((d=this.addToIdMap(a))instanceof Error)return d;this.all.push(a);if(f.isNull(c)||c.undo!==!0)this._history.push({_action:this._consts._add,_target:a}),this._redoHistory.length=0;this.grid.event.trigger("onAddDatarow",[a,c],!0);this.grid.event.trigger("onDataChange",!1,!0);(c===void 0||c.noRefresh!==!0)&&this.refresh(c);
return!0};b.addList=function(a,c){if(f.isEmptyArray(a))return!1;var d=this.mapList(a).unmapped;if(d.length===0)return!1;this.grid.event.trigger("onBeforeDataChange",!1,!0);this.fillTempList(a,c);var e;if((e=this.parseList(d,c))instanceof Error)return e;if((e=this.validateList(d,c))instanceof Error)return e;if((e=this.addListToUniqueMap(d))instanceof Error)return e;if((e=this.addListToIdMap(d))instanceof Error)return e;this.all.pushList(d);if(f.isNull(c)||c.undo!==!0)this._history.push({_action:this._consts._addList,
_target:d}),this._redoHistory.length=0;this.grid.event.trigger("onAddDatalist",[d,c],!0);this.grid.event.trigger("onDataChange",!1,!0);(c===void 0||c.noRefresh!==!0)&&this.refresh(c);return!0};b.updateByKey=function(a,c,d,e){var b={};b[c]=d;return this.update(a,b,e)};b.update=function(a,c,d){if(f.isNullOr(a,c))return!1;this.grid.event.trigger("onBeforeDataChange",!1,!0);this.grid.event.trigger("onBeforeUpdateDatarow",[a,c],!0);var e={},b;for(b in c)c.hasOwnProperty(b)&&(a[b]===c[b]?delete c[b]:(e[b]=
a[b],a[b]=c[b]));if(f.isEmptyObj(e))return!1;if((b=this.parse(a,d))instanceof Error)return this._rollback(a,e),b;if((b=this.validate(a,d))instanceof Error)return this._rollback(a,e),b;if((b=this.updateUniqueMap(a,c,e))instanceof Error)return this._rollback(a,e),b;if((b=this.updateIdMap(a,c,e))instanceof Error)return this._rollback(a,e),b;b!==!1&&this.grid.event.trigger("onIdChange",[a,b,a[this.idKey]],!0);if(f.isNull(d)||d.undo!==!0)this._history.push({_action:this._consts._update,_target:a,_before:e,
_change:c}),this._redoHistory.length=0;this.grid.event.trigger("onUpdateDatarow",[a,c,e,d],!0);this.grid.event.trigger("onDataChange",!1,!0);(d===void 0||d.noRefresh!==!0)&&this.refresh(d);return!0};b.updateList=function(a,c){if(f.isEmptyArray(a))return!1;this.grid.event.trigger("onBeforeDataChange",!1,!0);this.grid.event.trigger("onBeforeUpdateDatalist",[a],!0);for(var d=[],e=[],b=[],i,j,g,k=a.length,h=0,l;h<k;h++){j={};i=a[h].datarow;g=a[h].change;for(l in g)g.hasOwnProperty(l)&&(i[l]===g[l]?delete g[l]:
(j[l]=i[l],i[l]=g[l]));f.isNotEmptyObj(j)&&(d.push(i),e.push(j),b.push(g))}if(d.length===0)return!1;if((i=this.parseList(d,c))instanceof Error)return this._rollbackList(d,e),i;if((i=this.validateList(d,c))instanceof Error)return this._rollbackList(d,e),i;if((i=this.updateListUniqueMap(d,b,e))instanceof Error)return this._rollbackList(d,e),i;if((i=this.updateListIdMap(d,b,e))instanceof Error)return this._rollbackList(d,e),i;i!==!1&&this.grid.event.trigger("onIdListChange",[i.list,i.befores,this.idKey],
!0);if(f.isNull(c)||c.undo!==!0)this._history.push({_action:this._consts._updateList,_target:d,_before:e,_change:b}),this._redoHistory.length=0;this.grid.event.trigger("onUpdateDatalist",[d,b,e,c],!0);this.grid.event.trigger("onDataChange",!1,!0);(c===void 0||c.noRefresh!==!0)&&this.refresh(c);return!0};b._rollback=function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])};b._rollbackList=function(a,c){for(var d=a.length,e=0,b,i,j;e<d;e++)for(j in b=a[e],i=c[e],i)i.hasOwnProperty(j)&&(b[j]=i[j])};
b.remove=function(a,c){if(f.isNull(a))return!1;var d=this.map(a);if(f.isNull(d))return!1;this.grid.event.trigger("onBeforeDataChange",!1,!0);this.removeFromIdMap(d);this.removeFromUniqueMap(d);this.all.remove(d);this.removeId(d);if(f.isNull(c)||c.undo!==!0)this._history.push({_action:this._consts._remove,_target:d}),this._redoHistory.length=0;this.grid.event.trigger("onRemoveDatarow",[d,c],!0);this.grid.event.trigger("onDataChange",!1,!0);(c===void 0||c.noRefresh!==!0)&&this.refresh(c);return!0};
b.removeList=function(a,c){if(f.isEmptyArray(a))return!1;var d=this.mapList(a).mapped;if(d.length===0)return!1;this.grid.event.trigger("onBeforeDataChange",!1,!0);this.removeListFromIdMap(d);this.removeListFromUniqueMap(d);this.all.removeList(d);this.cleanList(d);if(f.isNull(c)||c.undo!==!0)this._history.push({_action:this._consts._removeList,_target:d}),this._redoHistory.length=0;this.grid.event.trigger("onRemoveDatalist",[d,c],!0);this.grid.event.trigger("onDataChange",!1,!0);(c===void 0||c.noRefresh!==
!0)&&this.refresh(c);return!0};b._keydownCanvas=function(a){if(a.ctrlKey)switch(a.which){case "Z".charCodeAt(0):this.undo();break;case "Y".charCodeAt(0):this.redo()}};b.undo=function(){if(this._history.length===0)return!1;var a=this._history.pop();this._redoHistory.push(a);var c=a._target,d=a._before;switch(a._action){case this._consts._add:return this.remove(c,{undo:!0});case this._consts._addList:return this.removeList(c,{undo:!0});case this._consts._update:return this.update(c,d,{undo:!0});case this._consts._updateList:for(var a=
[],e=0,b=c.length;e<b;e++)a.push({datarow:c[e],change:d[e]});return this.updateList(a,{undo:!0});case this._consts._remove:return this.add(c,{undo:!0});case this._consts._removeList:return this.addList(c,{undo:!0})}};b.redo=function(){if(this._redoHistory.length===0)return!1;var a=this._redoHistory.pop();this._history.push(a);var c=a._target,d=a._change;switch(a._action){case this._consts._add:return this.add(c,{undo:!0});case this._consts._addList:return this.addList(c,{undo:!0});case this._consts._update:return this.update(c,
d,{undo:!0});case this._consts._updateList:for(var a=[],e=0,b=c.length;e<b;e++)a.push({datarow:c[e],change:d[e]});return this.updateList(a,{undo:!0});case this._consts._remove:return this.remove(c,{undo:!0});case this._consts._removeList:return this.removeList(c,{undo:!0})}};b.equals=function(a,c){if(f.isNullOr(a,c))return!1;if(a===c)return!0;this._idMode===this._consts._composite&&(this.makeCompositeKey(a),this.makeCompositeKey(c));var d=this.idKey;return f.isNull(a[d])||f.isNull(c[d])?!1:a[d]===
c[d]};b.getReal=function(){var a=this._consts._notReal;return this.all.filter(function(c){return c.hasOwnProperty(a)===!1})};b.filterReal=function(a){var c=this._consts._notReal;return a.filter(function(a){return a.hasOwnProperty(c)===!1})};b.isReal=function(a){return f.isNotNull(a)&&a.hasOwnProperty(this._consts._notReal)===!1};b.dropNonReal=function(a){if(!f.isEmptyArray(a))for(var c=this._consts._notReal,d=a.length-1;d>=0;d--)a[d].hasOwnProperty(c)&&(delete a[d][c],a.removeAt(d))};b.removeIdCol=
function(a){if(!(this._idMode===this._consts._given||f.isEmptyArray(a)))for(var c=this.idKey,d=0,e=a.length;d<e;d++)a[d].hasOwnProperty(c)&&delete a[d][c]};b.removeId=function(a){f.isNotNull(a)&&this._idMode!==this._consts._given&&a.hasOwnProperty(this.idKey)&&delete a[this.idKey]};b.cleanList=function(a){f.isEmptyArray(a)||(this.removeIdCol(a),this.dropNonReal(a))};b.purify=function(a){if(a!==void 0)a=this.all;if(f.isEmptyArray(a))return[];for(var c=[],d=a.length,e=0,b,i,j=this._consts._notReal;e<
d;e++)if((i=a[e]).hasOwnProperty(j)===!1)for(b in c.push({}),i)i.hasOwnProperty(b)&&i.hasOwnProperty(b)&&b.substring(0,3);return c};b.setSorter=function(a){this.grid.event.trigger("onChangeSorter",[this._sorter,a],!0);this._sorter=a};b._sort=function(a){f.isNull(a)?a=this._sorter:this.setSorter(a);if(!f.isNull(a)){var c=this.all;this.grid.event.trigger("onBeforeSort",[c],!0);f.isNotNull(a.comparator)?(c.sort(a.comparator),a.desc&&c.reverse()):f.isNotNull(a.lexi)&&this.constructor._lexi(c,a.lexi,a.desc);
this.grid.event.trigger("onAfterSort",[c],!0)}};b.addFilter=function(a){this._filters.push(a);this.refresh()};b.removeFilter=function(a){var c=this._filters.length;this._filters.remove(a);c!==this._filters.length&&this.refresh()};b._filter=function(){var a=this.datalist,c=this.failed,d=0,e=this._filters.length,b,i;this.grid.event.trigger("onBeforeFilter",[a,c],!0);a.length=0;a.pushList(this.all);for(c.length=0;d<e;d++){b=this._filters[d];for(i=a.length-1;i>=0;i--)b(a[i])||(c.push(a[i]),a.removeAt(i))}this.grid.event.trigger("onFilter",
[a,c],!0);this.grid.event.trigger("onAfterFilter",[a,c],!0)};b._finish=function(a){this._reidx();this.grid.event.trigger("onAfterRefresh",[a],!0)};b.refresh=function(a){this.grid.event.trigger("onBeforeRefresh",!1,!0);a===void 0?this._sort():a.noSort!==!0&&this._sort(a.sorter);(a===void 0||a.noFilter!==!0)&&this._filter();this._finish(a)};b.exportRowToArray=function(a,c){if(!(a in this.datalist))return null;c||(c=this.grid.colDefMgr.getKeys());for(var d=this.datalist[a],e=[],b,i=0,j=c.length;i<j;i++)b=
c[i],e.push(b in d?d[b]:null);return e};b.exportToArray=function(a,c,d){a||(a=this.grid.colDefMgr.getKeys());for(var c=this.datalist.slice(c,d),e=[],b,i,j=0,f=c.length,g,h=a.length;j<f;j++){b=c[j];g=0;for(d=[];g<h;g++)i=a[g],d.push(i in b?b[i]:null);e.push(d)}return e};g._lexi=function(a,c,d){var e=Object.prototype.toString;Object.prototype.toString=f.isFunction(c)?c:function(){return this[c]};a.sort();Object.prototype.toString=e;d&&a.reverse()}})();jx.grid.EventManager={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;a.grid.event=this;this._map={}}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.EventManager",g);g.getInstance=function(a){return new g(a)};var b=g.prototype;b.destroy=function(){var a,c=this._map;for(a in c)c.hasOwnProperty(a)&&h._deleteArray(c,a);h._destroy(this,{name:"EventManager",path:"event",map:"_map"})};b.register=function(a,c,d){if(f.isString(a))this._parseAndAdd(a,
c,d);else if(f.isNotNull(a.e))this._parseAndAdd(a.e,a.f,a.t);else for(var e,c=a.length,b;e<c;e++)f.isNotNull(b=a[e])&&this._parseAndAdd(b.e,b.f,b.t)};b.bind=function(a,c,d){if(f.isString(a))this._parseAndAdd(a,c,d);else for(var e in a)a.hasOwnProperty(e)&&this._parseAndAdd(e,a[e],c)};b._parseAndAdd=function(a,c,d){f.isNull(d)&&(d=window);var a=f.split(a),e=a.length,b=0;if(f.isFunction(c))for(;b<e;b++)this._addHandler(a[b],c,d);else if(f.isString(c))for(var c=f.split(c),i=c.length,j,g;b<e;b++){j=a[b];
for(g=0;g<i;g++)this._addHandler(j,d[c[g]],d)}else for(i=c.length;b<e;b++){j=a[b];for(g=0;g<i;g++)this._addHandler(j,c[g],d)}};b._addHandler=function(a,c,d){this._map.hasOwnProperty(a)||(this._map[a]=[]);this._map[a].push({fn:c,target:d})};b.unregister=function(a,c){var d=this._map;if(d.hasOwnProperty(a)){var e=d[a];if(f.isNull(c))e.length=0,delete d[a];else for(var b=0,i=e.length;b<i;b++)if(e[b].fn===c){e.removeAt(b);e.length===0&&delete d[a];break}}};b.trigger=function(a,c,d,e){var b=this._map;
if(b.hasOwnProperty(a)&&(a=b[a],b=a.length)){var i=0;if(d)if(c&&c.length)for(;i<b;i++)d=a[i],d.fn.apply(d.target,c);else for(;i<b;i++)d=a[i],d.fn.call(d.target);else{e=e||[];if(c&&c.length)for(;i<b;i++)d=a[i],e.push(d.fn.apply(d.target,c));else for(;i<b;i++)d=a[i],e.push(d.fn.call(d.target));return e}}};b.triggerMultiple=function(a,c,d){var a=a.split(","),e=0,b=a.length;if(d){for(d=[];e<b;e++)this.trigger(a[e],c,!1,d);return d}else for(;e<b;e++)this.trigger(a[e],c,!0)};b.triggerInvalid=function(a,
c){var d=this.trigger(a,c);return d&&d.some(function(c){return c===!1})};b.sendToBack=function(a,c){for(var d=this._map[a],e=d.length,b,i=-1,j=0;j<e;j++)if(d[j].fn===c){i=j;b=d[j];break}i>-1&&(d.removeAt(j),d.push(b))};b.sendToFront=function(a,c){for(var d=this._map[a],e=d.length,b,i=-1,j=0;j<e;j++)if(d[j].fn===c){i=j;b=d[j];break}i>-1&&(d.removeAt(j),d.unshift(b))}})();jx.struct={};jx.struct.TreeNode={};jx.struct.Tree={};var TreeNode={},Tree={};
(function(){function g(a){this.tree=a.tree;this.data=a.data;this.nodeId=a.nodeId;this.childrenMap={};this.children=[]}function h(a){this.list=a.list;this._options=JGM._extend({nodeKey:"nodeId",parentKey:"parentId"},a.options);this.map={};this.root=new g({tree:this});this.infants={}}var f=goog.getObjectByName("jx.util");goog.exportSymbol("jx.struct.TreeNode",g);goog.exportSymbol("jx.struct.Tree",h);goog.exportSymbol("TreeNode",g);goog.exportSymbol("Tree",h);g.getInstance=function(a){return new g(a)};
var b=g.prototype;b.destroy=function(){this.detach();delete this.tree;delete this.data;delete this.nodeId;delete this.childrenMap;delete this.children};b.destroyCompletely=function(){this.detachCompletely();delete this.tree;delete this.data;delete this.nodeId;delete this.childrenMap;delete this.children};b.destroyDown=function(){f.isNotNull(this.parent)&&this.parent.removeChild(this);this.traverse({post:!0,fn:function(){this.destroy()}})};b.detach=function(){delete this.parent;delete this.level;this.children.length=
0;this.childrenMap={}};b.detachCompletely=function(){f.isNotNull(this.parent)&&this.parent.removeChild(this);this.removeAllChildren();delete this.parent;delete this.level};b.detachDown=function(){f.isNotNull(this.parent)&&this.parent.removeChild(this);this.traverse({post:!0,fn:function(){this.detach()}})};b.isRoot=function(){return f.isNull(this.parent)};b.getRoot=function(){};b.isLeaf=function(){return this.children.length===0};b.setParent=function(a){if(this.parent!==a)f.isNotNull(this.parent)&&
this.parent.removeChild(this),this.parent=a,delete this.level,f.isNotNull(a)&&a.addChild(this)};b.hasChild=function(a){return this.childrenMap.hasOwnProperty(a.nodeId)};b.addChild=function(a){this.hasChild(a)||(this.children.push(a),this.childrenMap[a.nodeId]=this.children.length-1,a.setParent(this))};b.addChildAt=function(a,c){var d;if(this.hasChild(c)){d=this.childrenMap[c.nodeId];if(d===a)return;this.children.removeAt(d)}this.children.addAt(a,c);f.isNotNull(d)&&d<a?this.resetChildIdx(d):this.resetChildIdx(a);
c.setParent(this)};b.removeChild=function(a){if(this.hasChild(a)){var c=this.childrenMap[a.nodeId];this.children.removeAt(c);delete this.childrenMap[a.nodeId];this.resetChildIdx(c);delete a.parent;delete a.level}};b.removeChildAt=function(a){var c=this.children[a];this.children.removeAt(a);delete this.childrenMap[c.nodeId];this.resetChildIdx(a);delete c.parent;delete c.level};b.resetChildIdx=function(a){f.isNull(a)&&(a=0);for(var c=this.children,d=c.length,e=this.childrenMap;a<d;a++)e[c[a].nodeId]=
a};b.removeAllChildren=function(){for(var a=0,c=this.children,d=c.length;a<d;a++)delete c[a].parent,delete c[a].level;c.length=0;this.childrenMap={}};b.getSiblings=function(){if(this.isRoot())return[];var a=this.parent.children.slice();a.removeAt(this.parent.getChildIdx(this));return a};b.getChildIdx=function(a){return this.childrenMap[a.nodeId]};b.getIdx=function(){return this.isRoot()?-1:this.parent.getChildIdx(this)};b.getPath=function(){return this.traverse({res:[],up:!0,post:!0,fn:function(a){this.isRoot()||
a.res.push(this.getIdx())}}).res};b.getAncestors=function(){var a={res:[],up:!0,post:!0,fn:function(c){c.res.push(this)}};this.traverse(a);a.res.pop();return a.res};b.getDescendents=function(){var a={res:[],fn:function(c){c.res.push(this)}};this.traverse(a);a.res.shift();return a.res};b.getLevel=function(){return this.isRoot()?this.level=-1:this.level=this.parent.getLevel()+1};b.find=function(a){return this.traverse({fn:function(c){if(this.data===a)c.res=this,c.stop=!0}}).res};b.traverse=function(a,
c){if(a.stop)return a;if(a.up)this.isRoot()?this.callFn(a):a.post?(this.parent.traverse(a),this.callFn(a)):(this.callFn(a),this.parent.traverse(a));else{var d=0,e=this.children,b=e.length;if(a.post){for(;d<b;d++)e[d].traverse(a,d);this.callFn(a,c)}else if(this.callFn(a,c),a.propagate===!1)delete a.propagate;else for(;!a.stop&&d<b;d++)e[d].traverse(a,d)}return a};b.traverseChildren=function(a){for(var c=0,d=this.children,e=d.length;c<e;c++)d[c].traverse(a,c)};b.traverseParent=function(a){f.isNotNull(this.parent)&&
this.parent.traverse(a)};b.callFn=function(a,c){if(!a.stop)f.isNull(a.target)?f.callFn(this,a.fn,a,c):(a.node=this,f.callFn(a.target,a.fn,a,c))};h.getInstance=function(a){return new h(a)};b=h.prototype;b.__init=function(){this.makeTree()};b.destroy=function(){this.root.destroyDown();this.map={};this.emptyInfants();delete this.list;delete this._options;delete this.map;delete this.root;delete this.infants;delete this.mid};b.detach=function(){this.root.detachDown();this.emptyInfants()};b.emptyInfants=
function(){var a,c=this.infants;for(a in c)if(c.hasOwnProperty(a))c[a].length=0;this.infants={}};b.reattach=function(a){this.detach();if(f.isNull(a))a=this.list;for(var c=this._options.nodeKey,d=this.map,e=a.length,b=0;b<e;b++)this.attachNode(d[a[b][c]])};b.makeTree=function(a){if(f.isNull(a))a=this.list;for(var c=0,d=a.length;c<d;c++)this.createNode(a[c])};b.hasNode=function(a){return f.isNotNull(a)&&this.map.hasOwnProperty(a[this._options.nodeKey])};b.getNode=function(a){return this.map[a[this._options.nodeKey]]};
b.getNodeByNodeId=function(a){return this.map[a]};b.createNode=function(a){if(!this.hasNode()){var c=a[this._options.nodeKey],a=new g({tree:this,data:a,nodeId:c});this.map[c]=a;this.attachNode(a);return a}};b.adoptInfants=function(a,c){if(this.infants.hasOwnProperty(c)){for(var d=this.infants[c],e=0,b=d.length;e<b;e++)a.addChild(d[e]);d.length=0;delete this.infants[c]}};b.attachNode=function(a){var c=a.nodeId,d=a.data[this._options.parentKey];this.adoptInfants(a,c);if(f.isNull(d)||d==c)return this.root.addChild(a),
!0;if(this.map.hasOwnProperty(d))return this.map[d].addChild(a),!0;this.addToInfants(a,d);return!1};b.changeNodeId=function(a,c,d){if(c!==d)delete this.map[c],this.map[d]=a,this.removeChildren(a),a.nodeId=a.data[this._options.nodeKey]=d,f.isNotNull(a.parent)&&(a.parent.childrenMap[d]=a.parent.childrenMap[c],delete a.parent.childrenMap[c]),this.adoptInfants(a,d)};b.changeParentId=function(a,c,d){c!==d&&(f.isNull(a.parent)&&this.removeFromInfants(a,c),c=this.map[d],a.setParent(c),a.data[this._options.parentKey]=
d,f.isNull(c)&&this.addToInfants(a,d))};b.destroyNodeByData=function(a){this.destroyNode(this.getNode(a))};b.destroyNode=function(a){this.removeChildren(a);this.removeFromInfants(a);this.removeFromMap(a);a.destroyCompletely()};b.removeFromMap=function(a){delete this.map[a.nodeId]};b.addToInfants=function(a,c){this.infants.hasOwnProperty(c)||(this.infants[c]=[]);this.infants[c].push(a)};b.removeFromInfants=function(a,c){f.isNull(c)&&(c=a.data[this._options.parentKey]);this.infants.hasOwnProperty(c)&&
(this.infants[c].remove(a),this.infants[c].length===0&&delete this.infants[c])};b.removeChildren=function(a){a.children.length!==0&&(this.infants.hasOwnProperty(a.nodeId)||(this.infants[a.nodeId]=[]),this.infants[a.nodeId].pushList(a.children),a.removeAllChildren())};b.sortList=function(a){f.isNull(a)?a=[]:a.length=0;this.root.traverseChildren({fn:function(){a.push(this.data)}})}})();jx.grid.Grid={};
(function(){function g(c){this.mid=c.mid;b.call(this,c)}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("echo");var b=goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("TimeWatch");goog.exportSymbol("jx.grid.Grid",g);g.V_KEYDOWN=3;g.V_KEYPRESS=3;g.V_KEYUP=3;g.V_MOUSEMOVE=5;g.V_MOUSEOVER=4;g.V_MOUSEOUT=4;g.V_MOUSEIN=4;g.V_MOUSEDOWN=3;g.V_MOUSEUP=3;g.V_MOUSEENTER=3;g.V_MOUSELEAVE=3;g.V_CLICK=2;g.V_DBLCLICK=2;g.V_RESIZE=2;g.V_INIT=1;goog.inherits(g,
b);g.getInstance=function(c){return new g(c)};var a=g.prototype;a._defaultOptions=function(){return{classGrid:"jgrid",border:"1px solid #868686",width:void 0,font:"15px Arial,Helvetica,sans-serif",style:"",borderSide:!0,imageUrl:"../images/",links:{data:"dataMgr.all",datalen:"dataMgr.all.length",shown:"dataMgr.datalist",set:"dataMgr.set",add:"dataMgr.add",addList:"dataMgr.addList",update:"dataMgr.update",updateByKey:"dataMgr.updateByKey",updateList:"dataMgr.updateList",remove:"dataMgr.remove",removeList:"dataMgr.removeList",
select:"dataMgr.executeSelect",undo:"dataMgr.undo",redo:"dataMgr.redo",addFilter:"dataMgr.addFilter",removeFilter:"dataMgr.removeFilter",check:"collapser.checkMgr.checkList checkMgr.checkList",checked:"collapser.checkMgr.getCheckList checkMgr.getCheckList",removeChecked:"collapser.checkMgr.removeChecked checkMgr.removeChecked",register:"event.register",trigger:"event.trigger",bind:"event.bind",unregister:"event.unregister",unbind:"event.unregister",commit:"editMgr.commit",cancelEdit:"editMgr.cancel",
beginEdit:"editMgr.begin",collen:"colDefMgr.length"},autoWidth:!1,showMessage:!1}};a._init=function(c){var a=this._ctnr=c.container,e=this._options,b;this.name=e.name;this._drag=!1;this._lastH=this._lastW=null;this._vars={scrollbarDim:void 0};a=this._ctnr=$("<div id='"+this.mid+"' class='"+e.classGrid+"' "+(f.isNull(e.width)?"":"style='width:"+e.width+"px' ")+"tabIndex='0'>").appendTo(Util$.safe$(a));this._vars.scrollbarDim=Util$.calScrollbarDims(a);b=this.event=h.create("EventManager",{grid:this,
options:e.EventManager});this.colDefMgr=h.create("ColumnManager",{grid:this,colDefs:c.colDefs,options:e.ColDefManager});this.dataMgr=h.create("DataManager",{grid:this,datalist:c.datalist,options:e.DataManager});e.CheckManager&&(this.checkMgr=h.create("CheckManager",{grid:this,options:e.CheckManager}));if(e.Collapser)this.collapser=h.create("Collapser",{grid:this,options:e.Collapser}),this.collapser.__init();e.ColGroup&&(this.colGroup=h.create("ColumnGroup",{grid:this,options:e.ColGroup}));e.SelectionManager&&
(this.selMgr=h.create("SelectionManager",{grid:this,options:e.SelectionManager}));e.EditManager&&(this.editMgr=h.create("EditManager",{grid:this,options:e.EditManager}));e.ColHeader&&(this.header=h.create("ColumnHeader",{grid:this,container:a,options:e.ColHeader}));e.SearchManager&&(this.search=h.create("SearchManager",{grid:this,container:a,options:e.SearchManager}));e.MenuBar&&(this.menubar=h.create("MenuBar",{grid:this,container:a,options:e.MenuBar}));this.view=h.create("ViewportManager",{grid:this,
container:a,options:e.ViewportManager});e.TooltipManager&&(this.tooltip=h.create("TooltipManager",{grid:this,container:a,options:e.TooltipManager}));e.DataCreator&&(this.creator=h.create("DataCreator",{grid:this,container:a,options:e.DataCreator}));e.Footer&&(this.footer=h.create("Footer",{grid:this,container:a,options:e.Footer}));e.autoWidth&&b.bind("onResizeCanvasWidth",this.width,this);this._createCss();b.trigger("onBeforeRenderModules",!1,!0);b.trigger("onRenderModules",!1,!0);b.trigger("onAfterRenderModules",
!1,!0);this.msg=$("<div id='"+this.mid+"msg' class='msg' onmousedown='$(this).hide(1000)' style='position:relative;padding-left:4px;overflow:hidden;z-index:100;font-size:12px;height:21px;line-height:21px'></div>").appendTo(a).hide();a=a[0];this._lastW=a.clientWidth;this._lastH=a.clientHeight;this._registerLinks(e.links)};a._bindEvents=function(){h._bindGlobalEvents();var c=this;this._ctnr.bind({keydown:function(a){c._keydown(a)},keyup:function(a){c._keyup(a)},keypress:function(a){c._keypress(a)},
mousein:function(a){c._mousein(a)},mouseout:function(a){c._mouseout(a)},mouseenter:function(a){c._mouseenter(a)},mouseleave:function(a){c._mouseleave(a)},mouseover:function(a){c._mouseover(a)},mousedown:function(a){c._mousedown(a)},click:function(a){c._click(a)},dblclick:function(a){c._dblclick(a)}});this._charts=[]};a.destroy=function(){try{this.dispatchEvent({type:"beforeDispose"}),f.isEmptyObj(h.m.Grid)&&h._unbindGlobalEvents(),this.event.trigger("onDestroy",!1,!0),h._destroy(this,{name:"Grid",
module:"event",$:"_ctnr",map:"_options",style:"_style _dynStyle"}),this.dispose()}catch(c){return c}};a._registerLinks=function(c){var a,e,b,i,j,g,k,h,l,m;a:for(a in c)if(c.hasOwnProperty(a)&&!(a in this)){e=f.split(c[a]);b=e.length;i=0;b:for(;i<b;i++)if(j=e[i].split("."),g=j.length,!(g<1)){k=this;h=this;l="";for(m=0;m<g;m++)if(j[m]in k)h=k,k=k[l=j[m]];else continue b;this._registerLink(a,k,h,l);continue a}}};a._registerLink=function(c,a,e,b){if(this.hasOwnProperty(c))return!1;this[c]=f.isFunction(a)?
function(){return a.apply(e,arguments)}:function(){return e[b]};return!0};a._createCss=function(){var c={type:"beforeCreateCss",css:[]},a=this._options,e=this.event;this.dispatchEvent(c);var b=e.trigger("onCreateCss"),b=b?b.join(""):"",c=f.sprint("%selector%{overflow:hidden;font:%font%;%border%%style%}%submodule%",{selector:"#"+this.mid,font:a.font,border:a.borderSide?"border:"+a.border+";":"border-top:"+a.border+";border-bottom:"+a.border+";",style:a.style,submodule:c.css.join("")+b});this._style=
f.createStyle(c);c={type:"beforeCreateDynamicCss",css:[]};this.dispatchEvent(c);b=(b=e.trigger("onCreateDynamicCss"))?b.join(""):"";this._dynStyle=f.createStyle(c.css.join("")+";"+b)};a._recreateDynamicCss=function(){var c=this.event.trigger("onCreateDynamicCss");(c=c?c.join(""):"")&&f.setStyle(this._dynStyle,c)};a._keydown=function(c){var a=this.event,e=[c],c=c.which;a.triggerInvalid("onBeforeKeydown",e)||(a.trigger("keydown_"+c,e,!0),a.trigger("keydown",e,!0))};a._keyup=function(c){var a=this.event,
e=[c],c=c.which;a.triggerInvalid("onBeforeKeyup",e)||(a.trigger("keyup_"+c,e,!0),a.trigger("keyup",e,!0))};a._keypress=function(c){var a=this.event,e=[c],c=c.which;a.triggerInvalid("onBeforeKeypress",e)||(a.trigger("keypress_"+c,e,!0),a.trigger("keypress",e,!0))};a._mousein=function(a){var d=this.event,a=[a];d.triggerInvalid("onBeforeMousein",a)||(this._drag&&d.trigger("dragin",a,!0),d.trigger("mousein",a,!0))};a._mouseout=function(a){var d=this.event,a=[a];d.triggerInvalid("onBeforeMouseout",a)||
(this._drag&&d.trigger("dragout",a,!0),d.trigger("mouseout",a,!0))};a._mouseenter=function(a){var d=this.event,a=[a];d.triggerInvalid("onBeforeMouseenter",a)||(this._drag&&d.trigger("dragenter",a,!0),d.trigger("mouseenter",a,!0))};a._mouseleave=function(a){var d=this.event,a=[a];d.triggerInvalid("onBeforeMouseleave",a)||(this._drag&&d.trigger("dragleave",a,!0),d.trigger("mouseleave",a,!0))};a._mousemove=function(a){var d=this.event,a=[a];d.triggerInvalid("onBeforeMousemove",a)||(this._drag&&d.trigger("dragmove",
a,!0),d.trigger("mousemove",a,!0))};a._mouseover=function(a){var d=this.event,a=[a];d.triggerInvalid("onBeforeMouseover",a)||(this._drag&&d.trigger("dragover",a,!0),d.trigger("mouseover",a,!0))};a._mousedown=function(a){var d=this.event,a=[a];this._drag=!0;d.triggerInvalid("onBeforeMousedown",a)||d.trigger("mousedown",a,!0)};a._mouseup=function(a){var d=this.event,e=[a];this._drag=!1;d.trigger("unsetDrag",!1,!0);this.containsEvent(a)&&(d.triggerInvalid("onBeforeMouseup",e)||d.trigger("mouseup",e,
!0))};a._click=function(a){var d=this.event,a=[a];d.triggerInvalid("onBeforeClick",a)||d.trigger("click",a,!0)};a._dblclick=function(a){var d=this.event,a=[a];d.triggerInvalid("onBeforeDblclick",a)||d.trigger("dblclick",a,!0)};a._resize=function(a){var d=this.event,e=!1,b=this._ctnr[0],i=this._lastW,j=this._lastH,f=b.clientWidth,b=b.clientHeight;if(f>=1&&i!==f)d.trigger("resizeWidth",[f,i],!0),this._lastW=f,e=!0;if(b>=1&&j!==b)d.trigger("resizeHeight",[b,j],!0),this._lastH=b,e=!0;e&&d.trigger("resize",
[a],!0)};a.width=function(a){var d=this._ctnr[0],e=d.clientWidth,b=this.event;if(!a)return e;typeof a!="number"&&(a=parseInt(a));if(a<1||a===e||!isFinite(a))return e;d.style.width=a+"px";b.trigger("resizeWidth",[a,this._lastW],!0);this._lastW=a;b.trigger("resize",!1,!0);return a};a.height=function(a){var d=this._ctnr[0],e=d.clientHeight,b=this.event;if(!a)return e;typeof a!="number"&&(a=parseInt(a));if(a<1||a===e||!isFinite(a))return e;d.style.height=a+"px";b.trigger("resizeHeight",[a,this._lastH],
!0);this._lastH=a;b.trigger("resize",!1,!0);return a};a.getCellByIdAndKey=function(a,d){return h.create("Cell",{grid:this,datarow:this.dataMgr.getById(a),colDef:this.colDefMgr.getByKey(d)})};a.getCellByIdx=function(a,d){return h.create("Cell",{grid:this,row:a,col:d})};a.error=function(a){for(var d=h.error[a],e=1,b=arguments.length;e<b;e++)d=d.replace(RegExp("%"+(e-1),"g"),arguments[e]);d=Error(d);d.code=a;this.printError(d.message);this.event.trigger("onError",[d],!0);return d};a.printError=function(a){if(this._options.showMessage){var d=
this.msg,e=d[0],b=e.style;e.innerHTML=a;b.width=this._ctnr[0].clientWidth+"px";b.background="#ffebe8";b.color="#333";d.show();clearTimeout(this.timeout);this.timeout=setTimeout(function(){d.hide(1E3)},5E3)}};a.printMessage=function(a){if(this._options.showMessage){var d=this.msg,e=d[0],b=e.style;e.innerHTML=a;b.width=this._ctnr[0].clientWidth+"px";b.background="#dfdfdf";b.color="#6f6f6f";d.show();clearTimeout(this.timeout);this.timeout=setTimeout(function(){d.hide(1E3)},5E3)}};a.containsEvent=function(a){return f.contains(this._ctnr[0],
a.target)};a.getChart=function(a){return this._charts[a]};a.chart=function(a,d,e,b){var i,d=d.toLowerCase();switch(d){case "area":d="corechart";i="AreaChart";break;case "bar":d="corechart";i="BarChart";break;case "candle":d="corechart";i="CandlestickChart";break;case "column":d="corechart";i="ColumnChart";break;case "combo":d="corechart";i="ComboChart";break;case "gauge":d="gauge";i="Gauge";break;case "geo":d="geochart";i="GeoChart";break;case "line":d="corechart";i="LineChart";break;case "pie":d=
"corechart";i="PieChart";break;case "scatter":d="corechart";i="ScatterChart";break;case "table":d="table";i="Table";break;case "treemap":d="treemap";i="TreeMap";break;default:throw Error("unknown chart type: "+d);}google.load("visualization","1",{packages:[d]});var f=this,g=this.colDefMgr,k=this.dataMgr,h=e.map(function(a){if(a=g.getByKey(a))return a;throw Error("column key not found");}),l=k.exportToArray(e);google.setOnLoadCallback(function(){for(var d=new google.visualization.DataTable,g=0,p=h.length,
t,s;g<p;g++){t=h[g];s=t.type;switch(s){case "boolean":s="boolean";break;case "int":case "integer":case "long":case "float":case "double":s="number";break;case "string":case "text":s="string"}d.addColumn(s||g===0&&"string"||"number",t.name)}d.addRows(l);var u=f._charts[a]=new google.visualization[i](document.getElementById(a));u.draw(d,b);f.event.bind("onAfterRefresh",function(){d.removeRows(0,d.getNumberOfRows());d.addRows(k.exportToArray(e));u.draw(d,b)})})}})();jx.grid.SelectionManager={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.selMgr=this;this._options=h._extend({rowSelKey:this.grid.dataMgr.idKey,bgColorSelection:"#DCEBFE",bgColorLast:"#f1ca7f",bgColorRange:"#D9D9D9",classSelection:"jgrid-selection",classLast:"selection-last",classRange:"selection-range",multiSelectEnabled:!1,classRowSelected:"rowSelected",highlightRowEnabled:!0,bgColorRowSelected:"#d8dfea"},a.options);this._consts={_UP:1,_DOWN:2,_LEFT:3,_RIGHT:4,_PGDN:5,_PGUP:6,_HOME:7,_END:8,_NAVKEYS:{}};
this._consts._NAVKEYS=f.which(["enter","tab","arrow","pgdn","pgup","home","end"]);this._rows={length:0};this._cols={length:0};this.__init()}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");var b=goog.getObjectByName("jx.grid.Cell");goog.exportSymbol("jx.grid.SelectionManager",g);g.getInstance=function(a){return new g(a)};var a=g.prototype;a.__init=function(){this.bindEvents()};a.bindEvents=function(){this.grid.event.bind({onGetCellClass:this._onGetCellClass,
onCreateCss:this._onCreateCss,onDestroy:this._destroy,keydownCanvas:this._keydownCanvas,dragoverCanvas:this._dragoverCanvas,mousedownCanvas:this._mousedownCanvas,onBeforeRerender:this._onBeforeRerender,onAfterRerender:this.onAfterRerender,onBeforeDataChange:this.onBeforeDataChange},this)};a._destroy=function(){h._deleteMap(this._consts,"_NAVKEYS");var a,d=this._rows,e=this._cols;for(a in d)d.hasOwnProperty(a)&&a!=="length"&&h._deleteMap(d,a);for(a in e)e.hasOwnProperty(a)&&a!=="length"&&h._deleteMap(e,
a);h._destroy(this,{name:"SelectionManager",path:"selMgr",map:"_rows _cols _range _last _consts _options"})};a._onCreateCss=function(){var a=this.grid.event.trigger("onBeforeCreateSelCss"),d="#"+this.grid.mid+" .",e=this._options,a=a||[];e.highlightRowEnabled===!0&&a.push(d+e.classRowSelected+" > *{background:"+e.bgColorRowSelected+"}");e.multiSelectEnabled===!0&&(a.push(d+e.classSelection+"{background:"+e.bgColorSelection+"}"),a.push(d+e.classRange+"{background:"+e.bgColorRange+"}"));a.push(d+e.classLast+
"{background:"+e.bgColorLast+"}");return a.join("\n")};a._onGetCellClass=function(a,d,e,b){var i="",j=this._last,g=this._range,k=this._rows,h=this._options;f.isNotNull(j)&&j.getDatarow()===e&&j.getColDef()===b&&(i+=h.classLast);h.multiSelectEnabled===!0&&(f.isNotNull(g)&&g.getDatarow()===e&&g.getColDef()===b&&(i+=" "+h.classRange),k.hasOwnProperty(a)&&k[a].hasOwnProperty(d)&&(i+=" "+h.classSelection));return i};a._mousedownCanvas=function(a,d){if(!f.isNotNull(this._last)||!this._last.equals(d))this.grid.event.trigger("onBeforeSelect",
[a,d],!0),this._options.multiSelectEnabled===!1?this.selectCell(d):a.shiftKey&&f.isNotNullAnd(this._last,this._range)?this.selectRange(d):a.ctrlKey?d.getKey()===this._options.rowSelKey?this.addRow(d):this.addCell(d):this.selectCell(d)};a._dragoverCanvas=function(a,d){this._options.multiSelectEnabled===!1?this.selectCell(d):f.isNotNullAnd(this._last,this._range)&&this.selectRange(d)};a._keydownCanvas=function(a){var d=this._last;if(f.isNullOr(d,this._range))this._consts._NAVKEYS[a.which]&&this.selectCell(h.create("Cell",
{grid:this.grid,row:this.grid.view._getFirstSafeVisibleRow(),col:this.grid.view._getFirstSafeVisibleCol()}));else{var e=this.grid.event;if(this._consts._NAVKEYS[a.which]){if(!e.triggerInvalid("onBeforeNavigate",[a])){var b;a.preventDefault();switch(a.which){case f.keyMapKeydown.tab:b=a.shiftKey?this._idxToCell(this._consts._LEFT,d):this._idxToCell(this._consts._RIGHT,d);this.selectCell(b);break;case f.keyMapKeydown.enter:b=a.shiftKey?this._idxToCell(this._consts._UP,d):this._idxToCell(this._consts._DOWN,
d);this.selectCell(b);break;case f.keyMapKeydown.up:this._options.multiSelectEnabled&&a.shiftKey?(b=this._idxToCell(this._consts._UP,this._range),this.selectRange(b)):(b=this._idxToCell(this._consts._UP,d),this.selectCell(b));break;case f.keyMapKeydown.down:this._options.multiSelectEnabled&&a.shiftKey?(b=this._idxToCell(this._consts._DOWN,this._range),this.selectRange(b)):(b=this._idxToCell(this._consts._DOWN,d),this.selectCell(b));break;case f.keyMapKeydown.left:this._options.multiSelectEnabled&&
a.shiftKey?(b=this._idxToCell(this._consts._LEFT,this._range),this.selectRange(b)):(b=this._idxToCell(this._consts._LEFT,d),this.selectCell(b));break;case f.keyMapKeydown.right:this._options.multiSelectEnabled&&a.shiftKey?(b=this._idxToCell(this._consts._RIGHT,this._range),this.selectRange(b)):(b=this._idxToCell(this._consts._RIGHT,d),this.selectCell(b));break;case f.keyMapKeydown.pgup:this._options.multiSelectEnabled&&a.shiftKey?(b=this._idxToCell(this._consts._PGUP,this._range),this.selectRange(b)):
(b=this._idxToCell(this._consts._PGUP,d),this.selectCell(b));break;case f.keyMapKeydown.pgdn:this._options.multiSelectEnabled&&a.shiftKey?(b=this._idxToCell(this._consts._PGDN,this._range),this.selectRange(b)):(b=this._idxToCell(this._consts._PGDN,d),this.selectCell(b));break;case f.keyMapKeydown.space:b=a.shiftKey?this._idxToCell(this._consts._PGUP,d):this._idxToCell(this._consts._PGDN,d);this.selectCell(b);break;case f.keyMapKeydown.home:this._options.multiSelectEnabled&&a.shiftKey?(b=this._idxToCell(this._consts._HOME,
this._range),this.selectRange(b)):(b=this._idxToCell(this._consts._HOME,d),this.selectCell(b));break;case f.keyMapKeydown.end:this._options.multiSelectEnabled&&a.shiftKey?(b=this._idxToCell(this._consts._END,this._range),this.selectRange(b)):(b=this._idxToCell(this._consts._END,d),this.selectCell(b))}e.trigger("onAfterNavigate",[b],!0)}}else{if(this._cols.length===1){var i,j=this.grid.colDefMgr,g,k=this._cols;b=a.which;var o=[a,null,d];for(g in k)if(k.hasOwnProperty(g)&&g!=="length")i=j.get(g).key,
i="keydownColSel_"+i,o[1]=k[g],e.trigger(i+"_"+b,o,!0),e.trigger(i,o,!0)}if(this._rows.length===1){var l;g=this._rows;b=a.which;o=[a,null,d];for(l in g)g.hasOwnProperty(l)&&l!=="length"&&(o[1]=g[l],e.trigger("keydownRowSel_"+b,o,!0),e.trigger("keydownRowSel",o,!0))}o=[a,this._rows,this._cols];e.trigger("keydownSel_"+a.which,o,!0);e.trigger("keydownSel",o,!0)}}};a.getCell=function(){if(f.isNotNull(this._last))return this._last};a._isSelected=function(a){return f.isNotNull(this._last)&&this._last.equals(a)};
b.prototype.isSelected=function(){return this.grid.selMgr._isSelected(this)};a._getCellIdxToNavigate=function(a,d,e){switch(a){case this._consts._RIGHT:e<this.grid.colDefMgr.length()-1&&e++;break;case this._consts._LEFT:e>0&&e--;break;case this._consts._DOWN:d<this.grid.dataMgr.datalist.length-1&&d++;break;case this._consts._UP:d>0&&d--;break;case this._consts._PGDN:d+=this.grid.view._options.rowsPerPage;d>this.grid.dataMgr.datalist.length-1&&(d=this.grid.dataMgr.datalist.length-1);break;case this._consts._PGUP:d-=
this.grid.view._options.rowsPerPage;d<0&&(d=0);break;case this._consts._HOME:d=0;break;case this._consts._END:d=this.grid.dataMgr.datalist.length-1}return[d,e]};a._idxToCell=function(a,d){var e=this._getCellIdxToNavigate(a,d.getRowIdx(),d.getColIdx());return h.create("Cell",{grid:this.grid,row:e[0],col:e[1]})};a.selectRow=function(a){var d=a.getRowIdx(),e=a.getColIdx();this._setRange(d,e,a);this._setLast(d,e,a);this._setSelMap(this._getRowMap(d,e,a))};a.selectCell=function(a,d){this.grid.event.trigger("onBeforeSelectCell",
[a],!0);if(this._options.multiSelectEnabled&&a.getKey()===this._options.rowSelKey)this.selectRow(a);else{var e=a.getRowIdx(),b=a.getColIdx();this._setRange(e,b,a,d);this._setLast(e,b,a);this._setSelMap(this._getCellMap(e,b,a))}this.grid.event.trigger("onAfterSelectCell",[a],!0)};a.onBeforeDataChange=function(){};a._onBeforeRerender=function(){if(f.isNotNull(this._last))this.toSelect=this._last;this.empty()};a.onAfterRerender=function(){f.isNotNull(this.toSelect)&&(this.selectCell(this.toSelect,!0),
this.grid.view.scrollToRowLazy(this.toSelect.getRowIdx()))};a.addRow=function(a){var d=a.getRowIdx(),e=a.getColIdx();this._setRange(d,e,a);this._setLast(d,e,a);this._addSelMap(this._getRowMap(d,e,a))};a.addCell=function(a){var d=a.getRowIdx(),e=a.getColIdx();this._setRange(d,e,a);this._setLast(d,e,a);this._addSelMap(this._getCellMap(d,e,a))};a.selectRange=function(a){var d=a.getRowIdx(),e=a.getColIdx(),b=this._last.getRowIdx(),i=this._last.getColIdx(),f=b<d?b:d,b=b<d?d:b,g;this._setRange(d,e,a);a.getKey()===
this._options.rowSelKey?(g=0,i=this.grid.colDefMgr.length()-1):(g=i<e?i:e,i=i<e?e:i);this._setSelMap(this._getRangeMap(f,g,b,i,d,e,a));return{minRow:f,minCol:g,maxRow:b,maxCol:i}};a._setLast=function(a,d,e){var d=this._last,b;f.isNotNull(d)&&(b=d.getRowIdx(),a!==b&&f.isNotNull(this._range)&&b!==this._range.getRowIdx()&&this.grid.view.unlockRowById(d.getId()),d.get$().removeClass(this._options.classLast),this._options.highlightRowEnabled===!0&&$(d.getRowNode()).removeClass(this._options.classRowSelected),
f.isNull(e)&&delete this._last);if(!f.isNull(e))(this._last=e).get$().addClass(this._options.classLast),this._options.highlightRowEnabled===!0&&$(e.getRowNode()).addClass(this._options.classRowSelected),this.grid.view.lockRowByIdx(a)};a._setRange=function(a,d,e,b){var i=this._range;if(f.isNotNull(i)){var j=i.getRowIdx();if(a===j&&d===i.getColIdx())return;a!==j&&f.isNotNull(this._last)&&j!==this._last.getRowIdx()&&this.grid.view.unlockRowById(i.getId());i.get$().removeClass(this._options.classRange);
f.isNull(e)&&delete this._range}if(!f.isNull(e))(this._range=e).get$().addClass(this._options.classRange),e=this.grid.view,e.lockRowByIdx(a),b||e.scrollToLazy(a,d)};a._addSelMap=function(a){var d=this._rows,e,f,i,j;for(i in a)if(a.hasOwnProperty(i)&&(f=a[i],d.hasOwnProperty(i)))for(j in e=d[i],f)f.hasOwnProperty(j)&&e.hasOwnProperty(j)&&(f[j]instanceof b&&(e[j]=f[j]),delete f[j]);this.addOrRemoveCss({},!0);this._addToMaps(a)};a._setSelMap=function(a){var d=this._rows,e,f,i,j,g={};for(i in d)if(d.hasOwnProperty(i)&&
i!=="length")if(e=d[i],a.hasOwnProperty(i))for(j in f=a[i],e)e.hasOwnProperty(j)&&j!=="length"&&(f.hasOwnProperty(j)?(f[j]instanceof b&&(e[j]=f[j]),delete f[j]):(g.hasOwnProperty(i)||(g[i]={}),g[i][j]=!0));else for(j in f=g[i]={},e)e.hasOwnProperty(j)&&j!=="length"&&(f[j]=!0);this._removeFromMaps(g);this.addOrRemoveCss({},!1);this._addSelMap(a)};a.addOrRemoveCss=function(a,d){var e=[],g,i,j,h=this.grid.view;for(g in a)if(a.hasOwnProperty(g))for(i in j=a[g],j)j.hasOwnProperty(i)&&(j[i]instanceof b?
e.push(j[i].getNode()):e.push(h.getCell(g,i)));e=e.filter(function(a){return f.isNotNull(a)});d?$(e).addClass(this._options.classSelection):$(e).removeClass(this._options.classSelection)};a._addToMaps=function(a){var d,e,b,i=this._rows,j=this._cols,g;for(d in a)if(a.hasOwnProperty(d))for(e in g=a[d],g)g.hasOwnProperty(e)&&(b=f.isNull(b=g[e])?!0:b,i.hasOwnProperty(d)?i[d].length++:(i[d]={length:1},i.length++),i[d][e]=b,j.hasOwnProperty(e)?j[e].length++:(j[e]={length:1},j.length++),j[e][d]=b)};a._removeFromMaps=
function(a){var d,e,b=this._rows,i=this._cols,f;for(d in a)if(a.hasOwnProperty(d))for(e in f=a[d],f)f.hasOwnProperty(e)&&(--b[d].length===0?(delete b[d],b.length--):delete b[d][e],--i[e].length===0?(delete i[e],i.length--):delete i[e][d])};a._getCellMap=function(a,d,e){var b={};b[a]={};b[a][d]=e;return b};a._getRowMap=function(a,d,e){var b={},i=this.grid.colDefMgr.length(),f=0;for(b[a]={};f<i;f++)b[a][f]=!0;b[a][d]=e;return b};a._getRangeMap=function(a,d,e,b,i,f,g){for(var h={},o;a<=e;a++){h[a]={};
for(o=d;o<=b;o++)h[a][o]=!0}h[i][f]=g;return h};a.empty=function(){this._setLast();this._setRange();this._setSelMap({})}})();jx.grid.EditManager={};jx.grid.Editor={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.editMgr=this;this._options=f._extend({classEdit:"jgrid-edit",classCellEditable:"jgrid-editable",classCellNotEditable:"jgrid-notEditable",editableBgEnabled:!1,notEditableBgEnabled:!1,editableBg:"#FFF",notEditableBg:"#F6F6F6",deleteEnabled:!1,editIconEnabled:!0,urlEditIcon:this.grid._options.imageUrl+"editable-small.png",classEditIcon:"edit-icon",editIconWidth:12,editIconPadding:3,basicBackground:"#FFF9D7",classSuccess:"edit-success",
successBackground:"#cdf7b6",classFailure:"edit-failure",failureBackground:"#ff0000"},a.options);this._beginEditKeys=b.which(["number","alphabet","del","backspace"]);this.__init()}function h(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c])}var f=goog.getObjectByName("jx.grid"),b=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");var a=goog.getObjectByName("jx.grid.Cell");goog.exportSymbol("jx.grid.EditManager",g);goog.exportSymbol("jx.grid.Editor",h);g.getInstance=function(a){return new g(a)};
var c=g.prototype;c.__init=function(){this.bindEvents()};c.bindEvents=function(){var a={onGetColCellClass:this._onGetColCellClass,keydownCanvas:this._keydownCanvas,onDestroy:this._destroy,dblclickCanvas:this._dblclickCanvas,onCreateDynamicCss:this.onCreateDynamicCss,"onBeforeNavigate onBeforeRefresh onBeforeSelect":this.commit,onBeforeFocusCanvas:this.notActive};b.isNull(this.grid.selMgr)?a.onCreateCss=this._onBeforeCreateSelCss:a.onBeforeCreateSelCss=this._onBeforeCreateSelCss;if(this._options.deleteEnabled)a["keydownSel_"+
b.keyMapKeydown.del]=this._deleteContents;if(this._options.editIconEnabled)for(var c=this.grid.colDefMgr.get(),f=c.length,i=0;i<f;i++)if(b.isNotNull(c[i].editor))a["onRenderHeader_"+c[i].key+"_prepend"]=this._onRenderHeader;this.grid.event.bind(a,this)};c._destroy=function(){this._deleteEditor();f._destroy(this,{name:"EditManager",path:"editMgr",map:"_beginEditKeys _options"})};c._onBeforeCreateSelCss=function(){var a="#"+this.grid.mid+" .",c=this._options,b=[],i=this.grid.view._getRowInnerHeight();
b.push(this.grid.view._getCellSelector()+"."+c.classEdit+"{background:"+c.basicBackground+"}");b.push(a+c.classEdit+" input{position:absolute;z-index:10;top:0;padding:0;border:0;margin:0;background:"+c.basicBackground+";height:"+i+"px;line-height:"+i+"px}");c.editableBgEnabled&&b.push(a+c.classCellEditable+"{background:"+c.editableBg+"}");c.notEditableBgEnabled&&b.push(a+c.classCellNotEditable+"{background:"+c.notEditableBg+"}");c.editIconEnabled&&b.push(a+c.classEditIcon+"{float:left;position:absolute;left:0;top:0;padding:0 "+
c.editIconPadding+"px;width:"+c.editIconWidth+"px;height:"+i+"px;background:url("+c.urlEditIcon+") no-repeat center transparent}");b.push(a+c.classSuccess+"{background:"+c.successBackground+"}");b.push(a+c.classFailure+"{background:"+c.failureBackground+"}");return b.join("")};c.onCreateDynamicCss=function(){for(var a=this.grid.view._getCellSelector(),c=this.grid.view._getPadding(),f=this.grid.colDefMgr.get(),i=0,j="";i<f.length;i++)b.isNotNull(f[i].editor)&&(j+=a+".k_"+f[i].key+" .basic-editor{width:"+
(f[i].width-2*c)+"px}");return j};c._onRenderHeader=function(a){a.push("<span class='"+this._options.classEditIcon+"'></span>")};c._onRenderCell=function(a,c,b,i,f){this.grid.dataMgr.isReal(b)&&f.push("<span class='"+this._options.classEditIcon+"' title='클릭하여 에디팅을 시작합니다' onclick='JGM.m.EditManager."+this.mid+'.beginEdit("'+b[this.grid.dataMgr.idKey]+'","'+i.key+"\")'></span>")};c.cancelMouseEvent=function(a){return!b.hasTagAndClass(a.target,"DIV",this._options.classEditIcon)};c.beginEdit=function(a,
c){this.begin(f.create("Cell",{grid:this.grid,datarow:this.grid.dataMgr.getById(a),colDef:this.grid.colDefMgr.getByKey(c)}))};c._dblclickCanvas=function(a,c){c.isEdited()||this.begin(c)};c._keydownCanvas=function(a){this.active()?a.which===b.keyMapKeydown.esc&&this.cancel():!a.ctrlKey&&!a.altKey&&b.isNotNull(this.grid.selMgr)&&(a.which===b.keyMapKeydown.del&&this._options.deleteEnabled?this._deleteContent(this.grid.selMgr.getCell()):this._beginEditKeys[a.which]?this.begin(this.grid.selMgr.getCell()):
a.which===b.keyMapKeydown.f2&&(a.preventDefault(),this.begin(this.grid.selMgr.getCell())))};c.active=function(){return!!this.editor};c.notActive=function(){return b.isNull(this.editor)};c._isEdited=function(a){return this.active()&&this.editor.cell&&this.editor.cell.equals(a)};c._onGetColCellClass=function(a){return b.isNotNull(a.editor)?this._options.classCellEditable:this._options.classCellNotEditable};a.prototype.isEdited=function(){return this.grid.editMgr._isEdited(this)};a.prototype.setValue=
function(a){var c=this.getDatarow(),f=this.getKey(),i;b.isNotNullAnd(c,f)&&(i=this.grid.dataMgr.updateByKey(c,f,a,{noSort:!0,noFilter:!0,noRerender:!0}),i===!0&&this.grid.view.rerenderRow(c));return i};c.isEditable=function(a){if(a){var c=a.getColDef();if(c&&c.editor)return(a=a.getDatarow())&&this.grid.dataMgr.isReal(a)}return!1};c.begin=function(a){this.active()&&this.commit();if(this.isEditable(a)){var c=a.getNode();if(c){var b=this.editor=a.getColDef().editor;b.cell=a;b.grid=this.grid;b.before=
c.innerHTML;c.innerHTML=b.edit(a.getValue());a.get$().addClass(this._options.classEdit);b.focus()}}};c.cancel=function(){if(this.active()){var a=this.editor.cell;if(a){var c=a.getNode();if(c)c.innerHTML=this.editor.before,a.get$().removeClass(this._options.classEdit)}this._deleteEditor();this.grid.view.focus()}};c._deleteEditor=function(){b.isNotNull(this.editor)&&(delete this.editor.grid,delete this.editor.cell,delete this.editor.before,delete this.editor)};c.commit=function(){if(!this._beingCommitted&&
this.active()){this._beingCommitted=!0;var a=this.editor.cell;if(a){var c=a.getNode();if(c)if(c=this.editor.value(c),c==null||c==a.getValue())this.cancel();else{var c=a.setValue(c),b,f=a.get$();c instanceof Error?(this.cancel(),b=this._options.classFailure):(this._deleteEditor(),this.grid.view.focus(),this.grid.printMessage("Successfully Updated."),b=this._options.classSuccess);f.addClass(b);setTimeout(function(){f.removeClass(b)},1E3)}}this._beingCommitted=!1}};c._deleteContent=function(a){if(!this.active()&&
this.isEditable(a)){var c=a.getColDef();a.getValue()!==c.defaultValue&&a.setValue(c.defaultValue)}};c._deleteContents=function(a,c,f){if(!this.active()){var a={},c={},i=[],j,g,h,o,l,m,n;a:for(j in f)if(f.hasOwnProperty(j)&&j!=="length")for(n in o=h=g=void 0,m=f[j],m)if(m.hasOwnProperty(n)&&!(n==="length"||c.hasOwnProperty(n))){l=m[n].cell;if(b.isNull(g)&&(g=l.getColDef(),h=g.defaultValue,o=g.key,b.isNull(g.editor)))continue a;l=b.isNotNull(a[n])?a[n].datarow:l.getDatarow();this.grid.dataMgr.isReal(l)?
h!==l[o]&&(b.isNull(a[n])&&(a[n]={datarow:l,change:{}},i.push(a[n])),a[n].change[o]=h):c[n]=!0}i.length!==0&&this.grid.dataMgr.updateList(i)}};h.getInstance=function(a){return new h(a)};c=h.prototype;c.edit=function(a){return"<input type='text' class='basic-editor' value='"+(a==null?"":a)+"' style='position:relative'/>"};c.focus=function(){var a=this.cell;if(a){var c=a.getNode();if(c&&(c=c.childNodes[0])){if(c.setActive)try{c.setActive()}catch(b){}c.focus();document.activeElement!==c&&a.get$().children(":eq(0)").focus()}}};
c.value=function(a){return a&&(a=a.childNodes[0])?a.value:null};c.path=function(){return"JGM.m.Editor."+this.mid};h.numberKeys=b.which(["number","del","backspace"]);h.isNumberKey=function(a){return this.numberKeys[a]?!0:!1};h.numberEdit=function(a){a=a.getValue();return"<input type='text' class='basic-editor' onkeydown='if (!jx.grid.Editor.isNumberKey(event.which)) return false;' value='"+b.ifNull(a,"")+"'/>"};h.floatKeys=b.which(["number",".","del","backspace"]);h.isFloatKey=function(a){return this.floatKeys[a]?
!0:!1};h.floatEdit=function(a){a=a.getValue();return"<input type='text' class='basic-editor' onkeydown='if (!jx.grid.Editor.isFloatKey(event.which)) return false;' value='"+b.ifNull(a,"")+"'/>"};h.alphabetKeys=b.which(["alphabet","del","backspace","space"]);h.isAlphabet=function(a){return this.alphabetKeys[a]?!0:!1};h.alphabetEdit=function(a){a=a.getValue();return"<input type='text' class='basic-editor' onkeydown='if (!jx.grid.Editor.isAlphabet(event.which)) return false;' value='"+b.ifNull(a,"")+
"'/>"}})();jx.grid.TooltipManager={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.tooltip=this;this._ctnr=a.container;this._options=h._extend({classTooltip:"jgrid-tooltip",tooltipSyncEnabled:!0,offsetX:0,offsetY:18,background:"#F5F5F5",border:"1px solid #868686",padding:"2px 10px",font:"14px Arial,Helvetica,sans-serif",color:"#333"},a.options);this.__init()}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.TooltipManager",g);
g.getInstance=function(a){return new g(a)};var b=g.prototype;b.__init=function(){this.grid.event.bind({onCreateCss:this._onCreateCss,onDestroy:this._destroy,mouseoutCanvas:this._mouseoutCanvas,mousemoveCanvas:this._mousemoveCanvas,mouseoverCanvas:this._mouseoverCanvas},this)};b._destroy=function(){h._destroy(this,{name:"TooltipManager",path:"tooltip",$:"_tooltip",property:"_ctnr",map:"_options"})};b._onCreateCss=function(){var a=this._options,c=[];c.push("#"+this.grid.mid+" ."+a.classTooltip+"{position:absolute;z-index:10;background:"+
a.background+";border:"+a.border+";padding:"+a.padding+";color:"+a.color+";font:"+a.font+"}");return c.join("")};b._mouseoutCanvas=function(){f.isNotNull(this._tooltip)&&(this._ctnr[0].removeChild(this._tooltip[0]),delete this._tooltip)};b._mousemoveCanvas=function(a){var c=this._options;c.tooltipSyncEnabled&&f.isNotNull(this._tooltip)&&this._tooltip.css({left:a.pageX+c.offsetX+"px",top:a.pageY+c.offsetY+"px"})};b._mouseoverCanvas=function(a,c){if(c.getColDef().tooltipEnabled&&f.isNull(this._tooltip)){var d=
this._options,b=document.createElement("div");b.innerHTML="<div class='"+d.classTooltip+"' style='left:"+(a.pageX+d.offsetX)+"px;top:"+(a.pageY+d.offsetY)+"px'>"+c.getValue()+"</div>";this._tooltip=$(b.firstChild);this._ctnr[0].appendChild(this._tooltip[0])}}})();jx.grid.PrintManager={};
(function(){function g(a){this.mid=a.mid;this._ctnr=Util$.safe$(a.container);this.grid=a.grid;this._options=h._extend({title:"Print Preview",font:"15px arial,sans-serif",headerFontColor:"#27413E",headerBackgroundColor:"#DCDEDE",tableBorderColor:"#6E7174",headerBorderColor:"#909192",cellBorderColor:"#D0D7E5",winOptions:{name:"Print Preview",width:800,height:600,directories:"no",location:"no",menubar:"no",status:"no",toolbar:"no"}},a.options);this.__init()}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");
goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.PrintManager",g);g.getInstance=function(a){return new g(a)};var b=g.prototype;b.__init=function(){var a=this;this._ctnr[0].innerHTML="<button type='button'>Print</button>";this._ctnr.click(function(){a.print()})};b.print=function(){var a=this.getPrintHtml(this.grid.colDefMgr.get(),this.grid.dataMgr.datalist),c=f.open(this._options.winOptions);c.document.write(a);c.document.close()};b.getPrintHtml=function(a,c){var b=this._options,
e=b.tableBorderColor,f=b.headerBorderColor,i=b.cellBorderColor,j=[],g=a.length,h=g-1,o=c.length,l=o-1,m=0,n;j.push("<html><head>");j.push("<title>"+b.title+"</title>");j.push("</head><body onload='window.print();'>");j.push("<table width='100%' cellspacing='0' cellpadding='0'><tbody><tr><td align='left'>");j.push("<table width='100%' cellspacing='0' cellpadding='2' style='border-collapse:collapse'>");j.push("<tbody style='font:"+b.font+";'>");for(j.push("<tr style='background-color:"+b.headerBackgroundColor+
";color:"+b.headerFontColor+";text-align:center'>");m<g;m++)j.push("<td style='border:solid 1px "+f+";'>"+a[m].name+"</td>");j.push("</tr>");for(m=0;m<o;m++){b=c[m];j.push("<tr>");if(m===0)for(n=0;n<g;n++)n===0?j.push("<td style='border:solid 1px "+i+";border-top:solid 1px "+f+";border-left:solid 1px "+e+"'>"+b[a[n].key]+"</td>"):n===h?j.push("<td style='border:solid 1px "+i+";border-top:solid 1px "+f+";border-right:solid 1px "+e+"'>"+b[a[n].key]+"</td>"):j.push("<td style='border:solid 1px "+i+";border-top:solid 1px "+
f+"'>"+b[a[n].key]+"</td>");else if(m<l)for(n=0;n<g;n++)n===0?j.push("<td style='border:solid 1px "+i+";border-left:solid 1px "+e+"'>"+b[a[n].key]+"</td>"):n===h?j.push("<td style='border:solid 1px "+i+";border-right:solid 1px "+e+"'>"+b[a[n].key]+"</td>"):j.push("<td style='border:solid 1px "+i+"'>"+b[a[n].key]+"</td>");else for(n=0;n<g;n++)n===0?j.push("<td style='border:solid 1px "+i+";border-bottom:solid 1px "+e+";border-left:solid 1px "+e+"'>"+b[a[n].key]+"</td>"):n===h?j.push("<td style='border:solid 1px "+
i+";border-bottom:solid 1px "+e+";border-right:solid 1px "+e+"'>"+b[a[n].key]+"</td>"):j.push("<td style='border:solid 1px "+i+";border-bottom:solid 1px "+e+"'>"+b[a[n].key]+"</td>");j.push("</tr>")}j.push("</tbody></table></td></tr></tbody></table></body></html>");return j.join("")}})();jx.grid.ViewportManager={};
(function(){function g(a){this.mid=a.mid;this._ctnr=a.container;this.grid=a.grid;this.grid.view=this;this._options=h._extend({attrRowIdx:"r",appendThreshold:3,renderThreshold:10,bufferSize:6,rowsPerPage:10,rowH:21,borderThickness:1,border:"solid #D0D7E5",padding:1,evenOddRows:!1,oddRowsBackground:"#F4F4F4",style:"",canvasStyle:"",rowStyle:"",cellStyle:"",classRow:"jgrid-row",classCell:"jgrid-cell",classView:"jgrid-viewport",classCanvas:"jgrid-canvas",focusBackground:"#FFF",focusOutline:"2px solid #f1ca7f",
autoHeight:!1,autoWidth:!1},a.options);this._drag=!1;this._lastRowLen=this._lastScrollLeft=this._lastScrollTop=0;this._renderedRows={};this._lockedRows={};this._colLefts=[0];this._evtmgr=this.grid.event;this._datamgr=this.grid.dataMgr;this._colmgr=this.grid.colDefMgr;this._rowClass=this._options.classRow;this._cellClass=this._options.classCell;this._rowIdxAttr=this._options.attrRowIdx;this.__init()}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.grid.Grid"),b=goog.getObjectByName("jx.util");
goog.getObjectByName("jx.grid.BaseModule");var a=goog.getObjectByName("jx.grid.Cell"),c={INPUT:!0,TEXTAREA:!0,LABEL:!0,FIELDSET:!0,LEGEND:!0,SELECT:!0,OPTGROUP:!0,OPTION:!0,BUTTON:!0};goog.exportSymbol("jx.grid.ViewportManager",g);g.getInstance=function(a){return new g(a)};var d=g.prototype;d.__init=function(){this._mask=$("<div class='"+this._options.classView+"' tabIndex='0' onscroll='JGM.m.ViewportManager."+this.mid+"._scroll()'>").appendTo(this._ctnr);this._canvas=$("<div class='"+this._options.classCanvas+
"'>").appendTo(this._mask);this._canvasEl=this._canvas[0];this._mask.bind("selectstart.ui",function(a){return $(a.target).is("input, textarea")});this._setColLefts();this._setCanvasWidth(this._calCanvasWidth());this._lastRowLen=this._datamgr.datalist.length;this._evtmgr.bind({canvasFind:this._canvasFind,onCreateCss:this._onCreateCss,onCreateDynamicCss:this._onCreateDynamicCss,onDestroy:this._onDestroy,keydown:this._keydown,keyup:this._keyup,keypress:this._keypress,mousein:this._mousein,mouseout:this._mouseout,
mouseenter:this._mouseenter,mouseleave:this._mouseleave,mousemove:this._mousemove,mouseover:this._mouseover,mousedown:this._mousedown,mouseup:this._mouseup,click:this._click,dblclick:this._dblclick,resizeWidth:this._setWidth,"resizeWidth onResizeCol onResizeCanvasHeight":this._resizeWidth,onAfterRefresh:this.onAfterRefresh,onRenderModules:this._render,onReorderCols:this._onReorderCols,onResizeCanvasWidth:this._scroll,onUpdateDatarow:this.onUpdateDatarow,onUpdateDatalist:this.onUpdateDatalist,onRemoveDatarow:this.onRemoveDatarow,
onRemoveDatalist:this.onRemoveDatalist,onIdChange:this.onIdChange,onIdListChange:this.onIdListChange,unsetDrag:this.unsetDrag},this)};d.unsetDrag=function(){this._drag=!1};d._onDestroy=function(){h._destroy(this,{name:"ViewportManager",path:"view",$:"_canvas _mask",property:"_ctnr",map:"_vars _lockedRows _renderedRows _options"})};d._onCreateCss=function(){var a="#"+this.grid.mid+" .",c=this._options,b=a+this._cellClass,d=a+this._rowClass,f=c.borderThickness+"px "+c.border,g=d+"["+this._rowIdxAttr,
h=this._colmgr.get(),l=h.length,m=0,n=[];n.push(a+c.classView+"{height:"+this._calHeight()+"px;outline:0;position:relative;white-space:nowrap;overflow:auto;line-height:"+c.rowH+"px;cursor:default;-moz-user-select:none;-webkit-user-select:none;"+c.style+"}");n.push(a+c.classView+":focus{background:"+c.focusBackground+";outline:"+c.focusOutline+"}");n.push(a+c.classCanvas+"{height:"+this._calCanvasHeight()+"px;"+c.canvasStyle+";background:#fff}");n.push(d+"{position:absolute;"+c.rowStyle+"}");n.push(b+
"{height:"+c.rowH+"px;border-bottom:"+f+";display:inline-block;white-space:nowrap;overflow:hidden;float:left;text-overflow:ellipsis;padding-left:"+c.padding+"px;border-right:"+f+";"+c.cellStyle+"}");for(c.evenOddRows&&n.push(g+"$='1'],"+g+"$='3'],"+g+"$='5'],"+g+"$='7'],"+g+"$='9']{background:"+c.oddRowsBackground+"}");m<l;m++)n.push(b+".k_"+h[m].key+"{"+h[m].style+"}");return n.join("")};d._onCreateDynamicCss=function(){var a="#"+this.grid.mid+" .",c=a+this._cellClass,b=a+this._rowClass;a+=this._options.classCanvas;
var d=this._calCanvasWidth(),f=this._colmgr.get(),g="",h=f.length,l=0;for(g+=a+"{width:"+d+"px}"+b+"{width:"+d+"px}";l<h;l++)g+=c+".k_"+f[l].key+"{width:"+f[l].width+"px}";return g};d.onUpdateDatarow=function(a){this.isRendered(a)&&this.rerenderRow(a)};d.onUpdateDatalist=function(a){for(var c,b=a.length,d=0;d<b;d++)c=a[d],this.isRendered(c)&&this.rerenderRow(c)};d.onRemoveDatarow=function(a){this.destroyRow(a)};d.onRemoveDatalist=function(a){for(var c=a.length,b=0;b<c;b++)this.destroyRow(a[b])};d.onIdChange=
function(a,c,b){this.isRowLockedById(c)&&(this._lockedRows[b]=this._lockedRows[c],delete this._lockedRows[c]);this.isRenderedById(c)&&((this._renderedRows[b]=this._renderedRows[c]).setAttribute("i",b),delete this._renderedRows[c])};d.onIdListChange=function(a,c,b){for(var d=a.length,f=0,g=this._lockedRows,h=this._renderedRows,l,m;f<d;f++)l=c[f],m=a[f][b],g.hasOwnProperty(l)&&(g[m]=g[l],delete g[l]),h.hasOwnProperty(l)&&((h[m]=h[l]).setAttribute("i",m),delete h[l])};d._getCellSelector=function(){return"#"+
this.grid.mid+" ."+this._cellClass};d._getRowSelector=function(){return"#"+this.grid.mid+" ."+this._rowClass};d.scrollTo=function(a,c){this.scrollToRow(a);this.scrollToCol(c)};d.scrollToRowLazy=function(a){var c=this.getScrollTop();return a==null?c:this._getLastSafeVisibleRow()<a?this.scrollToRow(this._getFirstRowForSafe(a)):this._getFirstSafeVisibleRow()>a?this.scrollToRow(a):c};d.scrollToColLazy=function(a){var c=this.getScrollLeft();if(a==null)return c;if(this._getLastSafeVisibleCol()<a)return this.setScrollLeft(this.getScrollHForSafe(a));
else if(this._getFirstSafeVisibleCol()>a)return this.scrollToCol(a);return c};d.scrollToLazy=function(a,c){this.scrollToRowLazy(a);this.scrollToColLazy(c)};d.scrollToRow=function(a){return a!=null?this.setScrollTop(this._getRowOuterHeight()*a):this.getScrollTop()};d.scrollToCol=function(a){return this.setScrollLeft(this.getColLeft(a))};d._getColInnerWidth=function(a){return this._colmgr.get(a).width};d._getColInnerWidthByKey=function(a){return this._colmgr.getByKey(a).width};d.getColWidth=function(a){return this._colmgr.get(a).width+
this._options.padding};d.getColWidthByKey=function(a){return this._colmgr.getByKey(a).width+this._options.padding};d._getColOuterWidth=function(a){return this._colmgr.get(a).width+this._options.padding+this._options.borderThickness};d._getColOuterWidthByKey=function(a){return this._colmgr.getByKey(a).width+this._options.padding+this._options.borderThickness};d._getPadding=function(){return this._options.padding};d._colWidthPlus=function(){return this._options.padding+this._options.borderThickness};
d._getRowOuterHeight=function(){return this._options.rowH+this._options.borderThickness};d._getRowInnerHeight=function(){return this._options.rowH};d._calHeight=function(){return this._options.autoHeight?this._calCanvasHeight()+(this.grid.width()<this._calCanvasWidth()?this.grid._vars.scrollbarDim.h:0):this._getRowOuterHeight()*this._options.rowsPerPage};d.getHeight=function(){return this._mask[0].offsetHeight};d.getInnerHeight=function(){return this._mask[0].clientHeight};d._getWidth=function(){return this._mask[0].offsetWidth};
d.getInnerWidth=function(){return this._mask[0].clientWidth};d._calCanvasHeight=function(){return this._getRowOuterHeight()*this._datamgr.datalist.length};d.getCanvasHeight=function(){return this._canvasEl.clientHeight};d._setCanvasHeight=function(a){a=parseInt(a);if(!(isNaN(a)||a<1)){var c=this.getCanvasHeight();if(a!=c)this._canvasEl.style.height=a+"px",this._evtmgr.trigger("onResizeCanvasHeight",[a,c],!0)}};d._calCanvasWidth=function(){return this._colLefts[this._colmgr.length()]};d.getCanvasWidth=
function(){return this._canvasEl.clientWidth};d._setCanvasWidth=function(a){typeof a!="number"&&(a=parseInt(a));if(isFinite(a)&&!(a<1)){var c=this.getCanvasWidth();if(a!=c)this._canvasEl.style.width=a+"px",this._evtmgr.trigger("onResizeCanvasWidth",[a,c],!0)}};d.getColLeft=function(a){return this._colLefts[a]};d._getColLefts=function(){return this._colLefts};d._setColLefts=function(a,c){for(var a=a||0,b=this._colmgr.get(),d=this._colWidthPlus(),c=c||b.length;a<c;a++)this._colLefts[a+1]=this._colLefts[a]+
b[a].width+d;return this._colLefts};d._onReorderCols=function(){this._setColLefts();this._rerender()};d.setWidthByKey=function(a,c){var d=this._colmgr.getByKey(a),c=b.bound(c,d.minW,d.maxW);if(c!==d.width){var f=this._evtmgr,g=this._colmgr,h=[a,c,d.width];d.width=c;this._setCanvasWidth(this._setColLefts(g.getIdxByKey(a))[g.length()]);this.grid._recreateDynamicCss();f.trigger("onResizeCol_"+a,h,!0);f.trigger("onResizeCol",h,!0)}};d._autoColWidth=function(a){for(var c=this._canvasFind(".k_"+a),b=Number.MIN_VALUE,
d=c.length,f=0;f<d;f++)if(b<c[f].scrollWidth)b=c[f].scrollWidth;b-=this._getPadding();this.setWidthByKey(a,b)};d._setWidth=function(a){a=parseInt(a);if(!(isNaN(a)||a<1))this._mask[0].style.width=a+"px"};d.getScrollTop=function(){return this._mask[0].scrollTop};d.getScrollLeft=function(){return this._mask[0].scrollLeft};d.setScrollTop=function(a){var c=this.getScrollTop();return a!=null&&c!=a?this._mask[0].scrollTop=a:c};d.setScrollLeft=function(a){var c=this.getScrollLeft();return a!=null&&c!=a?this._mask[0].scrollLeft=
a:c};d._hasHScrollbar=function(){return this._mask[0].offsetHeight>this._mask[0].clientHeight};d._hasVScrollbar=function(){return this._mask[0].offsetWidth>this._mask[0].clientWidth};d._heightPlus=function(){return this._mask[0].offsetHeight-this._mask[0].clientHeight};d._widthPlus=function(){return this._mask[0].offsetWidth-this._mask[0].clientWidth};d._getFirstVisibleRow=function(){return Math.floor(this.getScrollTop()/this._getRowOuterHeight())};d._getFirstSafeVisibleRow=function(){return Math.ceil(this.getScrollTop()/
this._getRowOuterHeight())};d._getLastVisibleRow=function(){return Math.ceil((this.getScrollTop()+this._mask[0].clientHeight)/this._getRowOuterHeight())-1};d._getLastSafeVisibleRow=function(){return Math.floor((this.getScrollTop()+this._mask[0].clientHeight)/this._getRowOuterHeight())-1};d._getFirstRowForSafe=function(a){return a-Math.floor(this._mask[0].clientHeight/this._getRowOuterHeight())+1};d._getFirstVisibleCol=function(){for(var a=this.getScrollLeft(),c=this._colLefts,b=0,d=c.length;b<d;b++){if(c[b]>
a)return b-1;if(c[b]===a)return b}return d-2};d._getFirstSafeVisibleCol=function(){for(var a=this.getScrollLeft(),c=this._colLefts,b=0,d=c.length;b<d;b++)if(c[b]>=a)return b;return d-2};d._getLastVisibleCol=function(){for(var a=this.getScrollLeft()+this._mask[0].clientWidth,c=this._colLefts,b=0,d=c.length;b<d;b++)if(c[b]>=a)return b-1;return d-2};d._getLastSafeVisibleCol=function(){for(var a=this.getScrollLeft()+this._mask[0].clientWidth,c=this._colLefts,b=0,d=c.length;b<d;b++)if(c[b]>a)return b-
2;return d-2};d._getFirstColForSafe=function(a){var c=this._colLefts,b=c[a+1]-this._mask[0].clientWidth,d=a;if(b<=0)return 0;for(;d>=0;d--){if(d===a&&c[d]<=b||c[d]===b)return d;if(c[d]<b)return d+1}return 0};d.getScrollHForSafe=function(a){var c=this._colLefts,b=c[a+1]-this._mask[0].clientWidth;return c[a]<=b?c[a]:b};d._getRenderRange=function(){if(this._options.autoHeight)return{start:0,end:this._datamgr.datalist.length-1};var a,c=this._datamgr.datalist.length-1;return{start:(a=this._getFirstVisibleRow()-
this._options.bufferSize)<0?0:a,end:(a=this._getLastVisibleRow()+this._options.bufferSize)>c?c:a}};d._fitHeight=function(){this._mask[0].style.height=this.getCanvasHeight()+this._heightPlus()+"px"};d._resizeWidth=function(){this._options.autoHeight&&this._fitHeight()};d.onAfterRefresh=function(a){a!==void 0&&a.noRerender===!0||this._rerender()};d._rerender=function(){var a=this.getScrollTop(),c=this.getScrollLeft();this._evtmgr.trigger("onBeforeRerender",!1,!0);this.unlockAllRows();this._removeRows();
var b=this._datamgr.datalist.length;if(this._lastRowLen!==b)this._lastRowLen=b,this._setCanvasHeight(this._calCanvasHeight());this._render();this.setScrollTop(a);this.setScrollLeft(c);this._evtmgr.trigger("onAfterRerender",!1,!0)};d._render=function(a){this._removeAndRenderRows(a)};d._renderShift=function(a){a=a||this._getRenderRange();this._removeRowsExcept(a);this._appendRows(a)};d._removeRows=function(a){var c=this._canvasEl,b=this._renderedRows,d=this._lockedRows,f;if(a)for(var g=a.start,a=a.end,
h=this._datamgr;g<=a;g++){if(!d.hasOwnProperty(f=h.getIdByIdx(g))&&b.hasOwnProperty(f))c.removeChild(b[f]),delete b[f]}else if(this._lockExist())for(f in b)b.hasOwnProperty(f)&&d.hasOwnProperty(f)&&(c.removeChild(b[f]),delete b[f]);else this._renderedRows={},c.innerHTML=""};d._removeRowsExcept=function(a){var c=this._canvasEl,b=this._renderedRows,d=this._lockedRows,f;if(a){var g=a.start,a=a.end,h=this._datamgr,l;for(f in b)if(b.hasOwnProperty(f)&&!(d.hasOwnProperty(f)||g<=(l=h.getIdxById(f))&&l<=
a))c.removeChild(b[f]),delete b[f]}else if(this._lockExist())for(f in b)b.hasOwnProperty(f)&&d.hasOwnProperty(f)===!1&&(c.removeChild(b[f]),delete b[f]);else this._renderedRows={},c.innerHTML=""};d.destroyRow=function(a){return this.destroyRowById(this._datamgr.getId(a))};d.destroyRowById=function(a){a!=null&&(this.unlockRowById(a),this._renderedRows.hasOwnProperty(a)&&(this._canvasEl.removeChild(this._renderedRows[a]),delete this._renderedRows[a]))};d.destroyRowByIdx=function(a){return this.destroyRowById(this._datamgr.getIdByIdx(a))};
d._lockExist=function(){return b.isNotEmptyObj(this._lockedRows)};d.isRowLockedById=function(a){return a!=null?this._lockedRows.hasOwnProperty(a):!1};d.isRowLocked=function(a){return this.isRowLockedById(this._datamgr.getId(a))};d.isRowLockedByIdx=function(a){return this.isRowLockedById(this._datamgr.getIdByIdx(a))};d.lockRowById=function(a){a!=null&&this._datamgr.hasById(a)&&(this._lockedRows[a]=!0)};d.lockRow=function(a){return this.lockRowById(this._datamgr.getId(a))};d.lockRowByIdx=function(a){return this.lockRowById(this._datamgr.getIdByIdx(a))};
d.unlockRowById=function(a){this.isRowLockedById(a)&&delete this._lockedRows[a]};d.unlockRow=function(a){return this.unlockRowById(this._datamgr.getId(a))};d.unlockRowByIdx=function(a){return this.unlockRowById(this._datamgr.getIdByIdx(a))};d.unlockAllRows=function(){this._lockedRows={}};d.rerenderRowById=function(a){if(this._datamgr.containsById(a)){var c=this._renderedRows,d=this._canvasEl,f=this._datamgr,g=f.idKey,h=f.getIdxById(a),f=f.getById(a),o=this._colmgr.get(),l=this._getColCellClasses(o).map(function(a){return"<div class='"+
a+" "}),m=this._getRendererSettings(o),n=m[0],m=m[1],r=this._getRowOuterHeight(),t="<div class='"+this._rowClass+"' i='",s="' "+this._rowIdxAttr+"='",u=[];c.hasOwnProperty(a)&&(d.removeChild(c[a]),this._evtmgr.trigger("onBeforeRenderRows",[[h]],!0),u.push(t+f[g]+s+h+"' style='top:"+r*h+"px'>"),this._renderRow(u,h,f,o,l,n,m),c[a]=b.appendHTML(d,u.join(""))[0],this._evtmgr.trigger("onAppendRows",[[h]],!0))}};d._getRendererSettings=function(a){for(var a=a||this._colmgr.get(),c=0,b=a.length,d,f=[],g=
[],h;c<b;c++)d=a[c],(h=d.renderer)?(f.push(!!d.rendererInput),g.push(h)):(f.push(!1),g.push(!1));return[g,f]};d.rerenderRow=function(a){return this.rerenderRowById(this._datamgr.getId(a))};d.rerenderRowByIdx=function(a){return this.rerenderRowById(this._datamgr.getIdByIdx(a))};d.rerenderCellByIdAndKey=function(a,c){var b=this.getCellByIdAndKey(a,c);if(b){var d=this._datamgr,f=this._colmgr,g=d.getById(a),h=f.getByKey(c),d=d.getIdxById(a),f=f.getIdxByKey(c),l=h.renderer,m=l?h.rendererInput:!1,n=[];
l?m?this._renderCell(n,d,f,g,h,l,!0):this._renderCell(n,d,f,g,h,l):this._renderCell(n,d,f,g,h);b.innerHTML=n.join("")}};d.rerenderCellByIdx=function(a,c){return this.rerenderCellByIdAndKey(this._datamgr.getIdByIdx(a),this._colmgr.getKeyByIdx(c))};d._appendRows=function(a){var c=this._evtmgr,d=[a],f=[],g=a.start,a=a.end,h=this._datamgr,o=h.datalist,l=h.idKey,m=this._colmgr.get(),n=this._getColCellClasses(m).map(function(a){return"<div class='"+a+" "}),h=this._renderedRows,r=this._getRowOuterHeight(),
t=this._canvasEl,s="<div class='"+this._rowClass+"' i='",u="' "+this._rowIdxAttr+"='",v=this._getRendererSettings(m),w=v[0],z=v[1],x,y,v=[];for(c.trigger("onBeforeRenderRows",d,!0);g<=a;g++)x=o[g],y=x[l],h.hasOwnProperty(y)||(f[f.length]=s+y+u+g+"' style='top:"+r*g+"px'>",this._renderRow(f,g,x,m,n,w,z),v.push(y));f=b.appendHTML(t,f.join(""));g=0;for(a=v.length;g<a;g++)h[v[g]]=f[g];c.trigger("onAppendRows",d,!0)};d._removeAndRenderRows=function(a){var a=a||this._getRenderRange(),c=this._evtmgr,b=[a],
d=[],f=a.start,a=a.end,g=this._datamgr,h=g.datalist,g=g.idKey,l=this._colmgr.get(),m=this._getColCellClasses(l).map(function(a){return"<div class='"+a+" "}),n=this._getRowOuterHeight(),r=this._canvasEl,t="<div class='"+this._rowClass+"' i='",s="' "+this._rowIdxAttr+"='",u=this._getRendererSettings(l),v=u[0],u=u[1],w,z,x=[],y={};for(c.trigger("onBeforeRenderRows",b,!0);f<=a;f++)w=h[f],z=w[g],d[d.length]=t+z+s+f+"' style='top:"+n*f+"px'>",this._renderRow(d,f,w,l,m,v,u),x.push(z);r.innerHTML=d.join("");
f=0;for(a=x.length;f<a;f++)y[x[f]]=r.childNodes[f];this._renderedRows=y;c.trigger("onAppendRows",b,!0)};d._renderColumn=function(c,b,d,f,g,h,o){for(var l=[],m,n=0,r=d.length,t,s,u,v=b.key,w,z=this.grid,x=this._evtmgr,y="onRenderCell_"+v,B=[null,c,s,b],A=[null,c,null,b,null];n<r;n++){t=d[n];s=f[t];u=s[v];m=[];A[0]=B[0]=t;A[2]=s;A[4]=m;w=x.trigger("onGetCellClass",B);m[m.length]=w?g+w.join(" ")+"'>":g+"'>";x.trigger(y+"_prepend",A,!0);if(typeof u!="string"||u.substring(0,3)!=="J@H")h?m[m.length]=o?
h(new a({grid:z,row:t,col:c,datarow:s,colDef:b})):h(u,t,c,s,b):u!=null&&(m[m.length]=u);x.trigger(y+"_append",A,!0);m[m.length]="</div>";l[l.length]=m.join("")}return l};d._getColCellClass=function(a){var c=this._cellClass+" k_"+a.key;a.colClass&&(c+=" "+a.colClass);(a=this._evtmgr.trigger("onGetColCellClass",[a]))&&(c+=" "+a.join(" "));return c};d._getColCellClasses=function(a){for(var a=a||this._colmgr.get(),c=[],b=0,d=a.length;b<d;b++)c.push(this._getColCellClass(a[b]));return c};d._renderRow=
function(a,c,b,d,f,g,h){for(var l=0,m=d.length,n,r=[c,null,b,null],t=this._evtmgr,s,u;l<m;l++)n=d[l],r[1]=l,r[3]=n,s=t.trigger("onGetCellClass",r),a[a.length]=s?f[l]+s.join(" ")+"'>":f[l]+"'>",(u=g[l])?h[l]?this._renderCell(a,c,l,b,n,u,!0):this._renderCell(a,c,l,b,n,u):this._renderCell(a,c,l,b,n),a[a.length]="</div>";a[a.length]="</div>";return a};d._renderCell=function(c,b,d,f,g){var h=g.key,o=f[h],l=[b,d,f,g,c],m=this._evtmgr,h="onRenderCell_"+h;m.trigger(h+"_prepend",l,!0);if(typeof o!="string"||
o.substring(0,3)!=="J@H")arguments.length>5?c[c.length]=arguments[6]?arguments[5](new a({grid:this.grid,row:b,col:d,datarow:f,colDef:g})):arguments[5](o,b,d,f,g):o!=null&&(c[c.length]=o);m.trigger(h+"_append",l,!0)};a.prototype.rerender=function(){return this.grid.view.rerenderCellByIdAndKey(this.getId(),this.getKey())};a.prototype.scrollTo=function(){this.grid.view.scrollTo(this.getRowIdx(),this.getColIdx())};d._keydown=function(a){b.contains(this._mask[0],document.activeElement,this._ctnr[0])&&
(this._evtmgr.trigger("keydownCanvas_"+a.which,[a],!0),this._evtmgr.trigger("keydownCanvas",[a],!0))};d._keyup=function(a){b.contains(this._mask[0],document.activeElement,this._ctnr[0])&&(this._evtmgr.trigger("keyupCanvas_"+a.which,[a],!0),this._evtmgr.trigger("keyupCanvas",[a],!0))};d._keypress=function(a){b.contains(this._mask[0],document.activeElement,this._ctnr[0])&&(this._evtmgr.trigger("keypressCanvas_"+a.which,[a],!0),this._evtmgr.trigger("keypressCanvas",[a],!0))};d._mousein=function(a){this._drag?
this._triggerMouseEvent(a,"draginCanvas,mouseinCanvas",f.V_MOUSEIN):this._triggerMouseEvent(a,"mouseinCanvas",f.V_MOUSEIN)};d._mouseout=function(a){this._drag?this._triggerMouseEvent(a,"dragoutCanvas,mouseoutCanvas",f.V_MOUSEOUT):this._triggerMouseEvent(a,"mouseoutCanvas",f.V_MOUSEOUT)};d._mouseenter=function(a){this._drag?this._triggerMouseEvent(a,"dragenterCanvas,mouseenterCanvas",f.V_MOUSEENTER):this._triggerMouseEvent(a,"mouseenterCanvas",f.V_MOUSEENTER)};d._mouseleave=function(a){this._drag?
this._triggerMouseEvent(a,"dragleaveCanvas,mouseleaveCanvas",f.V_MOUSELEAVE):this._triggerMouseEvent(a,"mouseleaveCanvas",f.V_MOUSELEAVE)};d._mousemove=function(a){this._drag?this._triggerMouseEvent(a,"dragmoveCanvas,mousemoveCanvas",f.V_MOUSEMOVE):this._triggerMouseEvent(a,"mousemoveCanvas",f.V_MOUSEMOVE)};d._mouseover=function(a){this._drag?this._triggerMouseEvent(a,"dragoverCanvas,mouseoverCanvas",f.V_MOUSEOVER):this._triggerMouseEvent(a,"mouseoverCanvas",f.V_MOUSEOVER)};d._mousedown=function(a){if(this._triggerMouseEvent(a,
"mousedownCanvas",f.V_MOUSEDOWN))this._drag=!0};d._mouseup=function(a){this._drag=!1;this._triggerMouseEvent(a,"mouseupCanvas",f.V_MOUSEUP)};d._click=function(a){this._triggerMouseEvent(a,"clickCanvas",f.V_CLICK)&&this.focus(a)};d._dblclick=function(a){this._triggerMouseEvent(a,"dblclickCanvas",f.V_DBLCLICK)};d._triggerMouseEvent=function(b,d){var f=b.target;if(f&&!c[f.tagName]&&(f=this._getClosestCell(b.target))){var g=new a({grid:this.grid,node:f}),f=g.getKey(),g=[b,g],h=this._evtmgr;if(d.indexOf(",")>
-1)for(var k=d.split(","),o=0,l=k.length,m;o<l;o++)m=k[o],h.trigger(m+"_"+f,g,!0),h.trigger(m,g,!0);else h.trigger(d+"_"+f,g,!0),h.trigger(d,g,!0);return!0}return!1};d._scroll=function(){var a=this.getScrollTop(),c=a-this._lastScrollTop,b=this.getScrollLeft(),d=b-this._lastScrollLeft;if(c!==0||d!==0){var f=this._evtmgr,c=Math.abs(c/this._getRowOuterHeight());f.trigger("onScrollViewport",!1,!0);if(d)this._lastScrollLeft=b,f.trigger("onScrollViewportH",[b],!0);if(c>=this._options.appendThreshold)this._lastScrollTop=
a,this._removeAndRenderRows(),f.trigger("onScrollViewportV",!1,!0)}};d.focus=function(a){if(!a||!this._evtmgr.triggerInvalid("onBeforeFocusCanvas",[a]))if(a=this._mask[0],document.activeElement!==a){if(a.setActive)try{a.setActive()}catch(c){}a.focus();document.activeElement!==a&&this._mask.focus()}};d.isRenderedById=function(a){return a!=null?this._renderedRows.hasOwnProperty(a):!1};d.isRendered=function(a){return this.isRenderedById(this._datamgr.getId(a))};d.isRenderedByIdx=function(a){return this.isRenderedById(this._datamgr.getIdByIdx(a))};
d.getRowById=function(a){if(this.isRenderedById(a))return this._renderedRows[a]};d.getRow=function(a){return this.getRowById(this._datamgr.getId(a))};d.getRowByIdx=function(a){return this.getRowById(this._datamgr.getIdByIdx(a))};d.getRenderedRowById=function(a){if(this.isRenderedById(a))return this._renderedRows[a]};d.getRenderedRow=function(a){return this.getRenderedRowById(this._datamgr.getId(a))};d.getRenderedRowByIdx=function(a){return this.getRenderedRowById(this._datamgr.getIdByIdx(a))};d.getRenderedRows=
function(){return b.toArray(this._renderedRows)};d.getCell=function(a,c){if(c!=null){var b=this.getRowByIdx(a);if(b)return b.childNodes[c]}};d.getCellByIdAndKey=function(a,c){var b=this._colmgr.getIdxByKey(c);if(b!=null){var d=this.getRowById(a);if(d)return d.childNodes[b]}};d.getRenderedCell=function(a,c){if(c!=null){var b=this.getRenderedRowByIdx(a);if(b)return b.childNodes[c]}};d.getRenderedCellByIdAndKey=function(a,c){var b=this._colmgr.getIdxByKey(c);if(b!=null){var d=this.getRenderedRowById(a);
if(d)return d.childNodes[b]}};d._getClosestCell=function(a){return b.closestWithTag(a,"DIV",this._cellClass,this._canvasEl)};d._getClosestRow=function(a){return b.closestWithTag(a,"DIV",this._rowClass,this._canvasEl)};d._getClosestRowIdx=function(a){return this._datamgr.getIdxByNode(this._getClosestRow(a))};d._canvasFind=function(a){return this._canvas.find(a)};g._renderer=function(a){return a==null?"":a}})();jx.grid.ColumnManager={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.colDefMgr=this;this._options=e._extend({colDef:{type:"string",key:void 0,name:"",colClass:void 0,defaultValue:void 0,inputOnCreate:void 0,style:"",headerStyle:"",width:80,minW:30,maxW:void 0,editor:void 0,sorter:void 0,hidden:!1,sumRenderer:void 0,tooltipEnabled:!1,resizable:!1,renderer:void 0,rendererInput:!1,noTitle:!1,noName:!1,title:void 0,noSearch:!1,filter:void 0,parser:void 0,validator:void 0}},a.options);this._colDefs=[];
this._filtered=[];this._keyToDef={};this._keyToIdx={};this.__init(a)}function h(a){if(a)switch(a=a.toLowerCase(),a){case "bool":case "boolean":return"boolean";case "int":case "integer":case "long":case "short":return"int";case "float":case "double":case "number":case "num":case "numeric":return"float";case "str":case "string":case "text":return"string";case "date":case "datetime":case "time":case "timestamp":return"date"}return null}function f(a){if(typeof a!="boolean"){if(!a)return!1;switch(a.toString().toLowerCase()){case "0":case "n":case "no":case "false":case "f":case "off":case "disable":case "disabled":case "null":case "undefined":case "nil":case "fail":case "not":return!1}return!0}return a}
function b(a){return typeof a!="string"?a==null?"":a.toString():a}function a(a){return new Date(Date.parse(a))}function c(a,c){switch(typeof a){case "undefined":return Number.MAX_VALUE;case "boolean":return a?1:0;case "number":return a;case "string":return a[c]();default:if(a==null)return Number.MAX_VALUE}a=a.valueOf();switch(typeof a){case "undefined":return Number.MAX_VALUE;case "boolean":return a?1:0;case "number":return a;case "string":return a[c]();default:return a==null?Number.MAX_VALUE:a.toString()[c]()}}
function d(a){switch(typeof a){case "undefined":return Number.MAX_VALUE;case "boolean":return a?1:0;case "number":return a}return a==null?Number.MAX_VALUE:f(a)?1:0}var e=goog.getObjectByName("jx.grid"),q=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Column");goog.getObjectByName("jx.grid.ViewportManager");goog.exportSymbol("jx.grid.ColumnManager",g);g.getInstance=function(a){return new g(a)};var i=g.prototype;i.__init=function(a){this.grid.event.bind("onDestroy",
this._destroy,this);this.set(a.colDefs)};i._destroy=function(){e._destroy(this,{name:"ColumnManager",path:"colDefMgr",property:"_colDefs",map:"_keyToIdx _keyToDef _options",array:"_filtered"})};i.getAll=function(){return this._colDefs};i.set=function(a){if(this._colDefs===a||q.areEqualArrays(this._colDefs,a))return a;if(q.isNull(a))a=[];else{var c=a.filter(function(a){return q.isNotNull(a)});a.length=0;a.pushList(c)}this.grid.event.trigger("onBeforeSetColDefs",[this._colDefs,a],!0);this._colDefs=
[];this._filtered.length=0;this._keyToIdx={};this._keyToDef={};this.grid.event.trigger("onEmptyColDefs",!1,!0);for(var c=0,b=a.length,d=this._keyToDef,e,f;c<b;c++){e=a[c];if(!e.hasOwnProperty("key"))return this._keyToDef={},this.grid.error("KEY_UNDEFINED",c);f=e.key;if(q.isEmptyString(f))return this._keyToDef={},this.grid.error("BAD_NULL",c);if(d.hasOwnProperty(f))return this._keyToDef={},this.grid.error("DUP_KEY",f);d[f]=e}this._colDefs=a;for(c=0;c<b;c++)this._extend(a[c]);this.grid.event.trigger("onAfterSetColDefs",
[a,this._filter()],!0);return a};i.push=function(a){return this.addAt(this._filtered.length,a)};i.addAt=function(a,c){if(!q.isNull(c)){var b=c.key,d=this._keyToDef,e=this._filtered;q.isNull(a)||a>e.length?a=e.length:a<0&&(a+=e.length);this.grid.event.trigger("onBeforeAddColDef",[c],!0);if(q.isNull(b))return this.grid.error("KEY_UNDEFINED");if(d.hasOwnProperty(b))return this.grid.error("DUP_KEY",b);this._colDefs.addAt(a,this._extend(d[b]=c));c.hidden!==!0&&(e.addAt(a,c),this._reidx());this.grid.event.trigger("onAfterAddColDef",
[c,a],!0);return e.length}};i._extend=function(c){if(c){var d={},e,i;$.extend(!0,d,this._options.colDef);$.extend(!0,d,c);$.extend(!0,c,d);d=c.type=h(c.type);i=c.key;i!=null&&typeof i!="string"&&(c.key=i=i.toString());if(!i)throw Error("column key is not defined!");if(e=c.sorter){typeof e=="string"?e=h(e):d&&(e=d);if(e=g.sorter(e,i))e.key=i;c.sorter=e}if((e=c.parser)&&d&&typeof e!="function"){switch(d){case "boolean":e=f;break;case "int":e=parseInt;break;case "float":e=parseFloat;break;case "string":e=
b;break;case "date":e=a;break;default:e=null}c.parser=e}}return c};i.hide=function(a){var c=this._filtered[a];if(!q.isNull(c))return c.hidden=!0,this._filtered.removeAt(a),this._reidx(),this.grid.event.trigger("onHideCol",[c,a],!0),c};i.show=function(a){if(!q.isNull(a)){if(!q.isString(a)){if(!q.isObject(a))return;a=a.key}var c=this._keyToDef;if(c.hasOwnProperty(a)){if(this._keyToIdx.hasOwnProperty(a))return c[a];c=c[a];c.hidden=!1;this._filter();this._reidx();this.grid.event.trigger("onShowCol",[c,
this._keyToIdx[a]],!0);return c}}};i._filter=function(){this._filtered=this._colDefs.filter(function(a){return a.hidden!==!0});this._reidx();return this._filtered};i._reidx=function(){this._keyToIdx={};return this._reidxFrom()};i._reidxFrom=function(a){q.isNull(a)&&(a=0);for(var c=this._filtered,b=c.length,d=this._keyToIdx;a<b;a++)d[c[a].key]=a;return d};i.get=function(a){if(q.isNull(a))return this._filtered;if(this._filtered.hasOwnProperty(a))return this._filtered[a]};i.getByKey=function(a){if(q.isNotNull(a)&&
this._keyToDef.hasOwnProperty(a))return this._keyToDef[a]};i.length=function(){return this._filtered.length};i.getIdxByKey=function(a){return this._keyToIdx.hasOwnProperty(a)?this._keyToIdx[a]:-1};i.getIdx=function(a){return q.isNotNull(a)&&this._keyToIdx.hasOwnProperty(a.key)?this._keyToIdx[a.key]:-1};i.sortByKey=function(a){this._filtered.length=0;this._keyToIdx={};for(var c=0,b=a.length,d=this._filtered,e=this._keyToIdx,f=this._keyToDef;c<b;c++)d.push(f[a[c]]),e[a[c]]=c;this.grid.event.trigger("onReorderCols",
a,!0);return this._filtered};i.getKeys=function(){return this._filtered.map(function(a){return a.key})};g.sorter=function(a,b,e){e={on:!!e,key:b};switch(a){case "boolean":return e.comparator=function(a,c){return d(a[b])-d(c[b])},e;case "string":return e.lexi=b,e;case "int":return e.comparator=function(a,d){return c(a[b],"toInt")-c(d[b],"toInt")},e;case "float":return e.comparator=function(a,d){return c(a[b],"toFloat")-c(d[b],"toFloat")},e;case "date":return e.comparator=function(a,d){return c(a[b],
"toInt")-c(d[b],"toInt")},e}return null}})();jx.grid.MenuBar={};
(function(){function g(a){b.call(this,a);this.grid.menubar=this}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util"),b=goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.MenuBar",g);goog.inherits(g,b);g.getInstance=function(a){return new g(a)};var a=g.prototype;a._defaultOptions=function(){return{background:"url("+this.grid._options.imageUrl+"menubar-bg.png) repeat-x scroll center",borderThickness:1,border:"solid #b6bac0",height:27,classMenuBar:"menubar",classIcon:"menu-icon",
iconBorderThickness:1,iconBorder:"solid transparent",iconBorderHover:"solid #d4d4d4",iconBorderActive:"solid #9a9a9a",iconMargin:2,iconBackground:"",iconBackgroundHover:"url("+this.grid._options.imageUrl+"menu-icon-hover.png) repeat-x scroll center",iconBackgroundActive:"url("+this.grid._options.imageUrl+"menu-icon-active.png) repeat-x scroll center",iconHeight:21,iconWidth:21,iconBorderRadius:4,iconBorderFocus:"solid #5f5f5f"}};a._init=function(a){this._ctnr=a.container;this._menubar=$("<div class='"+
this._options.classMenuBar+"'></div>").prependTo(this._ctnr)};a._bindEvents=function(){this.grid.event.bind({onCreateCss:this._onCreateCss,onDestroy:this._destroy},this)};a._destroy=function(){h._destroy(this,{name:"MenuBar",path:"menubar",$:"_menubar",property:"_ctnr",map:"_options"})};a._onCreateCss=function(){var a="#"+this.grid.mid+" .",b=this._options,e=[];e.push(a+b.classMenuBar+"{"+h._CONST._cssUnselectable+"overflow:hidden;width:100%;background:"+b.background+";border-bottom:"+(b.borderThickness+
"px "+b.border)+";height:"+b.height+"px}");e.push(a+b.classIcon+"{float:left;height:"+b.iconHeight+"px;width:"+b.iconWidth+"px;border:"+b.iconBorderThickness+"px "+b.iconBorder+";margin:"+b.iconMargin+"px 0 0 "+b.iconMargin+"px;background:"+b.iconBackground+";border-radius:"+b.iconBorderRadius+"px;-moz-border-radius:"+b.iconBorderRadius+"px}");e.push(a+b.classIcon+":hover,"+a+b.classIcon+":focus{background:"+b.iconBackgroundHover+";border:"+b.iconBorderThickness+"px "+b.iconBorderHover+"}");e.push(a+
b.classIcon+":active,"+a+b.classIcon+".active{cursor:default;background:"+b.iconBackgroundActive+";border:"+b.iconBorderThickness+"px "+b.iconBorderActive+"}");e.push(a+b.classIcon+".active:focus{border:"+b.iconBorderThickness+"px "+b.iconBorderFocus+"}");return e.join("")};a.addIcon=function(a,b,e,g,i){return $("<div class='"+this._options.classIcon+"' tabIndex='0' title='"+b+"'><div class='"+a+"' style='margin-top:"+(this._options.iconHeight-g)/2+"px;margin-left:"+(this._options.iconWidth-e)/2+
"px'></div></div>").appendTo(this._menubar).click(function(a){i();$(this).toggleClass("active");a.preventDefault()}).keydown(function(a){if(a.which===f.keyMapKeydown.enter||a.which===f.keyMapKeydown.space)i(),$(this).toggleClass("active"),a.preventDefault()})}})();jx.grid.Footer={};
(function(){function g(a){this.mid=a.mid;this._ctnr=a.container;this.grid=a.grid;this.grid.footer=this;this._options=h._extend({classCell:"footer-cell",background:"#F1F5FB",border:"0px solid #CCD9EA",color:"#000",fontSize:"13px",fontWeight:"normal",cellHeight:25,cellPadding:40,countTemplate:"현재 <span name='shownCount'></span> 건 / 총 <span name='totalCount'></span> 건",titleColor:"#5A6779",titleFontSize:"12px",titleFontWeight:"normal",contentColor:"#1E395B",contentFontSize:"12px",contentFontWeight:"normal",classFooter:"jgrid-footer",
classTitle:"footer-title",classContent:"footer-content",style:"",cellStyle:"",titleStyle:"",contentStyle:""},a.options);this._sumMap={};this.__init()}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.Footer",g);g.getInstance=function(a){return new g(a)};var b=g.prototype;b.__init=function(){this._foot=$("<div class='"+this._options.classFooter+"'>").appendTo(this._ctnr);this.getNextCell().html(this._options.countTemplate);
this._updateTotalCount();this._updateShownCount();this._initSumCells();this.bindEvents()};b.bindEvents=function(){this.grid.event.bind({onCreateCss:this._onCreateCss,onDestroy:this._destroy,onDataChange:[this._updateTotalCount,this._updateSums],onAfterRefresh:this._updateShownCount},this)};b._destroy=function(){var a,c=this._sumMap;for(a in c)c.hasOwnProperty(a)&&c[a].remove();h._destroy(this,{name:"Footer",path:"footer",$:"_foot",property:"_ctnr",map:"_sumMap _options"})};b._onCreateCss=function(){var a=
this._options,c="#"+this.grid.mid+" ."+a.classFooter,b=[];b.push(c+"{float:left;cursor:default;width:100%;"+h._CONST._cssUnselectable+"background:"+a.background+";border-top:"+a.border+";border-collapse:collapse;color:"+a.color+";font-size:"+a.fontSize+";font-weight:"+a.fontWeight+";padding-left:8px;"+a.style+"}");b.push(c+" ."+a.classCell+"{float:left;white-space:nowrap;line-height:"+a.cellHeight+"px;padding-right:"+a.cellPadding+"px;"+a.cellStyle+"}");b.push(c+" ."+a.classTitle+"{text-align:right;color:"+
a.titleColor+";font-size:"+a.titleFontSize+";font-weight:"+a.titleFontWeight+";"+a.titleStyle+"}");b.push(c+" ."+a.classContent+"{color:"+a.contentColor+";font-size:"+a.contentFontSize+";font-weight:"+a.contentFontWeight+";"+a.contentStyle+"}");return b.join("")};b._updateTotalCount=function(){this._foot.find("[name=totalCount]")[0].innerHTML=this.grid.dataMgr.getReal().length};b._updateShownCount=function(){this._foot.find("[name=shownCount]")[0].innerHTML=this.grid.dataMgr.filterReal(this.grid.dataMgr.datalist).length};
b._initSumCells=function(){for(var a=this.grid.dataMgr.getReal(),c=this.grid.colDefMgr.get(),b=c.length,e,h,i,j,p=g._calSum,k=this._sumMap,o,l=0;l<b;l++)if(e=c[l],h=e.sumRenderer,f.isNotNull(h))if(i=e.key,e=e.name,j=p(a,i),i=k[i]=this.getNextCell(),o=i[0],f.isFunction(h))o.innerHTML=h(e,j);else if(f.isString(h))if(i=h.toLowerCase(),i==="krw"||h==="\\")o.innerHTML=this._sumRenderer(e,f.formatNumber(j));else{if(i==="usd"||h==="$")o.innerHTML=this._sumRenderer(e,f.formatNumber(j,2,"$ "))}else o.innerHTML=
this._sumRenderer(e,j)};b._updateSums=function(){var a=this.grid.dataMgr.getReal(),c,b=this._sumMap,e=this.grid.colDefMgr,h,i,j,p=g._calSum,k,o,l=this._options.classContent;for(c in b)if(b.hasOwnProperty(c))if(h=e.getByKey(c),i=h.sumRenderer,j=p(a,c),k=b[c],o=k[0],f.isFunction(i))o.innerHTML=i(h.name,j);else if(f.isString(i))if(h=i.toLowerCase(),h==="krw"||i==="\\")k.find("span."+l)[0].innerHTML=f.formatNumber(j);else{if(h==="usd"||i==="$")k.find("span."+l)[0].innerHTML=f.formatNumber(j,2,"$ ")}else k.find("span."+
l)[0].innerHTML=j};b.getNextCell=function(){return $("<div class='"+this._options.classCell+"'/>").appendTo(this._foot)};b._sumRenderer=function(a,c){return"<span class='"+this._options.classTitle+"'>"+a+" 합계: </span><span class='"+this._options.classContent+"'>"+c+"</span>"};g._calSum=function(a,c){for(var b=0,e,f=a.length,g=0;g<f;g++){if(typeof(e=a[g][c])==="string")e=e.toFloat();b+=isNaN(e)?0:e}return b}})();jx.grid.ColumnHeader={};
(function(){function g(a){b.call(this,a)}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util"),b=goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Grid");goog.exportSymbol("jx.grid.ColumnHeader",g);goog.inherits(g,b);g.getInstance=function(a){return new g(a)};var a=g.prototype;a._init=function(a){this.grid.header=this;this._ctnr=a.container;this._map={};this._resizeMap={};a=this._options;this._mask=$("<div class='"+a.classHeaderMask+"'>").prependTo(this._ctnr);
this._head=$("<div class='"+a.classHeader+"'>").appendTo(this._mask);g._disableSel(this._head)};a._bindEvents=function(){var a,b=this.getColumns(),e=b.length,f=0;for(a={onRenderModules:this._onRenderModules,onAfterRenderModules:this._onAfterRenderModules,mousedown:this._mousedown,mouseup:this._mouseup,dragmove:this._dragmove,onScrollViewportH:this._onScrollViewportH,onScrollViewportV:this._onScrollViewportV,onChangeSorter:this._onChangeSorter,click:this._click,onResizeCol:this._setWidthByKey};f<e;f++)if(b[f].sorter)a["clickHeader_"+
b[f].key]=this._sort;this.bindGridEvent(a,this)};a._defaultOptions=function(a){a=a._options.imageUrl;return{reorderEnabled:!1,reorderSyncEnabled:!0,background:"url("+a+"column-headers-bg.png) repeat-x scroll center",backgroundHover:"url("+a+"column-headers-over-bg.png) repeat-x scroll center",backgroundPlaceholder:"#646464",sortBackground:a+"sort.png",sortRight:4,sortWidth:7,sortBackgroundAsc:a+"sort-asc.png",sortBackgroundDesc:a+"sort-desc.png",font:"15px Arial,Helvetica,sans-serif",height:21,borderThickness:1,
border:"solid #909192",classHeaderMask:"jgrid-header-mask",classHeader:"jgrid-header",classColHeader:"jgrid-colheader",classColHeaderActive:"jgrid-colheader-active",classColHeaderPlaceholder:"jgrid-colheader-placeholder",classInteractive:"interactive",classColHeaderSorted:"jgrid-colheader-sorted",classSort:"jgrid-sort",classSortAsc:"jgrid-sort-asc",classSortDesc:"jgrid-sort-desc",classResizeHandle:"jgrid-resize-handle",resizeHandleWidth:11,style:"",headerStyle:"",scrollerLeft:1E4,scrollerWidth:1E5,
classResizeGuide:"resize-guide",resizeGuideWidth:1,resizeBackground:"black;filter:alpha(opacity=40);opacity:0.4",syncResize:!1,resizeHandleBackground:"black;filter:alpha(opacity=5);opacity:0.05"}};a._beforeDispose=function(){this._head.sortable&&this._head.sortable("destroy");this._destroyResizeHandles();h._destroy(this,{name:"ColumnHeader",path:"header",$:"_resizeGuide _mask _head",property:"_ctnr _resizeMap",map:"_map _options"});this.dispose()};a._destroyResizeHandles=function(){var a=this._resizeMap,
b;for(b in a)a.hasOwnProperty(b)&&(a[b].remove(),delete a[b]);delete this._resizeKey;delete this._resizeInitX;delete this._resizeHandleInitX;delete this._resizeInitWidth;delete this._resizeInitColWidth};a._beforeCreateCss=function(a){var b="#"+this.grid.mid+" .",e=this._options,f=e.borderThickness+"px "+e.border,g=this.getColumns(),h=g.length,p=0,k="."+e.classHeaderMask,o="."+e.classColHeader,l=e.scrollerLeft,l=e.scrollerLeft,m=e.height+"px",n=e.classColHeaderActive,r={};r[k]={position:"relative",
overflow:"hidden",width:"100%",font:e.font,background:e.background,"border-bottom":f,_append:e.style};r["."+e.classHeader]={position:"relative",overflow:"hidden","white-space":"nowrap",cursor:"default",left:-l+"px",width:e.scrollerWidth+"px","line-height":m};r[o]={position:"relative",overflow:"hidden","float":"left","text-overflow":"ellipsis","text-align":"center",height:m,left:l-this.getView().getScrollLeft()+"px","border-right":f,_append:e.headerStyle};r[o+"."+e.classInteractive+":hover, "+b+n]=
{background:e.backgroundHover};r["."+n]={"border-left":f};r[o+"."+e.classColHeaderPlaceholder]={background:e.backgroundPlaceholder+"!important"};r["."+e.classSort]={position:"absolute",height:m,right:e.sortRight+"px",width:e.sortWidth+"px",background:"url("+e.sortBackground+") no-repeat center transparent"};r["."+e.classSortAsc]={background:"url("+e.sortBackgroundAsc+") no-repeat center transparent"};r["."+e.classSortDesc]={background:"url("+e.sortBackgroundDesc+") no-repeat center transparent"};
r["."+e.classResizeHandle]={"z-index":10,background:e.resizeHandleBackground,cursor:"e-resize",position:"absolute",height:m,width:e.resizeHandleWidth+"px"};for(r["."+e.classResizeGuide]={"z-index":10,position:"absolute",background:e.resizeBackground,width:e.resizeGuideWidth+"px"};p<h;p++)g[p].headerStyle&&(r[o+"#"+this.mid+"h"+g[p].key]={_append:g[p].headerStyle});this.toCssStyles(a.css,r)};a._widthPlus=function(){return this._options.borderThickness};a._onScrollViewportH=function(a){this._head[0].style.left=
-this._options.scrollerLeft-a+"px"};a._onRenderModules=function(){for(var a=this.getColumns(),b=a.length,e=0,f,g=[];e<b;e++)(f=a[e]).hidden||this._render(g,f,e);this._head[0].innerHTML=g.join("");this.triggerGridEvent("onRenderHeadersComplete",!1,!0)};a._onAfterRenderModules=function(){var a=this._options;a.reorderEnabled&&this._initReorder();this._initResizeHandles();this._resizeGuide=$("<div class='"+a.classResizeGuide+"'>").appendTo(this.getView()._mask);this._resizeGuide[0].style.top="0px";this._resizeGuide[0].style.height=
"0px"};a._render=function(a,b,e){var f=this._options,g=b.key,h=b.noName?"":b.name||g,p=this._widthPlus(),k="onRenderHeader_"+g,o=[a];a.push("<div id='"+this.mid+"h"+g+"' class='"+f.classColHeader+" "+(f.reorderEnabled||b.sorter?" "+f.classInteractive:"")+"' "+(b.noTitle?"":"title='"+(b.title||h)+"' ")+"style='width:"+(this.getView()._getColOuterWidth(e)-p)+"px;' colKey='"+g+"'>");this.triggerGridEvent(k+"_prepend",o,!0);a.push(h);this.triggerGridEvent(k+"_append",o,!0);b.sorter&&a.push("<span class='"+
f.classSort+"'></span>");a.push("</div>")};g._disableSel=function(a){Util$.safe$(a).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})};a.get=function(a){if(this._map.hasOwnProperty(a))return this._map[a];var b=document.getElementById(this.mid+"h"+a);return!b?$([]):this._map[a]=$(b)};a._updateIndicator=function(a,b){var e=this.get(a),f=this._options,g=e.find("."+f.classSort),h=f.classColHeaderSorted,p=f.classSortAsc,f=f.classSortDesc;b===0?(e.removeClass(h),
g.removeClass(p+" "+f)):(e.addClass(h),b===1?g.addClass(p).removeClass(f):b===2&&g.addClass(f).removeClass(p))};a._closest=function(a){return Util$.safe$(a).closest("div."+this._options.classColHeader,this._head)};a._getDef=function(a){return this.getColMgr().getByKey(a.attr("colKey"))};a._sort=function(a,b,e){a=e.sorter;this.triggerGridEvent("onBeforeColSort_"+e.key,!1,!0);this.triggerGridEvent("onBeforeColSort",!1,!0);a.desc=a.desc===!1?!0:!1;this.getDataMgr().refresh({sorter:a});this.getView()._scroll()};
a._onChangeSorter=function(a,b){a!==b&&a&&this._updateIndicator(a.key,0);b&&this._updateIndicator(b.key,b.desc?2:1)};a._initReorder=function(){var a=this,b=this._options,e=this.getColMgr(),f=this._head,g=this.mid.length+1,h=function(a,c){for(var b=$(f).sortable("toArray"),d=b.length,h,j=0;j<d;j++)h=b[j],b[j]=h===""?c.item.attr("id").substring(g):h.substring(g);e.sortByKey(b)};f.sortable({items:"."+b.classColHeader,axis:"x",forcePlaceholderSize:!0,placeholder:b.classColHeaderPlaceholder+" "+b.classColHeader,
tolerance:"pointer",start:function(b,d){d.item.addClass(a._options.classColHeaderActive)},stop:function(b,d){d.item.removeClass(a._options.classColHeaderActive);a._syncResizeHandles()},update:h});b.reorderSyncEnabled&&f.sortable("option","change",h)};a._getDx=function(a,b){var e=a.clientX-this._resizeInitX,g=b.minW,i=f.ifNull(b.maxW,Number.MAX_VALUE),h=this._resizeInitWidth;h+e<g&&(e=g-h);h+e>i&&(e=i-h);return e};a._click=function(a){var b=this._closest(a.target);if(b.length!==0){var e=this._getDef(b),
f=e.key,a=[a,b,e];this.getEventMgr().triggerInvalid("clickHeaderValid_"+f,a)||(this.triggerGridEvent("clickHeader_"+f,a,!0),this.triggerGridEvent("clickHeader",a,!0))}};a._mousedown=function(a){var b=this._options;if(f.hasTagAndClass(a.target,"DIV",b.classResizeHandle)){var e=this._resizeKey=a.target.getAttribute("key");this._resizeInitWidth=this.get(e)[0].clientWidth;this._resizeInitColWidth=this.getColMgr().getByKey(e).width;this._resizeInitX=a.clientX;this._resizeHandleInitX=this._resizeMap[e][0].offsetLeft;
this._resizeGuide[0].style.left=Math.floor(this._resizeHandleInitX+(b.resizeHandleWidth-b.resizeGuideWidth)/2-b.scrollerLeft)+"px";this._resizeGuide[0].style.height=this.getView().getInnerHeight()+"px"}else if(b=this._closest(a.target),b.length){var g=this._getDef(b),e=g.key,a=[a,b,g];this.triggerGridEvent("mousedownHeader",a,!0);this.triggerGridEvent("mousedownHeader_"+e,a,!0)}};a._dragmove=function(a){var b=this._resizeKey;if(b!=null&&(a=this._getDx(a,this.getColMgr().getByKey(b)),!(Math.abs(a)<
1))){var e=this._options;this.get(b)[0].style.width=this._resizeInitWidth+a+"px";this._moveResizeHandles(this._resizeHandleInitX+a-this._resizeMap[b][0].offsetLeft,this.getColMgr().getIdxByKey(b));this._resizeGuide[0].style.left=Math.floor(this._resizeHandleInitX+a+(e.resizeHandleWidth-e.resizeGuideWidth)/2-e.scrollerLeft)+"px";e.syncResize&&this.getView().setWidthByKey(b,this._resizeInitColWidth+a)}};a._mouseup=function(a){var b=this._resizeKey;if(b!=null)this._resizeGuide[0].style.height="0px",
a=this._getDx(a,this.getColMgr().getByKey(b)),Math.abs(a)>=1&&this.getView().setWidthByKey(b,this._resizeInitColWidth+a),delete this._resizeKey,delete this._resizeInitX,delete this._resizeHandleInitX,delete this._resizeInitWidth,delete this._resizeInitColWidth};a._setWidthByKey=function(a,b){this.get(a)[0].style.width=b+this.getView()._colWidthPlus()-this._widthPlus()+"px";this._syncResizeHandles(this.getColMgr().getIdxByKey(a));this.getView()._scroll()};a._syncResizeHandles=function(a){for(var a=
a||0,b=this.getView()._getColLefts(),e=this.getColumns(),f=e.length,g=this._resizeMap,h;a<f;a++)if(h=e[a].key,g.hasOwnProperty(h))g[h][0].style.left=b[a+1]+this._resizeHandleOffset+"px"};a._moveResizeHandles=function(a,b){for(var b=b||0,e=this.getColumns(),f=e.length,g=this._resizeMap,h;b<f;b++)if(h=e[b].key,g.hasOwnProperty(h))h=g[h][0],h.style.left=h.offsetLeft+a+"px"};a._onScrollViewportV=function(){this._resizeGuide[0].style.top=this.getView().getScrollTop()+"px"};a._initResizeHandles=function(){for(var a=
this.getColumns(),b=a.length,e=this.getView(),f=e.mid,e=e._getColLefts(),g=this._options,h=this._resizeMap,p,k=0,o=this._resizeHandleOffset=Math.floor(g.scrollerLeft-g.resizeHandleWidth/2),l=g.classResizeHandle,m=this._head;k<b;k++)if(g=a[k],g.resizable)p=g.key,h[p]=$("<div class='"+l+"' key='"+p+"' ondblclick='JGM.m.ViewportManager."+f+'._autoColWidth("'+p+"\")' style='left:"+(o+e[k+1])+"px' title='"+g.name+" 컬럼의 폭을 조절합니다.'>").appendTo(m)}})();jx.grid.CheckManager={};
(function(){function g(a){function d(){var a=this._options,b=this._isRadio=a.isRadio=!!a.isRadio;this._hasMaster=a.master=!b&&!!a.master;this._col=a.colDef;this._key=this._col.key;this._cssClass=a.classCheck;this._cssClassMaster=a.classMasterCheck;this._name=a.name||b&&"radio"+this.mid||null}this.addEventListener("afteroption",d);b.call(this,a);this.removeEventListener("afteroption",d)}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util"),b=goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.CheckManager",
g);goog.inherits(g,b);g.getInstance=function(a){return new g(a)};var a=g.prototype;a._init=function(){this._map={};this.disabledmap={};this._count=0;this._disabled=!1;var a,b=h._CONST;a=this.getColMgr();a.getByKey(this._col.key)||a.addAt(this._options.colIdx,this._col);if(f.isNull(b._checkboxWidth))a=f.calCheckSize(),b._checkboxWidth=a.checkboxW,b._checkboxHeight=a.checkboxH,b._radioWidth=a.radioW,b._radioHeight=a.radioH};a._bindEvents=function(){var a=this._col.key,b;b={onAfterSetDatalist:this.uncheckAll,
onIdChange:this._onIdChange,onIdListChange:this._onIdListChange,onRemoveDatarow:this._onRemoveDatarow,onRemoveDatalist:this._onRemoveDatalist};b["onRenderCell_"+a+"_prepend"]=this._onRenderCell;b["keydownColSel_"+a+"_"+f.keyMapKeydown.space]=this._keydownColSel;if(this._hasMaster)b["onRenderHeader_"+a+"_prepend"]=this._onRenderHeader,b.onRenderHeadersComplete=this._getMaster;this.bindGridEvent(b,this)};a._defaultOptions=function(){return{colDef:{key:"checkbox",width:20,name:" ",noTitle:!0,resizable:!1,
sorter:null,filter:null,noSearch:!0,editor:null,inputOnCreate:!1},colIdx:0,name:void 0,classCheck:"checkmg",classMasterCheck:"checkm",master:!0,isRadio:!1}};a._beforeCreateCss=function(a){var b,e,f=a.css;this._isRadio?(a=h._CONST._radioWidth,b=h._CONST._radioHeight):(a=h._CONST._checkboxWidth,b=h._CONST._checkboxHeight);e="*overflow:hidden;padding:0;width:"+a+"px;height:"+b+"px;";f.push(this.getView()._getCellSelector()+" ."+this._cssClass+"[mid='"+this.mid+"']{"+e+"margin:"+(this.getView()._getRowInnerHeight()-
b)/2+"px 0 0 "+(this._col.width-this.getView()._getPadding()-a)/2+"px}#"+this.mid+"h{"+e+"margin:"+(this.getHeader()._options.height-b)/2+"px 0 0 0}")};a.checkList=function(a,b){if(!b)a=this.getDataMgr().mapList(a).mapped;for(var e=0,f=a.length;e<f;e++)this.check(a[e],!0)};a.setCheckList=function(a,b){this.uncheckAll();this.checkList(a,b)};a.getCheckList=function(){return f.toArray(this._map)};a.getDisableds=function(){return f.toArray(this.disabledmap)};a.toggleCheckAll=function(){this.isCheckedAll()?
this.uncheckAll():this.checkAll()};a.checkAll=function(){this._hasMaster&&g._check(this._master);g._check(this.getCheckboxes());for(var a=this.getAllData(),b=a.length,e=this.getIdKey(),f=this._map,i=0;i<b;i++)f[a[i][e]]=a[i];this._count=b};a.uncheckAll=function(){this._hasMaster&&g._uncheck(this._master);g._uncheck(this.getCheckboxes());this._map={};this._count=0};a.toggleCheck=function(a,b){b||(a=this.getDataMgr().map(a));this.isChecked(a,!0)&&!this._isRadio?this.uncheck(a,!0):this.check(a,!0)};
a.toggleDisable=function(a,b){b||(a=this.getDataMgr().map(a));this.isDisabled(a,!0)?this.enable(a,!0):this.disable(a,!0)};a.toggleById=function(a){this.toggleCheck(this.getDataMgr().getById(a),!0)};a.check=function(a,b){b||(a=this.getDataMgr().map(a));this._add(a)&&(g._check(this.getCheckbox(a)),this._updateMaster(),this.triggerGridEvent("onCheckChange",[a,!0],!0))};a.uncheck=function(a,b){b||(a=this.getDataMgr().map(a));this._remove(a)&&(g._uncheck(this.getCheckbox(a)),this._hasMaster&&g._uncheck(this._master),
this.triggerGridEvent("onCheckChange",[a,!1],!0))};a.disable=function(a,b){var e=this.getDataMgr();b||(a=e.map(a));var e=e.getId(a),f=this.disabledmap;f.hasOwnProperty(e)||(f[e]=a,g.disableNode(this.getCheckbox(a)),this.triggerGridEvent("onDisableCheck",[a],!0))};a.enable=function(a,b){var e=this.getDataMgr();b||(a=e.map(a));var e=e.getId(a),f=this.disabledmap;f.hasOwnProperty(e)&&(delete f[e],g.enableNode(this.getCheckbox(a)),this.triggerGridEvent("onEnableCheck",[a],!0))};a._updateMaster=function(){this._hasMaster&&
g._setCheck(this._master,this.isCheckedAll())};a._add=function(a){var b=a[this.getIdKey()];if(this._map.hasOwnProperty(b))return!1;if(this._isRadio)this._map={},this._count=0;this._map[b]=a;this._count++;return!0};a._remove=function(a){var a=a[this.getIdKey()],b=this._map;if(!b.hasOwnProperty(a))return!1;delete b[a];this._count--;return!0};a.isChecked=function(a,b){var e=this.getDataMgr();b||(a=e.map(a));return this._map.hasOwnProperty(e.getId(a))};a.isDisabled=function(a,b){var e=this.getDataMgr();
b||(a=e.map(a));return this.disabledmap.hasOwnProperty(e.getId(a))};a.splitChecked=function(a,b){if(!b)a=this.getDataMgr().mapList(a).mapped;for(var e=[],f=[],g=0,h=a.length,p=this.getIdKey(),k,o=this._map;g<h;g++)o.hasOwnProperty((k=a[g])[p])?e.push(k):f.push(k);return{checked:e,unchecked:f}};a.isCheckedAll=function(){return this._count!==0&&this._count===this.getAllData().length?!0:!1};a.removeChecked=function(){return this.getDataMgr().removeList(this.getCheckList())};a._getMaster=function(){this._master=
$(document.getElementById(this.mid+"h"))};a._getChecks=function(a){for(var b=a.length,e=[],f=0,g=this.getColMgr().getIdxByKey(this._key);f<b;f++)e.push(a[f].childNodes[g].childNodes[0]);return e};a.getCheckboxes=function(){return this._getChecks(this.getView().getRenderedRows())};a.getCheckboxById=function(a){if(a=this.getView().getRowById(a))return a.childNodes[this.getColMgr().getIdxByKey(this._key)].childNodes[0]};a.getCheckbox=function(a){return this.getCheckboxById(this.getDataMgr().getId(a))};
a.getCheckboxByIdx=function(a){return this.getCheckboxById(this.getDataMgr().getIdByIdx(a))};a._onRemoveDatarow=function(a){this.uncheck(a,!0);this.enable(a,!0)};a._onRemoveDatalist=function(a){for(var b=0,e=a.length;b<e;b++)this.uncheck(a[b],!0),this.enable(a[b],!0)};a._onIdChange=function(a,b,e){var f=this._map,g=this.disabledmap;f.hasOwnProperty(b)&&(delete f[b],f[e]=a);g.hasOwnProperty(b)&&(delete g[b],g[e]=a)};a._onIdListChange=function(a,b,e){for(var f=0,g=a.length,h=this._map,p=this.disabledmap,
k,o;f<g;f++)k=a[f],o=b[f],h.hasOwnProperty(o)&&(delete h[o],h[k[e]]=k),p.hasOwnProperty(o)&&(delete p[o],p[k[e]]=k)};a._keydownColSel=function(a,b,e){a.preventDefault();if(b&&e){var a=this.isChecked(e.getDatarow(),!0),f,e=this.getDataList();if(this._isRadio)for(f in b){if(b.hasOwnProperty(f)&&f!=="length"){this.check(e[f],!0);break}}else for(f in b)b.hasOwnProperty(f)&&f!=="length"&&(a?this.uncheck(e[f],!0):this.check(e[f],!0))}};a._onRenderHeader=function(a){a.push("<input id='"+this.mid+"h' type='checkbox' tabIndex='-1' onclick='JGM.m.CheckManager."+
this.mid+".toggleCheckAll();' class='"+this._cssClass+" "+this._cssClassMaster+"' mid='"+this.mid+"'");this.isCheckedAll()&&a.push(" checked='checked'");this._disabled&&a.push(" disabled='disabled'");a.push("/>")};a._onRenderCell=function(a,b,e,f,g){g.push("<input tabIndex='-1' onclick=\"JGM.m.CheckManager."+this.mid+".toggleById('"+e[this.getIdKey()]+"')\" type='"+(this._isRadio?"radio":"checkbox")+"' class='"+this._cssClass+"' mid='"+this.mid+"'");this._name&&g.push(" name='"+this._name+"'");this.isChecked(e,
!0)&&g.push(" checked='checked'");(this._disabled||this.isDisabled(e,!0))&&g.push(" disabled='disabled'");g.push("/>")};a.disableAll=function(){if(!this._disabled)this._disabled=!0,this._hasMaster&&this._master.attr("disabled","disabled"),$(this.getCheckboxes()).attr("disabled","disabled")};a.enableAll=function(){if(this._disabled)this._disabled=!1,this._hasMaster&&this._master.removeAttr("disabled"),$(this.getCheckboxes()).removeAttr("disabled")};g._check=function(a){a&&Util$.safe$(a).attr("checked",
"checked")};g._uncheck=function(a){a&&Util$.safe$(a).removeAttr("checked")};g.disableNode=function(a){a&&Util$.safe$(a).attr("disabled","disabled")};g.enableNode=function(a){a&&Util$.safe$(a).removeAttr("disabled")};g._setCheck=function(a,b){b?g._check(a):g._uncheck(a)}})();jx.grid.Collapser={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.collapser=this;this._options=h._extend({key:void 0,colDef:{key:"collapser",width:120,name:" ",noSearch:!0},colIdx:0,urlCollapsed:this.grid._options.imageUrl+"collapsed.png",urlCollapsedHover:this.grid._options.imageUrl+"collapsed-hover.png",urlExpanded:this.grid._options.imageUrl+"expanded.png",urlExpandedHover:this.grid._options.imageUrl+"expanded-hover.png",width:6,padding:5,classCollapser:"jgrid-collapser",classCollapsed:"collapsed",
classExpanded:"expanded",classIndent:"indent",classMasterCollapser:"master",indentSize:12,beginCollapsed:!1,CheckManager:void 0,Tree:void 0},a.options);if(this._options.CheckManager)this.checkMgr=h.create("CheckManager",{grid:this.grid,options:this._options.CheckManager}),delete this._options.CheckManager,f.isNull(this._options.key)&&this._options.colIdx++;this._tree=new b({list:this.grid.dataMgr.all,options:this._options.Tree})}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");
goog.getObjectByName("jx.grid.BaseModule");var b=goog.getObjectByName("jx.struct.Tree");goog.exportSymbol("jx.grid.Collapser",g);g.getInstance=function(a){return new g(a)};var a=g.prototype;a.__init=function(){f.isNull(this._options.key)&&this.grid.colDefMgr.addAt(this._options.colIdx,this._options.colDef);this._makeTree();this._filterRefresh();this.key=f.isNull(this._options.key)?this._options.colDef.key:this._options.key;this.bindEvents()};a.bindEvents=function(){var a=this.key,b;b={onAfterFilter:this._onAfterFilter,
onCreateCss:this._onCreateCss,onDestroy:this._destroy,onAfterSetDatalist:this._onAfterSetDatalist,onAddDatarow:this._onAddDatarow,onAddDatalist:this._onAddDatalist,onUpdateDatarow:this._onUpdateDatarow,onUpdateDatalist:this._onUpdateDatalist,onRemoveDatarow:this._onRemoveDatarow,onRemoveDatalist:this._onRemoveDatalist,onRenderHeadersComplete:this._getMaster};b["onRenderHeader_"+a+"_prepend"]=this._onRenderHeader;b["clickHeaderValid_"+a]=this._clickHeaderValid;b["onRenderCell_"+a+"_prepend"]=this._onRenderCell;
b["dblclickCanvas_"+a]=this._dblclickCanvas;b["keydownColSel_"+a+"_"+f.keyMapKeydown.space]=this._keydownColSel;if(f.isNotNull(this.checkMgr))b.onCheckChange=this._onCheckChange;this.grid.event.bind(b,this)};a._destroy=function(){h._destroy(this,{name:"Collapser",path:"collapser",module:"_tree",$:"_master",property:"checkMgr",map:"_options"})};a._onCreateCss=function(){var a="#"+this.grid.mid+" .",b=this._options,e=a+this.grid.view._options.classRow+" .",g=a+b.classCollapser,i=g+"."+b.classExpanded,
h=g+"."+b.classCollapsed,p=this.grid.view._getRowInnerHeight(),k=[],o=this.grid.header;k.push(a+b.classIndent+"{height:"+p+"px;float:left;}");k.push(g+"{width:"+b.width+"px;float:left;padding:0 "+b.padding+"px}");k.push(e+b.classCollapser+"{height:"+p+"px}");k.push(i+"{background:url("+b.urlExpanded+") no-repeat center transparent}");k.push(i+":hover{background:url("+b.urlExpandedHover+") no-repeat center transparent}");k.push(h+"{background:url("+b.urlCollapsed+") no-repeat center transparent}");
k.push(h+":hover{background:url("+b.urlCollapsedHover+") no-repeat center transparent}");f.isNotNull(o)&&k.push(a+o._options.classColHeader+" ."+b.classCollapser+"{height:"+o._options.height+"px}");return k.join("")};a._onAfterSetDatalist=function(){this._tree.destroy();this._tree=new b({list:this.grid.dataMgr.all,options:this._options.Tree});this._makeTree()};a._onAddDatarow=function(a){a=this._tree.createNode(a);a._collapsed=this._options.beginCollapsed;a._shown=f.isNotNull(a.parent)&&(a.parent===
a.tree.root||a.parent._shown&&!a.parent._collapsed)?!0:!1;f.isNotNull(a.parent)&&a.parent.children.length===1&&this.grid.view.rerenderCellByIdAndKey(this.grid.dataMgr.getId(a.parent.data),this.key);a._collapsed===!0||a._shown===!1?a.traverseChildren({fn:function(){this._shown=!1}}):a.traverseChildren({fn:function(a){f.isNotNull(this.parent)&&(this.parent===this.tree.root||this.parent._shown&&!this.parent._collapsed)?this._shown=!0:(a.propagate=!1,this.traverse({fn:function(){this._shown=!1}}))}});
this.grid.event.trigger("onCollapserTreeChange",!1,!0)};a._onAddDatalist=function(a){for(var b=0,e=a.length,g=this._tree,i=g.root,h=this._options.beginCollapsed,p=this.key,k=this.grid.view,o=this.grid.dataMgr,l,m=[],n;b<e;b++)l=g.createNode(a[b]),l._collapsed=h,f.isNotNull(l.parent)&&l.parent.children.length===1&&m.push(l.parent.data);if(k!==void 0){b=0;for(e=m.length;b<e;b++)k.rerenderCellByIdAndKey(o.getId(m[b]),p)}i.traverseChildren({fn:function(a){n=this.parent;f.isNotNull(n)&&(n===i||n._shown&&
!n._collapsed)?this._shown=!0:(a.propagate=!1,this.traverse({fn:function(){this._shown=!1}}))}});this.grid.event.trigger("onCollapserTreeChange",!1,!0)};a._onUpdateDatarow=function(a,b,e){var g=this._tree,i=g._options.nodeKey,h=g._options.parentKey,p;b.hasOwnProperty(i)&&(p=g.getNodeByNodeId(e[i]),g.changeNodeId(p,e[i],b[i]),this.grid.event.trigger("onCollapserTreeChange",!1,!0));b.hasOwnProperty(h)&&(f.isNull(p)&&(p=g.getNode(a)),g.changeParentId(p,e[h],b[h]),this.grid.event.trigger("onCollapserTreeChange",
!1,!0))};a._onUpdateDatalist=function(a,b,e){for(var b=this._tree,g=b._options.nodeKey,i=b._options.parentKey,h,p,k,o=[],l=[],m=0,n=a.length;m<n;m++)h=e[m],p=a[m],k=void 0,h.hasOwnProperty(g)&&(f.isNull(k)&&(k=b.getNodeByNodeId(h[g])),o.push({node:k,before:h[g],newId:p[g]})),h.hasOwnProperty(i)&&(f.isNull(k)&&(k=b.getNode(p)),l.push({node:k,before:h[i],newId:p[i]}));a=o.length;e=l.length;if(a+e!==0){if(a+e>10)b.reattach();else{for(m=0;m<a;m++)g=o[m],b.changeNodeId(g.node,g.before,g.newId);for(m=0;m<
e;m++)g=l[m],b.changeParentId(g.node,g.before,g.newId)}this.grid.event.trigger("onCollapserTreeChange",!1,!0)}};a._onRemoveDatarow=function(a){this._tree.destroyNodeByData(a);this.grid.event.trigger("onCollapserTreeChange",!1,!0)};a._onRemoveDatalist=function(a){for(var b=0,e=a.length,f=this._tree;b<e;b++)f.destroyNodeByData(a[b]);this.grid.event.trigger("onCollapserTreeChange",!1,!0)};a._onAfterFilter=function(a,b){var e=this._tree;if(b.length>0){var g=this.grid.dataMgr,h=a.length,j=g._idToIdx,p=
g.idKey,k,o=0,l=function(e){f.isNotNull(this.parent)?(k=this.parent.data,f.isNotNull(k)&&!g.has(k)&&(a.push(k),b.remove(k),j[k[p]]=-1)):e.stop=!0};g._reidx();for(e.reattach();o<h;o++)e.getNode(a[o]).traverse({up:!0,fn:l});e.reattach(a);e.sortList(a);this.grid.event.trigger("onCollapserTreeChange",!1,!0)}else e.reattach(a),this.grid.event.trigger("onCollapserTreeChange",!1,!0),this._filter(a,b)};a._filter=function(a,b){a.length=0;this._tree.root.traverseChildren({fn:function(){this._shown?a.push(this.data):
b.push(this.data)}})};a.toggleById=function(a){if(f.isNotNull(a))return this.toggleCollapse(this._tree.getNode(this.grid.dataMgr.getById(a)))};a.toggle=function(a){return this.toggleById(this.grid.dataMgr.getId(a))};a.toggleByIdx=function(a){return this.toggleById(this.grid.dataMgr.getIdByIdx(a))};a._clickHeaderValid=function(a){if(f.hasTagAndClass(a.target,"DIV",this._options.classCollapser))return!1};a._dblclickCanvas=function(a,b){f.hasTagAndClass(a.target,"DIV",this._options.classCollapser)||
this.toggleCollapse(this._tree.getNode(b.getDatarow()))};a._keydownColSel=function(a,b,e){a.preventDefault();if(f.isNotNullAnd(b,e)){var a=this._tree,e=a.getNode(e.getDatarow())._collapsed,g=this.grid.dataMgr.datalist,h,j;for(j in b)b.hasOwnProperty(j)&&j!=="length"&&(h=a.getNode(g[j]),e?this.expand(h):this.collapse(h));this._filterRefresh()}};a._makeTree=function(){var a=this._tree,b,e;a.__init();e=a.map;a=a.root;if(this._options.beginCollapsed){for(b in e)if(e.hasOwnProperty(b))e[b]._collapsed=
!0,e[b]._shown=!1;e=a.children;var f=e.length;for(b=0;b<f;b++)e[b]._shown=!0;a._collapsed=!0}else{for(b in e)if(e.hasOwnProperty(b))e[b]._collapsed=!1,e[b]._shown=!0;a._collapsed=!1}this.grid.event.trigger("onCollapserTreeChange",!1,!0)};a._onRenderHeader=function(a){a.push("<div id='"+this.mid+"h' onmousedown='JGM.m.Collapser."+this.mid+".toggleMaster();' class='"+this._options.classCollapser+" "+this._options.classMasterCollapser);this._tree.root._collapsed?a.push(" "+this._options.classCollapsed):
a.push(" "+this._options.classExpanded);a.push("'></div>")};a._onRenderCell=function(a,b,e,g,h){a=this._tree.getNode(e);if(f.isNull(a))return null;e=this.grid.dataMgr.getId(e);b=this._options;h.push("<div class='"+b.classIndent+"' style='width:"+b.indentSize*a.getLevel()+"px;'></div><div ");a.isLeaf()?h.push("class='"+b.classCollapser):(h.push('onmousedown="JGM.m.Collapser.'+this.mid+".toggleById('"+e+"');\" class='"+b.classCollapser),a._collapsed?h.push(" "+b.classCollapsed):h.push(" "+b.classExpanded));
h.push("'></div>")};a.getLevel=function(a){a=this._tree.getNode(a);return f.isNull(a)?null:a.getLevel()};a.collapse=function(a,b){if(!(a._collapsed===!0||a.isLeaf())){a._collapsed=!0;a.traverseChildren({fn:function(a){this._shown=!1;this._collapsed&&(a.propagate=!1)}});var e=this._getCollapser(a.data);e.length>0&&this._setClass(e,!0);if(!b&&a.parent===this._tree.root&&this._tree.root._collapsed===!1)this._setClass(this._master,this._tree.root._collapsed=!0)}};a.expand=function(a,b){if(!(a._collapsed===
!1||a.isLeaf())){a._collapsed=!1;a.traverseChildren({fn:function(a){this._shown=!0;this._collapsed&&(a.propagate=!1)}});var e=this._getCollapser(a.data),f=this._tree;e.length>0&&this._setClass(e,!1);if(!b&&a.parent===f.root){for(var e=f.root.children,g=e.length,h=0;h<g;h++)if(e[h]._collapsed)return;this._setClass(this._master,f.root._collapsed=!1)}}};a._setClass=function(a,b){if(!f.isNull(a)){var e=this._options;b?a.addClass(e.classCollapsed).removeClass(e.classExpanded):a.addClass(e.classExpanded).removeClass(e.classCollapsed)}};
a.toggleMaster=function(){var a=this._tree.root,b=a.children,e=b.length,f=0;if(a._collapsed){for(;f<e;f++)this.expand(b[f],!0);this._setClass(this._master,a._collapsed=!1)}else{for(;f<e;f++)this.collapse(b[f],!0);this._setClass(this._master,a._collapsed=!0)}this._filterRefresh()};a.toggleCollapse=function(a){a=a._collapsed?this.expand(a):this.collapse(a);this._filterRefresh();return a};a._onCheckChange=function(a,b){var e=this._tree.getNode(a),g=this.checkMgr,i=[],j;b?(e.traverseChildren({fn:function(a){g.isChecked(this.data)?
a.propagate=!1:(g._add(this.data),f.isNotNull(j=g.getCheckbox(this.data))&&i.push(j))}}),e.traverseParent({up:!0,fn:function(a){f.isNull(this.data)||g.isChecked(this.data)?a.stop=!0:(g._add(this.data),f.isNotNull(j=g.getCheckbox(this.data))&&i.push(j))}}),h.CheckManager._check($(i)),g._updateMaster()):(e.traverseChildren({fn:function(a){g.isChecked(this.data)?(g._remove(this.data),f.isNotNull(j=g.getCheckbox(this.data))&&i.push(j)):a.propagate=!1}}),e.traverseParent({up:!0,fn:function(a){if(f.isNull(this.data)||
!g.isChecked(this.data))a.stop=!0;else{for(var b=0,c=this.children,d=c.length;b<d;b++)if(g.isChecked(c[b].data)){a.stop=!0;return}g._remove(this.data);f.isNotNull(j=g.getCheckbox(this.data))&&i.push(j)}}}),h.CheckManager._uncheck($(i)))};a._filterRefresh=function(){this._filter(this.grid.dataMgr.datalist,this.grid.dataMgr.failed);this.grid.dataMgr._finish()};a._getCollapser=function(a){if(f.isNull(a))return $([]);a=f.findFirstByTagAndClass(this.grid.view.getCell(this.grid.dataMgr.getIdx(a),this.grid.colDefMgr.getIdxByKey(this.key)),
"DIV",this._options.classCollapser);return a===void 0?$([]):$(a)};a._getMaster=function(){this._master=$(document.getElementById(this.mid+"h"))}})();jx.grid.ColumnGroup={};
(function(){function g(a){this.mid=a.mid;this.grid=a.grid;this.grid.colGroup=this;this._options=h._extend({key:void 0,padColKeys:[],sumColKeys:[],prefix:"합계: ",Collapser:{indentSize:0}},a.options);this._options.Collapser.key=this._options.key;this._parentMap={};this.__init()}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.getObjectByName("jx.grid.Collapser");goog.exportSymbol("jx.grid.ColumnGroup",g);g.getInstance=function(a){return new g(a)};
var b=g.prototype;b.__init=function(){var a=this.grid,b=a.dataMgr,d=this._options;this.bindEvents();a=this.collapser=h.create("Collapser",{grid:a,options:d.Collapser});delete d.Collapser;this._processData(b.all);a.__init();b.refresh()};b.bindEvents=function(){var a;a={onBeforeSetDatalist:this._removeAll,"onAfterSetDatalist onAddDatalist":this._processData,onAddDatarow:this._onAddDatarow,onUpdateDatarow:this._onUpdateDatarow,onUpdateDatalist:this._onUpdateDatalist,onRemoveDatarow:this._onRemoveDatarow,
onRemoveDatalist:this._onRemoveDatalist,onDestroy:this._destroy};if(this._options.sumColKeys.length!==0){var b=this.mid,d=this.grid.dataMgr._consts._notReal,e=0,f,g=this._options.sumColKeys,h=this._options.prefix,p=g.length;for(f=function(a,e,f,g,i){f[d]===b&&i.push(h)};e<p;e++)a["onRenderCell_"+g[e]+"_prepend"]=f;a.onCollapserTreeChange=this._onCollapserTreeChange}this.grid.event.bind(a,this)};b._destroy=function(){h._destroy(this,{name:"ColumnGroup",path:"colGroup",property:"collapser",map:"_parentMap _options"})};
b._processData=function(a){for(var b=a.length,d=this._options.key,e=this._options.padColKeys,g=this.grid.dataMgr,h=g._consts._notReal,j=g.idKey,p=this.collapser,k=p._tree._options.nodeKey,o=p._tree._options.parentKey,l=[],m=0;m<b;m++)this._addData(a[m],d,j,h,k,o,e,l);l.length!==0&&(g.all.pushList(l),g.makeCompositeKeyList(l,!0),g.addListToIdMap(l),f.isNotNull(p)&&p._onAddDatalist(l));return l};b._addData=function(a,b,d,e,f,g,h,p){var k=a[b],o=this._parentMap;o.hasOwnProperty(k)||(b=this._makeParent(a,
b,d,k,e,f,h),p.push(b),o[k]=b);a[f]=a[d];a[g]=this.mid+k};b._makeParent=function(a,b,d,e,f,g,h){var p={},k=0,o=h.length;p[f]=this.mid;p[g]=this.mid+e;p[b]=e;for(p[d]=(this.grid.colDefMgr.getByKey(b).name||b)+": "+e;k<o;k++)p[h[k]]=a[h[k]];return p};b._isParent=function(a){return a[this.grid.dataMgr._consts._notReal]===this.mid};b._removeAll=function(){this._parentMap={}};b._onAddDatarow=function(a){var b=[],d=this._options,e=this.grid.dataMgr,f=this.collapser,g=f._tree._options;this._addData(a,d.key,
e.idKey,e._consts._notReal,g.nodeKey,g.parentKey,d.padColKeys,b);b.length!==0&&(a=b[0],e.all.push(a),e.makeCompositeKey(a,!0),e.addToIdMap(a),f._onAddDatarow(a))};b._onUpdateDatarow=function(a,b,d){if(b.hasOwnProperty(this._options.key)){var e=this._options.key,b=b[e],d=d[e],f=this.mid,e=this.collapser,g=e._tree,h=g._options.parentKey,p={},k={},o=this._parentMap;o.hasOwnProperty(b)||this._onAddDatarow(a);p[h]=f+b;k[h]=f+d;e._onUpdateDatarow(a,p,k);a=g.getNode(o[d]);a.children.length===0&&(this.grid.dataMgr.all.remove(a.data),
delete o[d],e._onRemoveDatarow(a.data))}};b._onUpdateDatalist=function(a,b,d){var e=this._options.key,f=this.mid,g=this.collapser,h=g._tree,p=h._options.parentKey,k,o={};k={};for(var l=[],m=[],n=[],r=0,t=a.length;r<t;r++)k=b[r],k.hasOwnProperty(e)&&(o={},o[p]=f+k[e],l.push(o),k={},k[p]=f+d[r][e],m.push(k),n.push(a[r]));if(n.length!==0){a=this._parentMap;b=[];this._processData(n);g._onUpdateDatalist(n,l,m);r=0;for(t=m.length;r<t;r++)l=m[r][p],a.hasOwnProperty(l)&&(n=h.getNode(a[l]),n.children.length===
0&&(delete a[l],b.push(n.data)));b.length!==0&&(g._onRemoveDatalist(b),this.grid.dataMgr.all.removeList(b))}};b._onRemoveDatarow=function(a){this._isParent(a)?delete this._parentMap[a[this._options.key]]:(a=this.collapser._tree.getNode(a).parent,a.children.length===1&&this.grid.dataMgr.remove(a.data))};b._onRemoveDatalist=function(a){for(var b=0,d=a.length;b<d;b++)this._onRemoveDatarow(a[b])};b._onCollapserTreeChange=function(){for(var a={},b=this._options.sumColKeys,d=b.length,e=0,f=this.grid.dataMgr._consts._notReal,
g=this.mid,h,p,k;e<d;e++)a[b[e]]=0;this.collapser._tree.root.traverseChildren({post:!0,fn:function(){h=this.data;e=0;if(h[f]===g)for(;e<d;e++)p=b[e],h[p]=a[p],a[p]=0;else if(!h.hasOwnProperty(f))for(;e<d;e++){if(typeof(k=h[b[e]])==="string")k=k.toFloat();a[b[e]]+=isNaN(k)?0:k}}})}})();jx.grid.DataCreator={};
(function(){function g(a){this.mid=a.mid;this._ctnr=a.container;this.grid=a.grid;this.grid.creator=this;this._options=h._extend({background:"#dfdfdf",borderThickness:0,border:"solid #D6D6D6",inputBorder:"solid #A7A7A7",inputBorderThickness:1,inputHeight:18,inputMargin:8,nameMargin:2,font:"12px Arial,Helvetica,sans-serif",height:28,padding:3,classCreatorIcon:"creator-icon",creatorIconUrl:this.grid._options.imageUrl+"data-creator-icon.png",creatorIconWidth:13,creatorIconHeight:13,classCreator:"data-creator",
classColName:"data-creator-name",inputBorderRadius:3},a.options);this._inputMap={};this.__init()}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.DataCreator",g);g.getInstance=function(a){return new g(a)};var b=g.prototype;b.__init=function(){this._creator=$("<div class='"+this._options.classCreator+"'>").appendTo(this._ctnr);this.bindEvents()};b.bindEvents=function(){this.grid.event.bind({onRenderModules:this._onRenderModules,
onCreateCss:this._onCreateCss,onDestroy:this._destroy},this)};b._onCreateCss=function(){var a="#"+this.grid.mid+" .",b=this._options,d=[];d.push(a+b.classCreator+"{"+h._CONST._cssUnselectable+"float:left;width:100%;padding-left:8px;background:"+b.background+";border-top:"+(b.borderThickness+"px "+b.border)+";font:"+b.font+"}");d.push(a+b.classCreator+" button{float:left;margin:"+b.padding+"px "+b.padding+"px 0 0;height:"+(b.height-2*b.padding)+"px}");d.push(a+b.classCreator+" input{float:left;padding:0;margin-top:"+
(b.height-b.inputHeight-2*b.inputBorderThickness)/2+"px;height:"+b.inputHeight+"px;border:"+b.inputBorderThickness+"px "+b.inputBorder+";border-radius:"+b.inputBorderRadius+"px;-moz-border-radius:"+b.inputBorderRadius+"px}");d.push(a+b.classCol+"{float:left;overflow:hidden;white-space:nowrap;line-height:"+b.height+"px;margin-right:"+b.inputMargin+"px}");d.push(a+b.classColName+"{float:left;margin-right:"+b.nameMargin+"px}");d.push(a+b.classCreatorIcon+"{background:url("+b.creatorIconUrl+") no-repeat center;width:"+
b.creatorIconWidth+"px;height:"+b.creatorIconHeight+"px}");return d.join("")};b._onRenderModules=function(){for(var a=[],b=this.grid.colDefMgr.getAll(),d=b.length,e,g=this._options,h=g.classCol,j=g.classColName,p=this,k=this._creator,o=this._inputMap,l=0,m=function(a){a.which===f.keyMapKeydown.enter&&p._addData()};l<d;l++)e=b[l],e.inputOnCreate===!0&&a.push("<div key='"+e.key+"' class='"+h+"'><div class='"+j+"'>"+e.name+"</div><input type='text' value='"+f.ifNull(e.defaultValue,"")+"' style='width:"+
e.width+"px'/></div>");k[0].innerHTML=a.join("")+"<button type='button' onclick='JGM.m.DataCreator."+this.mid+"._addData()'>등록</button><button type='button' onclick='JGM.m.DataCreator."+this.mid+"._reset()'>초기화</button>";for(l=0;l<d;l++)e=b[l],e.inputOnCreate===!0&&(o[e.key]=k.find("div[key='"+e.key+"'] input").keyup(m));f.isNotNull(this.grid.menubar)&&(this.grid.menubar.addIcon(g.classCreatorIcon,"데이터 로우를 추가합니다.",g.creatorIconWidth,g.creatorIconHeight,function(){k.toggle("fast")}),k.hide())};b._addData=
function(){var a,b=this._inputMap,d=this.grid.colDefMgr,e={},f=d.getAll(),g=f.length,h=0;for(a in b)b.hasOwnProperty(a)&&d.getByKey(a);for(;h<g;h++)d=f[h],a=d.key,b.hasOwnProperty(a)?e[a]=b[a][0].value:d.defaultValue!==void 0&&(e[a]=d.defaultValue);this.grid.event.trigger("onAfterDataCreate",[e],!0);this.grid.dataMgr.add(e,{isNew:!0})};b._reset=function(){var a,b=this.grid.colDefMgr,d,e=this._inputMap;for(a in e)if(e.hasOwnProperty(a)&&(d=b.getByKey(a),d.defaultValue!==void 0))e[a][0].value=d.defaultValue};
b._destroy=function(){var a,b=this._inputMap;for(a in b)b.hasOwnProperty(a)&&h._delete$(b,a);h._destroy(this,{name:"DataCreator",path:"creator",$:"_creator",map:"_inputMap _options"})}})();jx.grid.SearchManager={};
(function(){function g(a){this.mid=a.mid;this._ctnr=a.container;this.grid=a.grid;this.grid.search=this;this._options=h._extend({background:"#f0f0f0",borderThickness:1,border:"solid #d6d6d6",inputBorder:"1px solid #A7A7A7",inputPadding:0,searchbarAlign:"center",searchbarMargin:3,searchbarWidth:"99%",searchbarHeight:20,tagsHeight:26,tagsPadding:2,tagsBorderRadius:3,advButtonColor:"#123272",advButtonFont:"bold 12px Arial,Helvetica,sans-serif",advButtonPadding:5,advButtonBg:"",advButtonBgHover:"url("+
this.grid._options.imageUrl+"more-options-bg-hover.png) repeat-x scroll center",advButtonBgActive:"url("+this.grid._options.imageUrl+"more-options-bg-active.png) repeat-x scroll center",advButtonBgOpened:"url("+this.grid._options.imageUrl+"more-options-bg-opened.png) repeat-x scroll center",advButtonBorderThickness:1,advButtonBorder:"solid transparent",advButtonBorderHover:"solid #a4a4a4",advButtonBorderActive:"solid #c5c5c5",advButtonBorderOpened:"solid #bfbfbf",advButtonIconWidth:9,advButtonIconMargin:2,
advButtonIconUrl:this.grid._options.imageUrl+"more-options.png",advButtonIconCloseUrl:this.grid._options.imageUrl+"more-options-close.png",tagPadding:2,tagBorder:"solid #93979D",tagBorderThickness:1,tagFont:"bold 13px Arial",tagColor:"#282853",tagBackground:"url("+this.grid._options.imageUrl+"tag-background.png) repeat-x scroll center",tagRemoveIconWidth:12,tagRemoveIconUrl:this.grid._options.imageUrl+"tag-close.png",tagRemoveIconHoverUrl:this.grid._options.imageUrl+"tag-close-hover.png",advFont:"11px Arial",
advInputWidth:30,classMask:"search-mask",classSearchbar:"search-bar",classAdvButtonName:"more-option-name",classAdvButton:"more-options",classAdvButtonIcon:"more-icon",classClearTags:"clear-tags",classTagbar:"search-tags",classTag:"search-tag",classTagName:"search-tag-name",classRemoveTag:"search-tag-remove",classAdvanced:"search-advanced",classOptionCol:"search-option-col",classOption:"search-option",classSearchIcon:"search-icon",searchIconUrl:this.grid._options.imageUrl+"search-icon.png",searchIconWidth:15,
searchIconHeight:15,keyMap:void 0,tagRemoveIconActiveUrl:this.grid._options.imageUrl+"tag-close-active.png",syncMaster:!1},a.options);this._filterMap={};this._tagMap={};this._nameMap={};this._codeMap={};this._global=[];this._globalMap={};this._keyToName={};this.__init()}var h=goog.getObjectByName("jx.grid"),f=goog.getObjectByName("jx.util");goog.getObjectByName("jx.grid.BaseModule");goog.exportSymbol("jx.grid.SearchManager",g);var b=g.prototype;b._onCreateCss=function(){var a="#"+this.grid.mid+" .",
b=this._options,c=b.borderThickness+"px "+b.border,d="border-radius:"+b.tagsBorderRadius+"px;-moz-border-radius:"+b.tagsBorderRadius+"px",e=b.advButtonBorderThickness+"px "+b.advButtonBorder,f=b.advButtonBorderThickness+"px "+b.advButtonBorderHover,g=b.advButtonBorderThickness+"px "+b.advButtonBorderActive,i=b.advButtonBorderThickness+"px "+b.advButtonBorderOpened,j=b.tagsHeight-2*b.tagsPadding,k=j-2*b.advButtonBorderThickness,l=j-2*b.tagBorderThickness,m=a+b.classMask,n=a+b.classSearchbar,o=a+b.classAdvButton,
q=a+b.classRemoveTag,p=[];p.push(m+"{"+h._CONST._cssUnselectable+"overflow:hidden;width:100%;background:"+b.background+"}");p.push(m+" button{margin:0;padding:0 3px}");p.push(m+" input{border:"+b.inputBorder+";padding:"+b.inputPadding+"}");p.push(n+"{text-align:"+b.searchbarAlign+";border-bottom:"+c+"}");p.push(n+" input{width:"+b.searchbarWidth+";margin:"+b.searchbarMargin+"px 0;height:"+b.searchbarHeight+"px;"+d+"}");p.push(a+b.classTagbar+"{cursor:default;height:"+(b.tagsHeight-b.tagsPadding)+
"px;padding:"+b.tagsPadding+"px 0 0 "+b.tagsPadding+"px;border-bottom:"+c+"}");p.push(o+"{float:left;margin-right:"+b.tagsPadding+"px;background:"+b.advButtonBg+";border:"+e+";padding:0 "+b.advButtonPadding+"px;"+d+"}");p.push(o+":hover{background:"+b.advButtonBgHover+";border:"+f+"}");p.push(o+".opened{background:"+b.advButtonBgOpened+";border:"+i+"}");p.push(o+":active{background:"+b.advButtonBgActive+";border:"+g+"}");p.push(a+b.classAdvButtonName+"{float:left;color:"+b.advButtonColor+";font:"+
b.advButtonFont+";line-height:"+k+"px}");p.push(a+b.classAdvButtonIcon+"{float:left;height:"+k+"px;margin-left:"+b.advButtonIconMargin+"px;background:url("+b.advButtonIconUrl+") no-repeat center;width:"+b.advButtonIconWidth+"px}");p.push(o+".opened ."+b.classAdvButtonIcon+"{background:url("+b.advButtonIconCloseUrl+") no-repeat center}");p.push(a+b.classTag+"{float:left;border:"+b.tagBorderThickness+"px "+b.tagBorder+";margin:0 "+b.tagsPadding+"px "+b.tagsPadding+"px 0;padding:0 "+b.tagPadding+"px;background:"+
b.tagBackground+";"+d+"}");p.push(a+b.classTagName+"{float:left;color:"+b.tagColor+";font:"+b.tagFont+";line-height:"+l+"px}");p.push(q+"{float:left;margin-left:"+b.tagPadding+"px;background:url("+b.tagRemoveIconUrl+") no-repeat center;width:"+b.tagRemoveIconWidth+"px;height:"+l+"px}");p.push(q+":hover{background:url("+b.tagRemoveIconHoverUrl+") no-repeat center}");p.push(q+":active{background:url("+b.tagRemoveIconActiveUrl+") no-repeat center}");p.push(a+b.classClearTags+"{height:"+j+"px}");p.push(a+
b.classAdvanced+"{cursor:default;font:"+b.advFont+";border-bottom:"+c+"}");p.push(a+b.classOptionCol+"{display:inline-block;vertical-align:top}");p.push(a+b.classOptionCol+" input{width:"+b.advInputWidth+"px;margin-right:2px;"+d+"}");p.push(a+b.classSearchIcon+"{background:url("+b.searchIconUrl+") no-repeat center;width:"+b.searchIconWidth+"px;height:"+b.searchIconHeight+"px}");return p.join("")};g.getInstance=function(a){return new g(a)};b.__init=function(){var a=this._options,b=this,c,d,e;c=this._mask=
$("<div class='"+a.classMask+"'>").prependTo(this._ctnr);this._search=$("<div class='"+a.classSearchbar+"'><input type='text'/></div>").appendTo(c);this._masterInput=this._search.children(":eq(0)").keyup(function(a){a.which===f.keyMapKeydown.enter?b._parse($(this)[0].value):a.which===f.keyMapKeydown.esc&&b._removeAllOptions()});d=this._hasFilter=this.grid.colDefMgr.get().some(function(a){return f.isNotNull(a.filter)});e=this._tag=$("<div class='"+a.classTagbar+"'>"+(d?"<div class='"+a.classAdvButton+
"'><div class='"+a.classAdvButtonName+"'>추가 옵션</div><div class='"+a.classAdvButtonIcon+"'></div></div>":"")+"<button type='button' class='"+a.classClearTags+"' onclick='JGM.m.SearchManager."+this.mid+"._removeAllOptions()'>모든 필터 제거</button></div>").appendTo(c);if(d){var g=this._adv=$("<div class='"+a.classAdvanced+"'>").appendTo(c).hide().keyup(function(a){if(a.which===f.keyMapKeydown.enter){var c=a.target.getAttribute("key");b._registerOption(c,b._keyToName[c],a.target.getAttribute("tag"),a.target.value);
a.target.value=""}});this._advButton=e.children(":eq(0)").click(function(){$(this).toggleClass("opened");g.toggle("fast")})}this.grid.event.bind({onRenderModules:this._onRenderModules,onCreateCss:this._onCreateCss,onFilter:this._onFilter,onDestroy:this._destroy,onAfterRenderModules:this._onAfterRenderModules},this)};b._onRenderModules=function(){var a=[],b=this._options,c=this._mask;if(this._hasFilter){for(var d=this.grid.colDefMgr.get(),e=d.length,g=b.keyMap,h=this._nameMap,i=this._keyToName,j,k,
l,m=0;m<e;m++)if(j=d[m],f.isNotNull(j.filter))l=j.key,k=f.isNull(g)||!g.hasOwnProperty(l)?j.name||l:g[l],h[k]=l,i[l]=k,a.push("<div class='"+b.classOptionCol+"'>"),this._registerFilter(l,k,j.name,j.filter,a),a.push("</div>");this._adv[0].innerHTML=a.join("")}f.isNotNull(this.grid.menubar)&&(this.grid.menubar.addIcon(b.classSearchIcon,"데이터 검색을 합니다.",b.searchIconWidth,b.searchIconHeight,function(){c.toggle("fast")}),c.hide())};b._onAfterRenderModules=function(){var a=this._filterMap,b,c,d,e,f=this._adv;
for(c in a)if(a.hasOwnProperty(c))for(d in b=a[c],b)if(b.hasOwnProperty(d)&&d!=="andor"&&d!=="parser"&&d!=="validator")(e=b[d]).input=f.find("#"+c+e.option.name)};b._destroy=function(){var a,b,c,d=this._globalMap,e=this._filterMap,f=this._tagMap;for(a in d)d.hasOwnProperty(a)&&(h._delete$(d[a],"tag"),h._deleteArray(d[a],"list"));for(a in e)if(e.hasOwnProperty(a)){d=e[a];for(b in d)d.hasOwnProperty(b)&&(b!=="andor"&&b!=="parser"&&b!=="validator"&&h._delete$(d[b],"input"),h._deleteMap(d,b));h._deleteMap(e,
a)}for(a in f)if(f.hasOwnProperty(a)){e=f[a];for(b in e)if(e.hasOwnProperty(b)){d=e[b];for(c in d)d.hasOwnProperty(c)&&(h._delete$(d[c],"tag"),h._deleteMap(d,c));h._deleteMap(e,b)}h._deleteMap(f,a)}h._destroy(this,{name:"SearchManager",path:"search",$:"_masterInput _advButton _mask _search _tag _adv",property:"_ctnr _hasFilter",array:"_global",map:"_globalMap _filterMap _tagMap _codeMap _nameMap _options _keyToName"})};b._onFilter=function(a,b){if(!(this._global.length===0&&f.isEmptyObj(this._codeMap))){var c,
d=this._tagMap,e,g,h=a.length,i,j=this._filterMap,k=this.constructor.CONST.and,l,m=this._global.length>0,n,o;if(m){var p=this._global,q;i=this.grid.colDefMgr.get().filter(function(a){return!a.noSearch});var r=i.length,t=[];for(n=0;n<r;n++)t.push(i[n].key)}n=h-1;a:for(;n>=0;n--){h=a[n];if(m){i=p.slice();c=0;for(;i.length!==0&&c<r;c++)if(!f.isNull(q=h[t[c]])){f.isString(q)||(q=q.toString());for(o=i.length-1;o>=0;o--)q.indexOf(i[o])!==-1&&i.removeAt(o)}if(i.length!==0){a.removeAt(n);b.push(h);continue a}}for(e in d)if(d.hasOwnProperty(e))if(o=
d[e],c=j[e].andor,i=h[e],c===k)for(g in o){if(o.hasOwnProperty(g))for(l in c=o[g],c)if(c.hasOwnProperty(l)&&!c[l].fn(i)){a.removeAt(n);b.push(h);continue a}}else{for(g in o)if(o.hasOwnProperty(g))for(l in c=o[g],c)if(c.hasOwnProperty(l)&&c[l].fn(i))continue a;a.removeAt(n);b.push(h);continue a}}}};b._registerFilter=function(a,b,c,d,e){if(!this._filterMap.hasOwnProperty(a)){if(d==="number")d=this.constructor._numberFilter;else if(d==="string")d=this.constructor._stringFilter;var f,g=d.length,h=0,i=
this.mid,j=this._options.classOption,k,l,m,n;k=this._filterMap[a]={andor:this.constructor.CONST.and};l=this._tagMap[a]={};for(e.push("<table>");h<g;h++)f=d[h],n=f.name,n==="parser"?k.parser=f.fn:n==="validator"?k.validator=f.fn:(m=f.tag,k[m]={option:f},l[m]={},e.push("<tr title='"+f.comment(c,"입력값")+"'><td><div class='"+j+"'>"+c+" "+m+"</td><td><input id='"+a+n+"' key='"+a+"' tag='"+m+"' type='text'><button type='button' onclick=\"JGM.m.SearchManager."+i+"._registerOption('"+a+"','"+b+"','"+m+"',this.previousSibling.value)\">등록</button></div></td></tr>"));
e.push("</table>")}};b._parse=function(a){for(var b,c,d,e,g=f.split(a),h=g.length,i=2,j=!1,k=[],l=this._nameMap,m=this._filterMap,n=0;n<h;n++)if(a=g[n],a!=="")switch(i){case 0:m[b].hasOwnProperty(a)&&(d=a,i=1);break;case 1:e=a;i=2;break;case 2:a.charAt(0)==="@"?(a=a.substring(1),l.hasOwnProperty(a)?(f.isNotNullAnd(b,c,d,e)&&this._registerOption(b,c,d,e,!0)&&(j=!0),b=l[a],c=a,e=d=void 0,i=0):f.isNull(b)?k.push(a):e+=" "+a):f.isNull(b)?k.push(a):e+=" "+a}f.isNotNullAnd(b,c,d,e)&&this._registerOption(b,
c,d,e,!0)&&(j=!0);this._registerGlobal(k)&&(j=!0);this._syncMasterInput();j&&this.grid.dataMgr.refresh()};b._syncMasterInput=function(){if(this._options.syncMaster){var a=this._global.join(" "),b=this._tagMap,c=this._keyToName,d,e,f,g,h;for(d in b)if(b.hasOwnProperty(d))for(e in g=b[d],g)if(g.hasOwnProperty(e))for(f in h=g[e],h)h.hasOwnProperty(f)&&(a+=" @"+c[d]+" "+e+" "+f);this._masterInput[0].value=$.trim(a)}else this._masterInput[0].value=""};b._registerGlobal=function(a){for(var b=0,c=a.length,
d=this._global;b<c;b++)d.indexOf(a[b])!==-1?a.removeAt(b--):d.push(a[b]);if(a.length===0)return!1;b=this._options;this._globalMap[a[0]]={tag:$("<div class='"+b.classTag+"' title='"+a.join(", ")+" 를 포함하는'><div class='"+b.classTagName+"'>"+a.join(" ")+"</div><div class='"+b.classRemoveTag+"' title='필터 제거' onclick=\"JGM.m.SearchManager."+this.mid+"._removeGlobal('"+a[0]+"')\"></div></div>").appendTo(this._tag),list:a};return!0};b._removeGlobal=function(a){var b=this._globalMap;if(b.hasOwnProperty(a)){var c=
b[a];c.tag.remove();delete c.tag;this._global.removeList(c.list);c.list.length=0;delete c.list;delete b[a];this._syncMasterInput();this.grid.dataMgr.refresh()}};b._registerOption=function(a,b,c,d,e){var h=this._filterMap,i,j=this._codeMap;if(h.hasOwnProperty(a)&&(i=h[a]).hasOwnProperty(c)){h=i[c];if(f.isNull(d)){var k=h.input,d=$.trim(k.val());k.val("")}else d=$.trim(d);if(d.length===0)return!1;f.isNotNull(i.parser)&&(d=i.parser(d));if(j.hasOwnProperty(a+"@T"+c+"@B"+d))return!1;if(f.isNotNull(i.validator)&&
!i.validator(d))return!1;h=h.option;i=i.andor}else return!1;k=this._tagMap[a];if(k[c].hasOwnProperty(d))return!1;var l,m,n,o,p=this._filterMap[a],q;for(n in k)if(k.hasOwnProperty(n))for(o in l=k[n],l)l.hasOwnProperty(o)&&(q=l[o],m=f.isNotNull(p.parser)?p.parser(o):o,g._checkDisable(h.type,q.option.type,i,d,m)&&(delete j[a+"@T"+q.option.tag+"@B"+m],q.tag.remove(),delete q.tag,delete q.option,delete q.fn,delete l[o]));j[a+"@T"+c+"@B"+d]=!0;this._createTag(a,h,d,b);e||(this._syncMasterInput(),this.grid.dataMgr.refresh());
return!0};b._removeOption=function(a,b,c){var d=this._tagMap,e,f;if(d.hasOwnProperty(a)&&(e=d[a]).hasOwnProperty(b)&&(f=e[b]).hasOwnProperty(c))d=f[c],d.tag.remove(),delete d.tag,delete d.option,delete d.fn,delete f[c],delete this._codeMap[a+"@T"+b+"@B"+c],this._syncMasterInput(),this.grid.dataMgr.refresh()};b._removeAllOptions=function(){var a,b=this._globalMap,c,d=this._tagMap,e,f,g;for(a in b)if(b.hasOwnProperty(a))c=b[a],c.tag.remove(),delete c.tag,c.list.length=0,delete c.list,delete b[a];this._global.length=
0;for(a in d)if(d.hasOwnProperty(a))for(e in b=d[a],b)if(b.hasOwnProperty(e))for(f in c=b[e],c)c.hasOwnProperty(f)&&(g=c[f],g.tag.remove(),delete g.tag,delete g.option,delete g.fn,delete c[f]);this._codeMap={};this._syncMasterInput();this.grid.dataMgr.refresh()};b._createTag=function(a,b,c,d){var e=this._options;return this._tagMap[a][b.tag][c]={tag:$("<div class='"+e.classTag+"' title='"+b.comment(d,c)+"'><div class='"+e.classTagName+"'>@"+d+" "+b.tag+" "+c+"</div><div class='"+e.classRemoveTag+
"' title='필터 제거' onclick=\"JGM.m.SearchManager."+this.mid+"._removeOption('"+a+"','"+b.tag+"','"+c+"')\"></div></div>").appendTo(this._tag),option:b,fn:b.fn(c)}};var a=g.CONST={lt:0,lte:1,eq:2,neq:3,gt:4,gte:5,and:6,or:7,T:8,F:9},b=a.lt,c=a.gt,d=a.eq,e=a.neq,q=a.and,i=a.or,j=a.T,a=a.F,p=g._comparator={},k=p[b]=function(a,b){return a<=b},o=p[c]=function(a,b){return a>=b},l=p[d]=function(a,b){return a===b},j=p[j]=function(){return!0},m=g._disableMap={},n=m[b]={},r=m[c]={},t=m[d]={},m=m[e]={};p[a]=function(){return!1};
n[b]={};n[b][q]=j;n[b][i]=j;n[c]={};n[c][q]=k;n[c][i]=o;n[d]={};n[d][q]=j;n[d][i]=o;n[e]={};n[e][q]=k;n[e][i]=j;r[b]={};r[b][q]=o;r[b][i]=k;r[c]={};r[c][q]=j;r[c][i]=j;r[d]={};r[d][q]=j;r[d][i]=k;r[e]={};r[e][q]=o;r[e][i]=j;t[b]={};t[b][q]=j;t[b][i]=k;t[c]={};t[c][q]=j;t[c][i]=o;t[d]={};t[d][q]=j;t[d][i]=l;t[e]={};t[e][q]=j;t[e][i]=j;m[b]={};m[b][q]=o;m[b][i]=j;m[c]={};m[c][q]=k;m[c][i]=j;m[d]={};m[d][q]=j;m[d][i]=j;m[e]={};m[e][q]=l;m[e][i]=j;g._checkDisable=function(a,b,c,d,e){try{return this._disableMap[a][b][c](d,
e)}catch(f){return!1}};g._numberFilter=[{name:"gt",tag:">",type:c,comment:function(a,b){return a+" 이(가) "+b+"보다 큰"},fn:function(a){f.isString(a)&&(a=a.toFloat());return function(b){return b>a}}},{name:"gte",tag:">=",type:c,comment:function(a,b){return a+" 이(가) "+b+"보다 크거나 같은"},fn:function(a){f.isString(a)&&(a=a.toFloat());return function(b){return b>=a}}},{name:"lt",tag:"<",type:b,comment:function(a,b){return a+" 이(가) "+b+"보다 작은"},fn:function(a){f.isString(a)&&(a=a.toFloat());return function(b){return b<
a}}},{name:"lte",tag:"<=",type:b,comment:function(a,b){return a+" 이(가) "+b+"보다 작거나 같은"},fn:function(a){f.isString(a)&&(a=a.toFloat());return function(b){return b<=a}}},{name:"eq",tag:"=",type:d,comment:function(a,b){return a+" 이(가) "+b+"인"},fn:function(a){f.isString(a)&&(a=a.toFloat());return function(b){return b===a}}},{name:"neq",tag:"!=",type:e,comment:function(a,b){return a+" 이(가) "+b+"이(가) 아닌"},fn:function(a){f.isString(a)&&(a=a.toFloat());return function(b){return b!==a}}},{name:"contains",
tag:"*=",comment:function(a,b){return a+" 이(가) 숫자 "+b+"를 포함하는"},fn:function(a){a=f.isNumber(a)?a.toString():$.trim(a);return function(b){return b.toString().indexOf(a)!==-1}}},{name:"parser",fn:function(a){return a.toFloat()}},{name:"validator",fn:function(a){return!isNaN(a)}}];g._stringFilter=[{name:"to",tag:"<=",type:b,comment:function(a,b){return a+" 이(가) "+b+"보다 사전에서 이전인"},fn:function(a){a=$.trim(a).toLowerCase();return function(b){return b.toLowerCase()<=a}}},{name:"from",tag:">=",type:c,comment:function(a,
b){return a+" 이(가) "+b+"보다 사전에서 이후인"},fn:function(a){a=$.trim(a).toLowerCase();return function(b){return b.toLowerCase()>=a}}},{name:"equals",tag:"=",type:d,comment:function(a,b){return a+" 이(가) "+b+"와(과) 같은"},fn:function(a){a=$.trim(a).toLowerCase();return function(b){return b.toLowerCase()===a}}},{name:"notEquals",tag:"!=",type:e,comment:function(a,b){return a+" 이(가) "+b+"이(가) 아닌"},fn:function(a){a=$.trim(a).toLowerCase();return function(b){return b.toLowerCase()!==a}}},{name:"startsWith",tag:"^=",
comment:function(a,b){return a+" 이(가) "+b+"(으)로 시작하는"},fn:function(a){var a=$.trim(a).toLowerCase(),b=a.length;return function(c){return c.substr(0,b).toLowerCase()===a}}},{name:"endsWith",tag:"$=",comment:function(a,b){return a+" 이(가) "+b+"(으)로 끝나는"},fn:function(a){var a=$.trim(a).toLowerCase(),b=a.length;return function(c){return c.substr(c.length-b,c.length).toLowerCase()===a}}},{name:"contains",tag:"*=",comment:function(a,b){return a+" 이(가) "+b+"을(를) 포함하는"},fn:function(a){a=$.trim(a).toLowerCase();
return function(b){return b.toLowerCase().indexOf(a)!==-1}}},{name:"containsAny",tag:"|=",comment:function(a,b){return a+" 이(가) "+b+"들 중 하나 이상을 포함하는"},fn:function(a){var a=a.toLowerCase(),b=f.split(a),c=b.length;return c<=1?function(b){return b.toLowerCase().indexOf(a)!==-1}:function(a){for(var a=a.toLowerCase(),d=0;d<c;d++)if(a.indexOf(b[d])!==-1)return!0;return!1}}},{name:"containsAll",tag:"&=",comment:function(a,b){return a+" 이(가) "+b+"들 모두를 포함하는"},fn:function(a){var a=a.toLowerCase(),b=f.split(a),
c=b.length;return c<=1?function(b){return b.toLowerCase().indexOf(a)!==-1}:function(a){for(var a=a.toLowerCase(),d=0;d<c;d++)if(a.indexOf(b[d])===-1)return!1;return!0}}}]})();})();
